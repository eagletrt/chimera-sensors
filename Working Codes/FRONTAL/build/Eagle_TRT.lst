ARM GAS  /tmp/ccqVNF68.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"Eagle_TRT.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.next,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	next:
  25              	.LFB141:
  26              		.file 1 "Src/Eagle_TRT.c"
   1:Src/Eagle_TRT.c **** #include "Eagle_TRT.h"
   2:Src/Eagle_TRT.c **** #include "stm32f4xx_hal_conf.h"
   3:Src/Eagle_TRT.c **** 
   4:Src/Eagle_TRT.c **** /*
   5:Src/Eagle_TRT.c ****  *Driver for all the stm in the Eagle_TRT veichle
   6:Src/Eagle_TRT.c ****  *incude this driver in the main file
   7:Src/Eagle_TRT.c ****  *you can't use all the functions unless you set up the CubeMx project correctly
   8:Src/Eagle_TRT.c **** */
   9:Src/Eagle_TRT.c **** 
  10:Src/Eagle_TRT.c **** //----------------ENCODER----------------//
  11:Src/Eagle_TRT.c **** /*
  12:Src/Eagle_TRT.c ****  *To use encoder functions you have to initialize two timers, one for the clock and one to generate
  13:Src/Eagle_TRT.c ****  *To get the rotational speed of the encoder, you can setup the interrupt timer and call 'encoder_t
  14:Src/Eagle_TRT.c ****  *you have to declare a variable and pass it as argument to the encoder_tim_interrupt() function.
  15:Src/Eagle_TRT.c ****  *The porpouse of that variable is to switch from the three phases needed to calculate the rotation
  16:Src/Eagle_TRT.c ****  *The first and the second phases are to request two angles from the encoder, then third is to calc
  17:Src/Eagle_TRT.c ****  *For the configuration of the first timer go to the description of the read_encoder() function.
  18:Src/Eagle_TRT.c ****  *For the configuration of the second timer you have to configure it to generate an interrupt.
  19:Src/Eagle_TRT.c ****  *That interrupt must be long enough to calculate a speed but not too long because you have to get 
  20:Src/Eagle_TRT.c ****  *
  21:Src/Eagle_TRT.c ****  *working settings:
  22:Src/Eagle_TRT.c ****  *interrupt timer -> prescaler 36, counter period 1000
  23:Src/Eagle_TRT.c ****  *timer2 -> prescaler = 18, counter period = 65500
  24:Src/Eagle_TRT.c ****  *pin PC8 = data in
  25:Src/Eagle_TRT.c ****  *pin PC9 = clock pin
  26:Src/Eagle_TRT.c ****  *angles_array[15]
  27:Src/Eagle_TRT.c **** */
  28:Src/Eagle_TRT.c **** 
  29:Src/Eagle_TRT.c **** //----------------GPS----------------//
  30:Src/Eagle_TRT.c **** /*
  31:Src/Eagle_TRT.c ****  *To use GPS functions you have to setup the UART port to communicate with it.
  32:Src/Eagle_TRT.c ****  *Possibly set the port as interrupt because the received data are cleaner.
ARM GAS  /tmp/ccqVNF68.s 			page 2


  33:Src/Eagle_TRT.c ****  *Call GPS_INIT() to setup the GPS
  34:Src/Eagle_TRT.c ****  *Every loop read the input data.
  35:Src/Eagle_TRT.c ****  *Then the function Get_Sentence() looks for a sequence of letters like "GPRMC"
  36:Src/Eagle_TRT.c ****  *Look at NMEA protocol, there you can find all the strings that a GPS can send,
  37:Src/Eagle_TRT.c ****  *every one of them defines the types of data that the GPS sends.
  38:Src/Eagle_TRT.c ****  *If Get_Sentence() found one string, returns the number of the position of that string in the char
  39:Src/Eagle_TRT.c ****  *Go to Get_Sentence() description to find an example of Matrix
  40:Src/Eagle_TRT.c ****  *Once you have the number of the string you can call Get_Requested_Data() to get the data that you
  41:Src/Eagle_TRT.c ****  *If you need to know if the GPS is connected to at least 3 satellites call Is_Valid() function
  42:Src/Eagle_TRT.c ****  *
  43:Src/Eagle_TRT.c ****  *checksum calculator http://www.hhhh.org/wiml/proj/nmeaxor.html
  44:Src/Eagle_TRT.c **** */
  45:Src/Eagle_TRT.c **** 
  46:Src/Eagle_TRT.c **** //----------------IMU----------------//
  47:Src/Eagle_TRT.c **** /*
  48:Src/Eagle_TRT.c ****  *Setup SPI port to communicate with the sensor
  49:Src/Eagle_TRT.c ****  *Call gyro_init() and magn_accel_init() to setup the sensor
  50:Src/Eagle_TRT.c ****  *If you want to calibrate the sensor call gyro_calib() and accel_calib().
  51:Src/Eagle_TRT.c ****  *You can read the x, y, z data from the Gyroscope by calling gyro_read()
  52:Src/Eagle_TRT.c ****  *You can read the x, y, z data from the Gyroscope by calling accel_read()
  53:Src/Eagle_TRT.c **** */
  54:Src/Eagle_TRT.c **** 
  55:Src/Eagle_TRT.c **** #ifdef HAL_SPI_MODULE_ENABLED
  56:Src/Eagle_TRT.c **** #include "stm32f4xx_hal_spi.h"
  57:Src/Eagle_TRT.c **** 
  58:Src/Eagle_TRT.c **** extern TIM_HandleTypeDef htim2;
  59:Src/Eagle_TRT.c **** extern UART_HandleTypeDef huart2;
  60:Src/Eagle_TRT.c **** 
  61:Src/Eagle_TRT.c **** ///IMU VARIABLES///
  62:Src/Eagle_TRT.c **** uint8_t ZERO = 0x00;
  63:Src/Eagle_TRT.c **** uint8_t WHO_AM_I_G = 0x8F;
  64:Src/Eagle_TRT.c **** uint8_t WHO_AM_I_G_VAL;
  65:Src/Eagle_TRT.c **** uint8_t WHO_AM_I_XM = 0x8F;
  66:Src/Eagle_TRT.c **** uint8_t WHO_AM_I_XM_VAL;
  67:Src/Eagle_TRT.c **** 
  68:Src/Eagle_TRT.c **** uint8_t CTRL_REG1_G_ADD = 0x20;
  69:Src/Eagle_TRT.c **** uint8_t CTRL_REG1_G_VAL = 0x0F;
  70:Src/Eagle_TRT.c **** uint8_t CTRL_REG4_G_ADD = 0x23;
  71:Src/Eagle_TRT.c **** uint8_t CTRL_REG4_G_VAL = 0x10;
  72:Src/Eagle_TRT.c **** 
  73:Src/Eagle_TRT.c **** uint8_t CTRL_REG1_XM_ADD = 0x20;
  74:Src/Eagle_TRT.c **** uint8_t CTRL_REG1_XM_VAL = 0xA7;
  75:Src/Eagle_TRT.c **** uint8_t CTRL_REG2_XM_ADD = 0x21;
  76:Src/Eagle_TRT.c **** uint8_t CTRL_REG2_XM_VAL = 0x08;
  77:Src/Eagle_TRT.c **** uint8_t CTRL_REG5_XM_ADD = 0x24;
  78:Src/Eagle_TRT.c **** uint8_t CTRL_REG5_XM_VAL = 0x70;
  79:Src/Eagle_TRT.c **** uint8_t CTRL_REG6_XM_ADD = 0x25;
  80:Src/Eagle_TRT.c **** uint8_t CTRL_REG6_XM_VAL = 0x20;
  81:Src/Eagle_TRT.c **** uint8_t CTRL_REG7_XM_ADD = 0x26;
  82:Src/Eagle_TRT.c **** uint8_t CTRL_REG7_XM_VAL = 0x00;
  83:Src/Eagle_TRT.c **** 
  84:Src/Eagle_TRT.c **** // GYROSCOPE SCALE SETTING
  85:Src/Eagle_TRT.c **** uint8_t CTRL_REG4_G = 0x23;
  86:Src/Eagle_TRT.c **** 
  87:Src/Eagle_TRT.c **** uint8_t SCL_G_245 = 0x00;
  88:Src/Eagle_TRT.c **** uint8_t SCL_G_500 = 0x10;
  89:Src/Eagle_TRT.c **** uint8_t SCL_G_1000 = 0x20;
ARM GAS  /tmp/ccqVNF68.s 			page 3


  90:Src/Eagle_TRT.c **** uint8_t SCL_G_2000 = 0x30;
  91:Src/Eagle_TRT.c **** 
  92:Src/Eagle_TRT.c **** // ACCELERORMETER SCALE SETTING
  93:Src/Eagle_TRT.c **** uint8_t CTRL_REG2_XM = 0x21;
  94:Src/Eagle_TRT.c **** 
  95:Src/Eagle_TRT.c **** uint8_t SCL_A_2 = 0x00;
  96:Src/Eagle_TRT.c **** uint8_t SCL_A_4 = 0x08;
  97:Src/Eagle_TRT.c **** uint8_t SCL_A_6 = 0x10;
  98:Src/Eagle_TRT.c **** uint8_t SCL_A_8 = 0x18;
  99:Src/Eagle_TRT.c **** uint8_t SCL_A_16 = 0x20;
 100:Src/Eagle_TRT.c **** 
 101:Src/Eagle_TRT.c **** // MAGNETORMETER SCALE SETTING
 102:Src/Eagle_TRT.c **** uint8_t CTRL_REG6_XM = 0x25;
 103:Src/Eagle_TRT.c **** 
 104:Src/Eagle_TRT.c **** uint8_t SCL_M_2 = 0x00;
 105:Src/Eagle_TRT.c **** uint8_t SCL_M_4 = 0x20;
 106:Src/Eagle_TRT.c **** uint8_t SCL_M_8 = 0x40;
 107:Src/Eagle_TRT.c **** uint8_t SCL_M_12 = 0x60;
 108:Src/Eagle_TRT.c **** 
 109:Src/Eagle_TRT.c **** // OUTPUT REG
 110:Src/Eagle_TRT.c **** uint8_t OUT_X_L_G_ADD = 0xA8;
 111:Src/Eagle_TRT.c **** uint8_t OUT_X_H_G_ADD = 0xA9;
 112:Src/Eagle_TRT.c **** uint8_t OUT_Y_L_G_ADD = 0xAA;
 113:Src/Eagle_TRT.c **** uint8_t OUT_Y_H_G_ADD = 0xAB;
 114:Src/Eagle_TRT.c **** uint8_t OUT_Z_L_G_ADD = 0xAC;
 115:Src/Eagle_TRT.c **** uint8_t OUT_Z_H_G_ADD = 0xAD;
 116:Src/Eagle_TRT.c **** 
 117:Src/Eagle_TRT.c **** uint8_t OUT_X_L_A_ADD = 0xA8;
 118:Src/Eagle_TRT.c **** uint8_t OUT_X_H_A_ADD = 0xA9;
 119:Src/Eagle_TRT.c **** uint8_t OUT_Y_L_A_ADD = 0xAA;
 120:Src/Eagle_TRT.c **** uint8_t OUT_Y_H_A_ADD = 0xAB;
 121:Src/Eagle_TRT.c **** uint8_t OUT_Z_L_A_ADD = 0xAC;
 122:Src/Eagle_TRT.c **** uint8_t OUT_Z_H_A_ADD = 0xAD;
 123:Src/Eagle_TRT.c **** 
 124:Src/Eagle_TRT.c **** imu_stc imu;
 125:Src/Eagle_TRT.c **** imu_stc accel;
 126:Src/Eagle_TRT.c **** imu_stc gyro;
 127:Src/Eagle_TRT.c **** can_stc can;
 128:Src/Eagle_TRT.c **** 
 129:Src/Eagle_TRT.c **** void send_config(GPIO_TypeDef *pinx, uint16_t pinn, uint8_t *addr, uint8_t *val)
 130:Src/Eagle_TRT.c **** {
 131:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(pinx, pinn, GPIO_PIN_RESET); ///CS_InUse to 0
 132:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;					   //set counter to 0
 133:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 134:Src/Eagle_TRT.c **** 	{
 135:Src/Eagle_TRT.c **** 	}										 //delay (must be >5ns)
 136:Src/Eagle_TRT.c **** 	HAL_SPI_Transmit(imu.hspi, addr, 1, 10); ///Writing the address
 137:Src/Eagle_TRT.c **** 	HAL_SPI_Transmit(imu.hspi, val, 1, 10);  ///Writing 0b00001111 to enable PowerMode and x,y,z axis
 138:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;				 //set counter to 0
 139:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 140:Src/Eagle_TRT.c **** 	{
 141:Src/Eagle_TRT.c **** 	}											 //delay (must be >5ns)
 142:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(pinx, pinn, GPIO_PIN_SET); ///CS_InUse to 1
 143:Src/Eagle_TRT.c **** }
 144:Src/Eagle_TRT.c **** 
 145:Src/Eagle_TRT.c **** //accelerometer, gyroscope and magnetometer initialization
 146:Src/Eagle_TRT.c **** //call this function before requesting data from the sensor
ARM GAS  /tmp/ccqVNF68.s 			page 4


 147:Src/Eagle_TRT.c **** //hspi = pointer to the spi port defined
 148:Src/Eagle_TRT.c **** void LSMD9S0_accel_gyro_init(imu_stc *accel, imu_stc *gyro)
 149:Src/Eagle_TRT.c **** {
 150:Src/Eagle_TRT.c **** 
 151:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOA, GPIO_PIN_8, GPIO_PIN_SET); ///CS_G to 1
 152:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_9, GPIO_PIN_SET); ///CS_XM to 1
 153:Src/Eagle_TRT.c **** 
 154:Src/Eagle_TRT.c **** 	// Wake Up Gyro, enabling x, y, z axis
 155:Src/Eagle_TRT.c **** 	send_config(gyro->GPIOx_InUse, gyro->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG1_G_ADD, (uint8_t *)&CTRL
 156:Src/Eagle_TRT.c **** 
 157:Src/Eagle_TRT.c **** 	// Wake Up Accel, enabling x, y, z axis
 158:Src/Eagle_TRT.c **** 	send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG1_XM_ADD, (uint8_t *)&C
 159:Src/Eagle_TRT.c **** 
 160:Src/Eagle_TRT.c **** 	send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG5_XM_ADD, (uint8_t *)&C
 161:Src/Eagle_TRT.c **** 	send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG6_XM_ADD, (uint8_t *)&C
 162:Src/Eagle_TRT.c **** 	send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG7_XM_ADD, (uint8_t *)&C
 163:Src/Eagle_TRT.c **** 
 164:Src/Eagle_TRT.c **** 	// Set Gyro scale range
 165:Src/Eagle_TRT.c **** 	switch (gyro->scale)
 166:Src/Eagle_TRT.c **** 	{
 167:Src/Eagle_TRT.c **** 	case 245:
 168:Src/Eagle_TRT.c **** 		send_config(gyro->GPIOx_InUse, gyro->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG4_G, (uint8_t *)&SCL_G_2
 169:Src/Eagle_TRT.c **** 		break;
 170:Src/Eagle_TRT.c **** 	case 500:
 171:Src/Eagle_TRT.c **** 		send_config(gyro->GPIOx_InUse, gyro->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG4_G, (uint8_t *)&SCL_G_5
 172:Src/Eagle_TRT.c **** 		break;
 173:Src/Eagle_TRT.c **** 	case 1000:
 174:Src/Eagle_TRT.c **** 		send_config(gyro->GPIOx_InUse, gyro->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG4_G, (uint8_t *)&SCL_G_1
 175:Src/Eagle_TRT.c **** 		break;
 176:Src/Eagle_TRT.c **** 	case 2000:
 177:Src/Eagle_TRT.c **** 		send_config(gyro->GPIOx_InUse, gyro->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG4_G, (uint8_t *)&SCL_G_2
 178:Src/Eagle_TRT.c **** 		break;
 179:Src/Eagle_TRT.c **** 	default:
 180:Src/Eagle_TRT.c **** 		send_config(gyro->GPIOx_InUse, gyro->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG4_G, (uint8_t *)&SCL_G_2
 181:Src/Eagle_TRT.c **** 		gyro->scale = 500;
 182:Src/Eagle_TRT.c **** 		break;
 183:Src/Eagle_TRT.c **** 	}
 184:Src/Eagle_TRT.c **** 
 185:Src/Eagle_TRT.c **** 	// Set Accel scale range
 186:Src/Eagle_TRT.c **** 	switch (accel->scale)
 187:Src/Eagle_TRT.c **** 	{
 188:Src/Eagle_TRT.c **** 	case 2:
 189:Src/Eagle_TRT.c **** 		send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG2_XM, (uint8_t *)&SCL_
 190:Src/Eagle_TRT.c **** 		break;
 191:Src/Eagle_TRT.c **** 	case 4:
 192:Src/Eagle_TRT.c **** 		send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG2_XM, (uint8_t *)&SCL_
 193:Src/Eagle_TRT.c **** 		break;
 194:Src/Eagle_TRT.c **** 	case 6:
 195:Src/Eagle_TRT.c **** 		send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG2_XM, (uint8_t *)&SCL_
 196:Src/Eagle_TRT.c **** 		break;
 197:Src/Eagle_TRT.c **** 	case 8:
 198:Src/Eagle_TRT.c **** 		send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG2_XM, (uint8_t *)&SCL_
 199:Src/Eagle_TRT.c **** 		break;
 200:Src/Eagle_TRT.c **** 	case 16:
 201:Src/Eagle_TRT.c **** 		send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG2_XM, (uint8_t *)&SCL_
 202:Src/Eagle_TRT.c **** 		break;
 203:Src/Eagle_TRT.c **** 	default:
ARM GAS  /tmp/ccqVNF68.s 			page 5


 204:Src/Eagle_TRT.c **** 		send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG2_XM, (uint8_t *)&SCL_
 205:Src/Eagle_TRT.c **** 		accel->scale = 4;
 206:Src/Eagle_TRT.c **** 		break;
 207:Src/Eagle_TRT.c **** 	}
 208:Src/Eagle_TRT.c **** 
 209:Src/Eagle_TRT.c **** 	HAL_Delay(1);
 210:Src/Eagle_TRT.c **** 
 211:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(&huart2, (uint8_t *)"<IMU> Initialization -> Done\r\n", 26, 10);
 212:Src/Eagle_TRT.c **** }
 213:Src/Eagle_TRT.c **** 
 214:Src/Eagle_TRT.c **** float LSMD9S0_read(imu_stc *imu)
 215:Src/Eagle_TRT.c **** {
 216:Src/Eagle_TRT.c **** 
 217:Src/Eagle_TRT.c **** 	uint8_t OUT_L_VAL;
 218:Src/Eagle_TRT.c **** 	uint8_t OUT_H_VAL;
 219:Src/Eagle_TRT.c **** 
 220:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(imu->GPIOx_InUse, imu->GPIO_Pin_InUse, GPIO_PIN_RESET); ///CS_InUse to 0
 221:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;												  //set counter to 0
 222:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 223:Src/Eagle_TRT.c **** 	{
 224:Src/Eagle_TRT.c **** 	} //delay (must be >5ns)
 225:Src/Eagle_TRT.c **** 
 226:Src/Eagle_TRT.c **** 	HAL_SPI_Transmit(imu->hspi, &(imu->REG_L), 1, 10);		  ///Writing LOW address
 227:Src/Eagle_TRT.c **** 	HAL_SPI_Receive(imu->hspi, (uint8_t *)&OUT_L_VAL, 1, 10); ///Saving LOW data
 228:Src/Eagle_TRT.c **** 
 229:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0; //set counter to 0
 230:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 231:Src/Eagle_TRT.c **** 	{
 232:Src/Eagle_TRT.c **** 	}																		//delay (must be >5ns)
 233:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(imu->GPIOx_InUse, imu->GPIO_Pin_InUse, GPIO_PIN_SET); ///CS_InUse to 1
 234:Src/Eagle_TRT.c **** 
 235:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0; //set counter to 0
 236:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 237:Src/Eagle_TRT.c **** 	{
 238:Src/Eagle_TRT.c **** 	}																		  //delay (must be >5ns)
 239:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(imu->GPIOx_InUse, imu->GPIO_Pin_InUse, GPIO_PIN_RESET); ///CS_InUse to 0
 240:Src/Eagle_TRT.c **** 
 241:Src/Eagle_TRT.c **** 	HAL_SPI_Transmit(imu->hspi, &(imu->REG_H), 1, 10);		  ///Writing HIGH address
 242:Src/Eagle_TRT.c **** 	HAL_SPI_Receive(imu->hspi, (uint8_t *)&OUT_H_VAL, 1, 10); ///Saving HIGH data
 243:Src/Eagle_TRT.c **** 
 244:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0; //set counter to 0
 245:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 246:Src/Eagle_TRT.c **** 	{
 247:Src/Eagle_TRT.c **** 	} //delay (must be >5ns)
 248:Src/Eagle_TRT.c **** 
 249:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(imu->GPIOx_InUse, imu->GPIO_Pin_InUse, GPIO_PIN_SET); ///CS_InUse to 1
 250:Src/Eagle_TRT.c **** 
 251:Src/Eagle_TRT.c **** 	///CALCULATING ROTATION
 252:Src/Eagle_TRT.c **** 	uint32_t value = (OUT_H_VAL << 8) | OUT_L_VAL; ///Calculating axis value shifting and using a logi
 253:Src/Eagle_TRT.c **** 	float axis = value;
 254:Src/Eagle_TRT.c **** 
 255:Src/Eagle_TRT.c **** 	return axis;
 256:Src/Eagle_TRT.c **** }
 257:Src/Eagle_TRT.c **** 
 258:Src/Eagle_TRT.c **** int LSMD9S0_check(imu_stc *imu)
 259:Src/Eagle_TRT.c **** {
 260:Src/Eagle_TRT.c **** 
ARM GAS  /tmp/ccqVNF68.s 			page 6


 261:Src/Eagle_TRT.c **** 	int check = 0;
 262:Src/Eagle_TRT.c **** 
 263:Src/Eagle_TRT.c **** 	///AXEL/MAGN ARE WORKING
 264:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_9, GPIO_PIN_RESET); ///CS_XM to 0
 265:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;							  //set counter to 0
 266:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 267:Src/Eagle_TRT.c **** 	{
 268:Src/Eagle_TRT.c **** 	}															 //delay (must be >5ns)
 269:Src/Eagle_TRT.c **** 	HAL_SPI_Transmit(imu->hspi, (uint8_t *)&WHO_AM_I_XM, 1, 10); ///Writing on register ----> (uint8_t
 270:Src/Eagle_TRT.c **** 	HAL_SPI_Receive(imu->hspi, (uint8_t *)&WHO_AM_I_XM_VAL, 1, 10);
 271:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0; //set counter to 0
 272:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 273:Src/Eagle_TRT.c **** 	{
 274:Src/Eagle_TRT.c **** 	}													//delay (must be >5ns)
 275:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_9, GPIO_PIN_SET); ///CS_XM to 1
 276:Src/Eagle_TRT.c **** 
 277:Src/Eagle_TRT.c **** 	///GYRO IS WORKING
 278:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOA, GPIO_PIN_8, GPIO_PIN_RESET); ///CS_G to 0
 279:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;							  //set counter to 0
 280:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 281:Src/Eagle_TRT.c **** 	{
 282:Src/Eagle_TRT.c **** 	}															//delay (must be >5ns)
 283:Src/Eagle_TRT.c **** 	HAL_SPI_Transmit(imu->hspi, (uint8_t *)&WHO_AM_I_G, 1, 10); ///Writing on register ----> (uint8_t*
 284:Src/Eagle_TRT.c **** 	//HAL_SPI_TransmitReceive(imu->hspi, (uint8_t*)&ZERO, (uint8_t*)&WHO_AM_I_G_VAL, 1, 10); ///Readin
 285:Src/Eagle_TRT.c **** 	HAL_SPI_Receive(imu->hspi, (uint8_t *)&WHO_AM_I_G_VAL, 1, 10);
 286:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0; //set counter to 0
 287:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 288:Src/Eagle_TRT.c **** 	{
 289:Src/Eagle_TRT.c **** 	}													//delay (must be >5ns)
 290:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOA, GPIO_PIN_8, GPIO_PIN_SET); ///CS_G to 1
 291:Src/Eagle_TRT.c **** 
 292:Src/Eagle_TRT.c **** 	char imu_str[100];
 293:Src/Eagle_TRT.c **** 
 294:Src/Eagle_TRT.c **** 	///AXEL/GYRO STATUS
 295:Src/Eagle_TRT.c **** 	if ((WHO_AM_I_G_VAL == 212) & (WHO_AM_I_XM_VAL == 73))
 296:Src/Eagle_TRT.c **** 	{
 297:Src/Eagle_TRT.c **** 		check = 1;
 298:Src/Eagle_TRT.c **** 	}
 299:Src/Eagle_TRT.c **** 	else
 300:Src/Eagle_TRT.c **** 	{
 301:Src/Eagle_TRT.c **** 		check = 0;
 302:Src/Eagle_TRT.c **** 	}
 303:Src/Eagle_TRT.c **** 
 304:Src/Eagle_TRT.c **** 	return check;
 305:Src/Eagle_TRT.c **** }
 306:Src/Eagle_TRT.c **** 
 307:Src/Eagle_TRT.c **** // Request inital axis values, average them, set as initial offsets
 308:Src/Eagle_TRT.c **** void LSM9DS0_calibration(imu_stc *imu)
 309:Src/Eagle_TRT.c **** {
 310:Src/Eagle_TRT.c **** 	double x = 0, y = 0, z = 0;
 311:Src/Eagle_TRT.c **** 	int iterations = 200;
 312:Src/Eagle_TRT.c **** 	for (int i = 0; i < iterations; i++)
 313:Src/Eagle_TRT.c **** 	{
 314:Src/Eagle_TRT.c **** 		LSMD9S0_accel_read(imu);
 315:Src/Eagle_TRT.c **** 		imu_elaborate_data(imu);
 316:Src/Eagle_TRT.c **** 		x += imu->x;
 317:Src/Eagle_TRT.c **** 		y += imu->y;
ARM GAS  /tmp/ccqVNF68.s 			page 7


 318:Src/Eagle_TRT.c **** 		z += imu->z;
 319:Src/Eagle_TRT.c **** 		HAL_Delay(1);
 320:Src/Eagle_TRT.c **** 	}
 321:Src/Eagle_TRT.c **** 
 322:Src/Eagle_TRT.c **** 	imu->x_offset = x / iterations;
 323:Src/Eagle_TRT.c **** 	imu->y_offset = y / iterations;
 324:Src/Eagle_TRT.c **** 	imu->z_offset = z / iterations;
 325:Src/Eagle_TRT.c **** 
 326:Src/Eagle_TRT.c **** 	imu->calibration_done = 1;
 327:Src/Eagle_TRT.c **** }
 328:Src/Eagle_TRT.c **** 
 329:Src/Eagle_TRT.c **** //Reading G_axis values
 330:Src/Eagle_TRT.c **** //hspi = pointer to the spi port defined
 331:Src/Eagle_TRT.c **** //x = pointer gyroscope x variable
 332:Src/Eagle_TRT.c **** //y = pointer gyroscope y variable
 333:Src/Eagle_TRT.c **** //z = pointer gyroscope z variable
 334:Src/Eagle_TRT.c **** //x_offset = offset x value
 335:Src/Eagle_TRT.c **** //y_offset = offset y value
 336:Src/Eagle_TRT.c **** //z_offset = offset z value
 337:Src/Eagle_TRT.c **** void LSMD9S0_gyro_read(imu_stc *imu)
 338:Src/Eagle_TRT.c **** {
 339:Src/Eagle_TRT.c **** 
 340:Src/Eagle_TRT.c **** 	imu->GPIOx_InUse = GPIOA;
 341:Src/Eagle_TRT.c **** 	imu->GPIO_Pin_InUse = GPIO_PIN_8;
 342:Src/Eagle_TRT.c **** 
 343:Src/Eagle_TRT.c **** 	imu->REG_H = OUT_X_H_G_ADD;
 344:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_X_L_G_ADD;
 345:Src/Eagle_TRT.c **** 	imu->x = LSMD9S0_read(imu);
 346:Src/Eagle_TRT.c **** 
 347:Src/Eagle_TRT.c **** 	imu->REG_H = OUT_Y_H_G_ADD;
 348:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_Y_L_G_ADD;
 349:Src/Eagle_TRT.c **** 	imu->y = LSMD9S0_read(imu);
 350:Src/Eagle_TRT.c **** 
 351:Src/Eagle_TRT.c **** 	imu->REG_H = OUT_Z_H_G_ADD;
 352:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_Z_L_G_ADD;
 353:Src/Eagle_TRT.c **** 	imu->z = LSMD9S0_read(imu);
 354:Src/Eagle_TRT.c **** 
 355:Src/Eagle_TRT.c **** 	///AXEL/GYRO STATUS
 356:Src/Eagle_TRT.c **** 	if ((WHO_AM_I_G_VAL == 212) & (WHO_AM_I_XM_VAL == 73))
 357:Src/Eagle_TRT.c **** 	{
 358:Src/Eagle_TRT.c **** 		imu->error_flag = 0;
 359:Src/Eagle_TRT.c **** 	}
 360:Src/Eagle_TRT.c **** 	else
 361:Src/Eagle_TRT.c **** 	{
 362:Src/Eagle_TRT.c **** 		imu->error_flag = 1;
 363:Src/Eagle_TRT.c **** 	}
 364:Src/Eagle_TRT.c **** }
 365:Src/Eagle_TRT.c **** 
 366:Src/Eagle_TRT.c **** // Elaborating data
 367:Src/Eagle_TRT.c **** // Use the setted scale to calculate data in the correct ranges
 368:Src/Eagle_TRT.c **** // Aveage an array to remove noise
 369:Src/Eagle_TRT.c **** // Remove inital offset
 370:Src/Eagle_TRT.c **** void imu_elaborate_data(imu_stc *imu)
 371:Src/Eagle_TRT.c **** {
 372:Src/Eagle_TRT.c **** 	if (imu->x > 32768)
 373:Src/Eagle_TRT.c **** 	{
 374:Src/Eagle_TRT.c **** 		imu->x -= 65536;
ARM GAS  /tmp/ccqVNF68.s 			page 8


 375:Src/Eagle_TRT.c **** 	}
 376:Src/Eagle_TRT.c **** 	if (imu->y > 32768)
 377:Src/Eagle_TRT.c **** 	{
 378:Src/Eagle_TRT.c **** 		imu->y -= 65536;
 379:Src/Eagle_TRT.c **** 	}
 380:Src/Eagle_TRT.c **** 	if (imu->z > 32768)
 381:Src/Eagle_TRT.c **** 	{
 382:Src/Eagle_TRT.c **** 		imu->z -= 65536;
 383:Src/Eagle_TRT.c **** 	}
 384:Src/Eagle_TRT.c **** 
 385:Src/Eagle_TRT.c **** 	imu->x = imu->x * (imu->scale / 32768);
 386:Src/Eagle_TRT.c **** 	imu->y = imu->y * (imu->scale / 32768);
 387:Src/Eagle_TRT.c **** 	imu->z = imu->z * (imu->scale / 32768);
 388:Src/Eagle_TRT.c **** 
 389:Src/Eagle_TRT.c **** 	shift_array(imu->x_array, 10, imu->x);
 390:Src/Eagle_TRT.c **** 	shift_array(imu->y_array, 10, imu->y);
 391:Src/Eagle_TRT.c **** 	shift_array(imu->z_array, 10, imu->z);
 392:Src/Eagle_TRT.c **** 
 393:Src/Eagle_TRT.c **** 	imu->x = dynamic_average(imu->x_array, 10);
 394:Src/Eagle_TRT.c **** 	imu->y = dynamic_average(imu->y_array, 10);
 395:Src/Eagle_TRT.c **** 	imu->z = dynamic_average(imu->z_array, 10);
 396:Src/Eagle_TRT.c **** 
 397:Src/Eagle_TRT.c **** 	imu->x -= imu->x_offset;
 398:Src/Eagle_TRT.c **** 	imu->y -= imu->y_offset;
 399:Src/Eagle_TRT.c **** 	imu->z -= imu->z_offset;
 400:Src/Eagle_TRT.c **** }
 401:Src/Eagle_TRT.c **** 
 402:Src/Eagle_TRT.c **** ///Reading A_axis values
 403:Src/Eagle_TRT.c **** //hspi = pointer to the spi port defined
 404:Src/Eagle_TRT.c **** //x = pointer gyroscope x variable
 405:Src/Eagle_TRT.c **** //y = pointer gyroscope y variable
 406:Src/Eagle_TRT.c **** //z = pointer gyroscope z variable
 407:Src/Eagle_TRT.c **** //x_offset = offset x value
 408:Src/Eagle_TRT.c **** //y_offset = offset y value
 409:Src/Eagle_TRT.c **** //z_offset = offset z value
 410:Src/Eagle_TRT.c **** void LSMD9S0_accel_read(imu_stc *imu)
 411:Src/Eagle_TRT.c **** {
 412:Src/Eagle_TRT.c **** 
 413:Src/Eagle_TRT.c **** 	imu->GPIOx_InUse = GPIOC;
 414:Src/Eagle_TRT.c **** 	imu->GPIO_Pin_InUse = GPIO_PIN_9;
 415:Src/Eagle_TRT.c **** 
 416:Src/Eagle_TRT.c **** 	imu->REG_H = OUT_X_H_A_ADD;
 417:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_X_L_A_ADD;
 418:Src/Eagle_TRT.c **** 	imu->x = LSMD9S0_read(imu);
 419:Src/Eagle_TRT.c **** 
 420:Src/Eagle_TRT.c **** 	imu->REG_H = OUT_Y_H_A_ADD;
 421:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_Y_L_A_ADD;
 422:Src/Eagle_TRT.c **** 	imu->y = LSMD9S0_read(imu);
 423:Src/Eagle_TRT.c **** 
 424:Src/Eagle_TRT.c **** 	imu->REG_H = OUT_Z_H_A_ADD;
 425:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_Z_L_A_ADD;
 426:Src/Eagle_TRT.c **** 	imu->z = LSMD9S0_read(imu);
 427:Src/Eagle_TRT.c **** }
 428:Src/Eagle_TRT.c **** 
 429:Src/Eagle_TRT.c **** #endif
 430:Src/Eagle_TRT.c **** 
 431:Src/Eagle_TRT.c **** #ifdef HAL_CAN_MODULE_ENABLED
ARM GAS  /tmp/ccqVNF68.s 			page 9


 432:Src/Eagle_TRT.c **** #include "stm32f4xx_hal_can.h"
 433:Src/Eagle_TRT.c **** //function that sends an array via CAN
 434:Src/Eagle_TRT.c **** //hcan = pointer to can port
 435:Src/Eagle_TRT.c **** //id = id of the message to be sent
 436:Src/Eagle_TRT.c **** //dataTx = pointer to array that contains the data to be sent
 437:Src/Eagle_TRT.c **** //size = size of the array
 438:Src/Eagle_TRT.c **** can_stc can;
 439:Src/Eagle_TRT.c **** int CAN_Send(can_stc *can)
 440:Src/Eagle_TRT.c **** {
 441:Src/Eagle_TRT.c **** 
 442:Src/Eagle_TRT.c **** 	uint32_t mailbox;
 443:Src/Eagle_TRT.c **** 	uint8_t flag = 0;
 444:Src/Eagle_TRT.c **** 
 445:Src/Eagle_TRT.c **** 	CAN_TxHeaderTypeDef TxHeader;
 446:Src/Eagle_TRT.c **** 	TxHeader.StdId = can->id;
 447:Src/Eagle_TRT.c **** 	TxHeader.IDE = CAN_ID_STD;
 448:Src/Eagle_TRT.c **** 	TxHeader.RTR = CAN_RTR_DATA;
 449:Src/Eagle_TRT.c **** 	TxHeader.DLC = can->size;
 450:Src/Eagle_TRT.c **** 	TxHeader.TransmitGlobalTime = DISABLE;
 451:Src/Eagle_TRT.c **** 
 452:Src/Eagle_TRT.c **** 	if (HAL_CAN_GetTxMailboxesFreeLevel(can->hcan) != 0 && HAL_CAN_IsTxMessagePending(can->hcan, CAN_T
 453:Src/Eagle_TRT.c **** 	{
 454:Src/Eagle_TRT.c **** 		HAL_CAN_AddTxMessage(can->hcan, &TxHeader, can->dataTx, &mailbox);
 455:Src/Eagle_TRT.c **** 		flag = 1;
 456:Src/Eagle_TRT.c **** 	}
 457:Src/Eagle_TRT.c **** 
 458:Src/Eagle_TRT.c **** 	return flag;
 459:Src/Eagle_TRT.c **** }
 460:Src/Eagle_TRT.c **** 
 461:Src/Eagle_TRT.c **** //receive a buffer from the CAN communication
 462:Src/Eagle_TRT.c **** //you can call this function in the callback of the CAN interrupt
 463:Src/Eagle_TRT.c **** //hcan = pointer to can port
 464:Src/Eagle_TRT.c **** //DataRx = pointer to the buffer you are receiveng
 465:Src/Eagle_TRT.c **** //size = size of the buffer you are using
 466:Src/Eagle_TRT.c **** int CAN_Receive(can_stc *can)
 467:Src/Eagle_TRT.c **** {
 468:Src/Eagle_TRT.c **** 
 469:Src/Eagle_TRT.c **** 	CAN_RxHeaderTypeDef RxHeader;
 470:Src/Eagle_TRT.c **** 
 471:Src/Eagle_TRT.c **** 	if (HAL_CAN_GetRxFifoFillLevel(can->hcan, CAN_RX_FIFO0) != 0)
 472:Src/Eagle_TRT.c **** 	{
 473:Src/Eagle_TRT.c **** 		HAL_CAN_GetRxMessage(can->hcan, CAN_RX_FIFO0, &RxHeader, can->dataRx);
 474:Src/Eagle_TRT.c **** 	}
 475:Src/Eagle_TRT.c **** 
 476:Src/Eagle_TRT.c **** 	int id = RxHeader.StdId;
 477:Src/Eagle_TRT.c **** 
 478:Src/Eagle_TRT.c **** 	return id;
 479:Src/Eagle_TRT.c **** }
 480:Src/Eagle_TRT.c **** #endif
 481:Src/Eagle_TRT.c **** 
 482:Src/Eagle_TRT.c **** #ifdef HAL_UART_MODULE_ENABLED
 483:Src/Eagle_TRT.c **** #include "stm32f4xx_hal_uart.h"
 484:Src/Eagle_TRT.c **** #include "malloc.h"
 485:Src/Eagle_TRT.c **** ///---- queue ---- ///
 486:Src/Eagle_TRT.c **** static int next(int ret, int dim)
 487:Src/Eagle_TRT.c **** {
  27              		.loc 1 487 0
ARM GAS  /tmp/ccqVNF68.s 			page 10


  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
 488:Src/Eagle_TRT.c **** 
 489:Src/Eagle_TRT.c **** 	return (ret + 1) % dim;
  33              		.loc 1 489 0
  34 0000 0130     		adds	r0, r0, #1
  35              	.LVL1:
  36 0002 90FBF1F3 		sdiv	r3, r0, r1
 490:Src/Eagle_TRT.c **** }
  37              		.loc 1 490 0
  38 0006 01FB1300 		mls	r0, r1, r3, r0
  39              	.LVL2:
  40 000a 7047     		bx	lr
  41              		.cfi_endproc
  42              	.LFE141:
  44              		.section	.text.emptyp,"ax",%progbits
  45              		.align	1
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  49              		.fpu fpv4-sp-d16
  51              	emptyp:
  52              	.LFB143:
 491:Src/Eagle_TRT.c **** 
 492:Src/Eagle_TRT.c **** // Implementazione dinamica
 493:Src/Eagle_TRT.c **** void init(queue *q)
 494:Src/Eagle_TRT.c **** {
 495:Src/Eagle_TRT.c **** 
 496:Src/Eagle_TRT.c **** 	q->tail = q->head = 0;
 497:Src/Eagle_TRT.c **** 	q->dim = 40;
 498:Src/Eagle_TRT.c **** }
 499:Src/Eagle_TRT.c **** 
 500:Src/Eagle_TRT.c **** static int emptyp(const queue *q)
 501:Src/Eagle_TRT.c **** {
  53              		.loc 1 501 0
  54              		.cfi_startproc
  55              		@ args = 0, pretend = 0, frame = 0
  56              		@ frame_needed = 0, uses_anonymous_args = 0
  57              		@ link register save eliminated.
  58              	.LVL3:
 502:Src/Eagle_TRT.c **** 
 503:Src/Eagle_TRT.c **** 	return (q->tail == q->head);
  59              		.loc 1 503 0
  60 0000 4268     		ldr	r2, [r0, #4]
  61 0002 0068     		ldr	r0, [r0]
  62              	.LVL4:
 504:Src/Eagle_TRT.c **** }
  63              		.loc 1 504 0
  64 0004 8242     		cmp	r2, r0
  65 0006 14BF     		ite	ne
  66 0008 0020     		movne	r0, #0
  67 000a 0120     		moveq	r0, #1
  68 000c 7047     		bx	lr
  69              		.cfi_endproc
ARM GAS  /tmp/ccqVNF68.s 			page 11


  70              	.LFE143:
  72              		.section	.text.fullp,"ax",%progbits
  73              		.align	1
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  77              		.fpu fpv4-sp-d16
  79              	fullp:
  80              	.LFB144:
 505:Src/Eagle_TRT.c **** 
 506:Src/Eagle_TRT.c **** static int fullp(const queue *q)
 507:Src/Eagle_TRT.c **** {
  81              		.loc 1 507 0
  82              		.cfi_startproc
  83              		@ args = 0, pretend = 0, frame = 0
  84              		@ frame_needed = 0, uses_anonymous_args = 0
  85              	.LVL5:
  86 0000 10B5     		push	{r4, lr}
  87              	.LCFI0:
  88              		.cfi_def_cfa_offset 8
  89              		.cfi_offset 4, -8
  90              		.cfi_offset 14, -4
  91 0002 0446     		mov	r4, r0
 508:Src/Eagle_TRT.c **** 
 509:Src/Eagle_TRT.c **** 	return (next(q->tail, q->dim) == q->head);
  92              		.loc 1 509 0
  93 0004 8168     		ldr	r1, [r0, #8]
  94 0006 4068     		ldr	r0, [r0, #4]
  95              	.LVL6:
  96 0008 FFF7FEFF 		bl	next
  97              	.LVL7:
  98 000c 2368     		ldr	r3, [r4]
 510:Src/Eagle_TRT.c **** }
  99              		.loc 1 510 0
 100 000e 9842     		cmp	r0, r3
 101 0010 14BF     		ite	ne
 102 0012 0020     		movne	r0, #0
 103 0014 0120     		moveq	r0, #1
 104 0016 10BD     		pop	{r4, pc}
 105              		.cfi_endproc
 106              	.LFE144:
 108              		.section	.text.checksum,"ax",%progbits
 109              		.align	1
 110              		.syntax unified
 111              		.thumb
 112              		.thumb_func
 113              		.fpu fpv4-sp-d16
 115              	checksum:
 116              	.LFB151:
 511:Src/Eagle_TRT.c **** 
 512:Src/Eagle_TRT.c **** int push(char *str, queue *q)
 513:Src/Eagle_TRT.c **** {
 514:Src/Eagle_TRT.c **** 	int res;
 515:Src/Eagle_TRT.c **** 	if (fullp(q))
 516:Src/Eagle_TRT.c **** 	{
 517:Src/Eagle_TRT.c **** 		res = FAIL;
 518:Src/Eagle_TRT.c **** 	}
ARM GAS  /tmp/ccqVNF68.s 			page 12


 519:Src/Eagle_TRT.c **** 	else
 520:Src/Eagle_TRT.c **** 	{
 521:Src/Eagle_TRT.c **** 		int length = strlen(str);
 522:Src/Eagle_TRT.c **** 		q->elem[q->tail] = (char *)malloc(sizeof(char) * length);
 523:Src/Eagle_TRT.c **** 		strcpy(q->elem[q->tail], str);
 524:Src/Eagle_TRT.c **** 		//q->tail = next(q->tail,q->dim);
 525:Src/Eagle_TRT.c **** 		if (q->tail == 39)
 526:Src/Eagle_TRT.c **** 		{
 527:Src/Eagle_TRT.c **** 			q->tail = 0;
 528:Src/Eagle_TRT.c **** 		}
 529:Src/Eagle_TRT.c **** 		else
 530:Src/Eagle_TRT.c **** 		{
 531:Src/Eagle_TRT.c **** 			q->tail++;
 532:Src/Eagle_TRT.c **** 		}
 533:Src/Eagle_TRT.c **** 		res = OK;
 534:Src/Eagle_TRT.c **** 	}
 535:Src/Eagle_TRT.c **** 
 536:Src/Eagle_TRT.c **** 	return res;
 537:Src/Eagle_TRT.c **** }
 538:Src/Eagle_TRT.c **** 
 539:Src/Eagle_TRT.c **** int pop(char *str, queue *q)
 540:Src/Eagle_TRT.c **** {
 541:Src/Eagle_TRT.c **** 	int res;
 542:Src/Eagle_TRT.c **** 	if (emptyp(q))
 543:Src/Eagle_TRT.c **** 	{
 544:Src/Eagle_TRT.c **** 		res = FAIL;
 545:Src/Eagle_TRT.c **** 	}
 546:Src/Eagle_TRT.c **** 	else
 547:Src/Eagle_TRT.c **** 	{
 548:Src/Eagle_TRT.c **** 		strcpy(str, q->elem[q->head]);
 549:Src/Eagle_TRT.c **** 		free(q->elem[q->head]);
 550:Src/Eagle_TRT.c **** 		//q->head = next(q->head,q->dim);
 551:Src/Eagle_TRT.c **** 		if (q->head == 39)
 552:Src/Eagle_TRT.c **** 		{
 553:Src/Eagle_TRT.c **** 			q->head = 0;
 554:Src/Eagle_TRT.c **** 		}
 555:Src/Eagle_TRT.c **** 		else
 556:Src/Eagle_TRT.c **** 		{
 557:Src/Eagle_TRT.c **** 			q->head++;
 558:Src/Eagle_TRT.c **** 		}
 559:Src/Eagle_TRT.c **** 		res = OK;
 560:Src/Eagle_TRT.c **** 	}
 561:Src/Eagle_TRT.c **** 
 562:Src/Eagle_TRT.c **** 	return res;
 563:Src/Eagle_TRT.c **** }
 564:Src/Eagle_TRT.c **** /// ---- end queue ----///
 565:Src/Eagle_TRT.c **** queue print_q = {.head = 0, .tail = 0, .dim = 0};
 566:Src/Eagle_TRT.c **** 
 567:Src/Eagle_TRT.c **** int print(UART_HandleTypeDef *huart, char *text_print_function)
 568:Src/Eagle_TRT.c **** {
 569:Src/Eagle_TRT.c **** 
 570:Src/Eagle_TRT.c **** 	int ret = 0;
 571:Src/Eagle_TRT.c **** 
 572:Src/Eagle_TRT.c **** 	if (HAL_UART_Transmit_IT(huart, (uint8_t *)text_print_function, strlen(text_print_function)) == HA
 573:Src/Eagle_TRT.c **** 	{
 574:Src/Eagle_TRT.c **** 		ret = 1;
 575:Src/Eagle_TRT.c **** 	}
ARM GAS  /tmp/ccqVNF68.s 			page 13


 576:Src/Eagle_TRT.c **** 	else
 577:Src/Eagle_TRT.c **** 	{
 578:Src/Eagle_TRT.c **** 		if (push(text_print_function, &print_q) == FAIL)
 579:Src/Eagle_TRT.c **** 		{
 580:Src/Eagle_TRT.c **** 			ret = 0;
 581:Src/Eagle_TRT.c **** 		}
 582:Src/Eagle_TRT.c **** 		else
 583:Src/Eagle_TRT.c **** 		{
 584:Src/Eagle_TRT.c **** 			ret = 1;
 585:Src/Eagle_TRT.c **** 		}
 586:Src/Eagle_TRT.c **** 	}
 587:Src/Eagle_TRT.c **** 
 588:Src/Eagle_TRT.c **** 	return ret;
 589:Src/Eagle_TRT.c **** }
 590:Src/Eagle_TRT.c **** 
 591:Src/Eagle_TRT.c **** void print_it(UART_HandleTypeDef *huart)
 592:Src/Eagle_TRT.c **** { //put in the uart interrupt
 593:Src/Eagle_TRT.c **** 
 594:Src/Eagle_TRT.c **** 	char text_print_function[50];
 595:Src/Eagle_TRT.c **** 
 596:Src/Eagle_TRT.c **** 	if (pop(text_print_function, &print_q) == OK)
 597:Src/Eagle_TRT.c **** 	{
 598:Src/Eagle_TRT.c **** 		HAL_UART_Transmit_IT(huart, (uint8_t *)text_print_function, strlen(text_print_function));
 599:Src/Eagle_TRT.c **** 	}
 600:Src/Eagle_TRT.c **** }
 601:Src/Eagle_TRT.c **** 
 602:Src/Eagle_TRT.c **** UART_HandleTypeDef *huart_GPS;
 603:Src/Eagle_TRT.c **** int start_string_gps = 0;
 604:Src/Eagle_TRT.c **** char string_gps[100];
 605:Src/Eagle_TRT.c **** int cont_string, cont_comma;
 606:Src/Eagle_TRT.c **** char data_string_gps;
 607:Src/Eagle_TRT.c **** char buffer_gps[2];
 608:Src/Eagle_TRT.c **** static int checksum(char *string_checksum, int size_string_checksum);
 609:Src/Eagle_TRT.c **** 
 610:Src/Eagle_TRT.c **** /* GPS library
 611:Src/Eagle_TRT.c **** 	gps_init() ->initialize the GPS. Put it in the main initialization. Example:
 612:Src/Eagle_TRT.c **** 	gps_struct gps_main; //define the name of gps_structure istance
 613:Src/Eagle_TRT.c **** 	if(gps_init(&huart3,&gps_main)==0){
 614:Src/Eagle_TRT.c **** 		/--error--/
 615:Src/Eagle_TRT.c **** 	}
 616:Src/Eagle_TRT.c **** 	gps_read_it() -> put it in interrupt. Example:
 617:Src/Eagle_TRT.c **** 	void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart){
 618:Src/Eagle_TRT.c **** 		gps_read_it(huart,&gps_main);
 619:Src/Eagle_TRT.c **** 	}*/
 620:Src/Eagle_TRT.c **** 
 621:Src/Eagle_TRT.c **** int gps_init(UART_HandleTypeDef *huart, gps_struct *gps)
 622:Src/Eagle_TRT.c **** { //initialization of GPS
 623:Src/Eagle_TRT.c **** 
 624:Src/Eagle_TRT.c **** 	//if return--> 0=error,1=ok
 625:Src/Eagle_TRT.c **** 	huart_GPS = huart;
 626:Src/Eagle_TRT.c **** 	huart_GPS->Init.BaudRate = 9600;
 627:Src/Eagle_TRT.c **** 	HAL_UART_Init(huart_GPS);
 628:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_BAUD_115200, strlen(PMTK_SET_BAUD_115200), 200);
 629:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 630:Src/Eagle_TRT.c **** 	huart_GPS->Init.BaudRate = 57600;
 631:Src/Eagle_TRT.c **** 	HAL_UART_Init(huart_GPS);
 632:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_BAUD_115200, strlen(PMTK_SET_BAUD_115200), 200);
ARM GAS  /tmp/ccqVNF68.s 			page 14


 633:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 634:Src/Eagle_TRT.c **** 	huart_GPS->Init.BaudRate = 115200;
 635:Src/Eagle_TRT.c **** 	HAL_UART_Init(huart_GPS);
 636:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_BAUD_115200, strlen(PMTK_SET_BAUD_115200), 200);
 637:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 638:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_NMEA_UPDATE_10HZ, strlen(PMTK_SET_NMEA_UPDATE_10H
 639:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 640:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_NMEA_OUTPUT_GGAVTG, strlen(PMTK_SET_NMEA_OUTPUT_G
 641:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 642:Src/Eagle_TRT.c **** 	strcpy(gps->speed, "000.00");
 643:Src/Eagle_TRT.c **** 	strcpy(gps->latitude, "0000.0000");
 644:Src/Eagle_TRT.c **** 	strcpy(gps->latitude_o, "N");
 645:Src/Eagle_TRT.c **** 	strcpy(gps->longitude, "00000.0000");
 646:Src/Eagle_TRT.c **** 	strcpy(gps->longitude_o, "W");
 647:Src/Eagle_TRT.c **** 	strcpy(gps->altitude, "0000.0");
 648:Src/Eagle_TRT.c **** 	strcpy(gps->time, "000000");
 649:Src/Eagle_TRT.c **** 	HAL_UART_Receive_IT(huart_GPS, (uint8_t *)buffer_gps, 1); //request of rx buffer interrupt
 650:Src/Eagle_TRT.c **** 
 651:Src/Eagle_TRT.c **** 	return 1;
 652:Src/Eagle_TRT.c **** }
 653:Src/Eagle_TRT.c **** 
 654:Src/Eagle_TRT.c **** int gps_read_it(UART_HandleTypeDef *huart, gps_struct *gps)
 655:Src/Eagle_TRT.c **** {
 656:Src/Eagle_TRT.c **** 
 657:Src/Eagle_TRT.c **** 	int ret = 0; //return--> 0=error,1=ok
 658:Src/Eagle_TRT.c **** 
 659:Src/Eagle_TRT.c **** 	/*
 660:Src/Eagle_TRT.c **** 			* Example of strings
 661:Src/Eagle_TRT.c **** 			* $GPGGA,064951.000,2307.1256,N,12016.4438,E,1,8,0.95,39.9,M,17.8,M,,*65
 662:Src/Eagle_TRT.c **** 			* $GPGSA,A,3,29,21,26,15,18,09,06,10,,,,,2.32,0.95,2.11*00
 663:Src/Eagle_TRT.c **** 			* $GPGSV,3,1,09,29,36,029,42,21,46,314,43,26,44,020,43,15,21,321,39*7D
 664:Src/Eagle_TRT.c **** 			  $GPGSV,3,2,09,18,26,314,40,09,57,170,44,06,20,229,37,10,26,084,37*77
 665:Src/Eagle_TRT.c **** 			  $GPGSV,3,3,09,07,,,26*73
 666:Src/Eagle_TRT.c **** 			* $GPRMC,064951.000,A,2307.1256,N,12016.4438,E,0.03,165.48,260406,3.05,W,A*2C
 667:Src/Eagle_TRT.c **** 			* $GPVTG,165.48,T,,M,0.03,N,0.06,K,A*37
 668:Src/Eagle_TRT.c **** 			* $PGTOP,11,3 *6F
 669:Src/Eagle_TRT.c **** 			*
 670:Src/Eagle_TRT.c **** 			*
 671:Src/Eagle_TRT.c **** 			*
 672:Src/Eagle_TRT.c **** 			* 	$GPBOD - Bearing, origin to destination
 673:Src/Eagle_TRT.c **** 				$GPBWC - Bearing and distance to waypoint, great circle
 674:Src/Eagle_TRT.c **** 				$GPGGA - Global Positioning System Fix Data
 675:Src/Eagle_TRT.c **** 				$GPGLL - Geographic position, latitude / longitude
 676:Src/Eagle_TRT.c **** 				$GPGSA - GPS DOP and active satellites
 677:Src/Eagle_TRT.c **** 				$GPGSV - GPS Satellites in view
 678:Src/Eagle_TRT.c **** 				$GPHDT - Heading, True
 679:Src/Eagle_TRT.c **** 				$GPR00 - List of waypoints in currently active route
 680:Src/Eagle_TRT.c **** 				$GPRMA - Recommended minimum specific Loran-C data
 681:Src/Eagle_TRT.c **** 				$GPRMB - Recommended minimum navigation info
 682:Src/Eagle_TRT.c **** 				$GPRMC - Recommended minimum specific GPS/Transit data
 683:Src/Eagle_TRT.c **** 				$GPRTE - Routes
 684:Src/Eagle_TRT.c **** 				$GPTRF - Transit Fix Data
 685:Src/Eagle_TRT.c **** 				$GPSTN - Multiple Data ID
 686:Src/Eagle_TRT.c **** 				$GPVBW - Dual Ground / Water Speed
 687:Src/Eagle_TRT.c **** 				$GPVTG - Track made good and ground speed
 688:Src/Eagle_TRT.c **** 				$GPWPL - Waypoint location
 689:Src/Eagle_TRT.c **** 				$GPXTE - Cross-track error, Measured
ARM GAS  /tmp/ccqVNF68.s 			page 15


 690:Src/Eagle_TRT.c **** 				$GPZDA - Date & Time
 691:Src/Eagle_TRT.c **** 				http://aprs.gids.nl/nmea/
 692:Src/Eagle_TRT.c **** 			*/
 693:Src/Eagle_TRT.c **** 	if (huart == huart_GPS)
 694:Src/Eagle_TRT.c **** 	{
 695:Src/Eagle_TRT.c **** 		//check if it's the huart_gps interrupt
 696:Src/Eagle_TRT.c **** 		HAL_UART_Receive_IT(huart_GPS, (uint8_t *)buffer_gps, 1); //request interrupt for the next data
 697:Src/Eagle_TRT.c **** 		data_string_gps = buffer_gps[0];						  //convert a pointer into a char
 698:Src/Eagle_TRT.c **** 		if ((start_string_gps == 1) && (data_string_gps != '$'))
 699:Src/Eagle_TRT.c **** 		{											   //check that the new string has not started yet
 700:Src/Eagle_TRT.c **** 			string_gps[cont_string] = data_string_gps; //save the data into the array
 701:Src/Eagle_TRT.c **** 			cont_string++;
 702:Src/Eagle_TRT.c **** 			if (string_gps[cont_string - 1] == '\r' || string_gps[cont_string - 1] == '\n')
 703:Src/Eagle_TRT.c **** 			{ //indicates that the string is finishing
 704:Src/Eagle_TRT.c **** 				cont_string--;
 705:Src/Eagle_TRT.c **** 				string_gps[cont_string] = '\0'; // '\0'=end of the string
 706:Src/Eagle_TRT.c **** 				start_string_gps = 0;			//end of string
 707:Src/Eagle_TRT.c **** 				if (string_gps[2] == 'G' && string_gps[3] == 'G' && string_gps[4] == 'A')
 708:Src/Eagle_TRT.c **** 				{ // operation when the string is GPGGA //
 709:Src/Eagle_TRT.c **** 					if (checksum(string_gps, cont_string) == 1)
 710:Src/Eagle_TRT.c **** 					{ //check the checksum (if==true -> enter)
 711:Src/Eagle_TRT.c **** 						int cont_comma = 0, cont_latitude = 0, cont_longitude = 0, cont_altitude = 0, cont_time = 0;
 712:Src/Eagle_TRT.c **** 						for (int i = 5; i < 100; i++)
 713:Src/Eagle_TRT.c **** 						{
 714:Src/Eagle_TRT.c **** 							if (string_gps[i] == ',')
 715:Src/Eagle_TRT.c **** 								cont_comma++;
 716:Src/Eagle_TRT.c **** 							else
 717:Src/Eagle_TRT.c **** 							{
 718:Src/Eagle_TRT.c **** 								if (cont_comma == 1)
 719:Src/Eagle_TRT.c **** 								{ //save the time
 720:Src/Eagle_TRT.c **** 									gps->time[cont_time] = string_gps[i];
 721:Src/Eagle_TRT.c **** 									cont_time++;
 722:Src/Eagle_TRT.c **** 								}
 723:Src/Eagle_TRT.c **** 								else if (cont_comma == 2)
 724:Src/Eagle_TRT.c **** 								{ //save latitude
 725:Src/Eagle_TRT.c **** 									gps->latitude[cont_latitude] = string_gps[i];
 726:Src/Eagle_TRT.c **** 									cont_latitude++;
 727:Src/Eagle_TRT.c **** 								}
 728:Src/Eagle_TRT.c **** 								else if (cont_comma == 3)
 729:Src/Eagle_TRT.c **** 								{ //save orientation of latitude
 730:Src/Eagle_TRT.c **** 									gps->latitude_o[0] = string_gps[i];
 731:Src/Eagle_TRT.c **** 								}
 732:Src/Eagle_TRT.c **** 								else if (cont_comma == 4)
 733:Src/Eagle_TRT.c **** 								{ //save longitude
 734:Src/Eagle_TRT.c **** 									gps->longitude[cont_longitude] = string_gps[i];
 735:Src/Eagle_TRT.c **** 									cont_longitude++;
 736:Src/Eagle_TRT.c **** 								}
 737:Src/Eagle_TRT.c **** 								else if (cont_comma == 5)
 738:Src/Eagle_TRT.c **** 								{ //save orientation of longitude
 739:Src/Eagle_TRT.c **** 									gps->longitude_o[0] = string_gps[i];
 740:Src/Eagle_TRT.c **** 								}
 741:Src/Eagle_TRT.c **** 								else if (cont_comma == 6)
 742:Src/Eagle_TRT.c **** 								{
 743:Src/Eagle_TRT.c **** 									gps->fix_status = string_gps[i];
 744:Src/Eagle_TRT.c **** 								}
 745:Src/Eagle_TRT.c **** 								else if (cont_comma == 9)
 746:Src/Eagle_TRT.c **** 								{ //save altitude
ARM GAS  /tmp/ccqVNF68.s 			page 16


 747:Src/Eagle_TRT.c **** 									gps->altitude[cont_altitude] = string_gps[i];
 748:Src/Eagle_TRT.c **** 									cont_altitude++;
 749:Src/Eagle_TRT.c **** 								}
 750:Src/Eagle_TRT.c **** 								else if (cont_comma == 10)
 751:Src/Eagle_TRT.c **** 								{
 752:Src/Eagle_TRT.c **** 									i = 100; //end the cicle
 753:Src/Eagle_TRT.c **** 								}
 754:Src/Eagle_TRT.c **** 							}
 755:Src/Eagle_TRT.c **** 						}
 756:Src/Eagle_TRT.c **** 						//-- operation to split data and send them --//
 757:Src/Eagle_TRT.c **** 						if (gps->fix_status == '0')
 758:Src/Eagle_TRT.c **** 						{
 759:Src/Eagle_TRT.c **** 							gps->latitude_i_h = 0;
 760:Src/Eagle_TRT.c **** 							gps->latitude_i_l = 0;
 761:Src/Eagle_TRT.c **** 							gps->longitude_i_h = 0;
 762:Src/Eagle_TRT.c **** 							gps->longitude_i_l = 0;
 763:Src/Eagle_TRT.c **** 							gps->altitude_i = 0;
 764:Src/Eagle_TRT.c **** 						}
 765:Src/Eagle_TRT.c **** 						else
 766:Src/Eagle_TRT.c **** 						{
 767:Src/Eagle_TRT.c **** 							gps->latitude_i = (long int)(atof(gps->latitude) * 10000);
 768:Src/Eagle_TRT.c **** 							gps->longitude_i = (long int)(atof(gps->longitude) * 100000);
 769:Src/Eagle_TRT.c **** 							gps->altitude_i = (int)(atof(gps->altitude) * 100);
 770:Src/Eagle_TRT.c **** 							gps->latitude_i_h = (int)(gps->latitude_i / 10000);
 771:Src/Eagle_TRT.c **** 							gps->latitude_i_l = (int)(gps->latitude_i - gps->latitude_i_h * 10000);
 772:Src/Eagle_TRT.c **** 							gps->longitude_i_h = (int)(gps->longitude_i / 100000);
 773:Src/Eagle_TRT.c **** 							gps->longitude_i_l = (int)(gps->longitude_i - gps->longitude_i_h * 100000);
 774:Src/Eagle_TRT.c **** 						}
 775:Src/Eagle_TRT.c **** 
 776:Src/Eagle_TRT.c **** 						can.dataTx[0] = 0x08;
 777:Src/Eagle_TRT.c **** 						can.dataTx[1] = gps->longitude_i_h / 256;
 778:Src/Eagle_TRT.c **** 						can.dataTx[2] = gps->longitude_i_h % 256;
 779:Src/Eagle_TRT.c **** 						can.dataTx[3] = gps->longitude_i_l / 256;
 780:Src/Eagle_TRT.c **** 						can.dataTx[4] = gps->longitude_i_l % 256;
 781:Src/Eagle_TRT.c **** 						can.dataTx[5] = (int)gps->longitude_o;
 782:Src/Eagle_TRT.c **** 						can.dataTx[6] = gps->altitude_i / 256;
 783:Src/Eagle_TRT.c **** 						can.dataTx[7] = gps->altitude_i % 256;
 784:Src/Eagle_TRT.c **** 						can.id = 0xD0;
 785:Src/Eagle_TRT.c **** 						can.size = 8;
 786:Src/Eagle_TRT.c **** 						CAN_Send(&can);
 787:Src/Eagle_TRT.c **** 					}
 788:Src/Eagle_TRT.c **** 					else
 789:Src/Eagle_TRT.c **** 					{
 790:Src/Eagle_TRT.c **** 						ret = 0; //checksum failed
 791:Src/Eagle_TRT.c **** 					}
 792:Src/Eagle_TRT.c **** 				}
 793:Src/Eagle_TRT.c **** 				else if (string_gps[2] == 'V' && string_gps[3] == 'T' && string_gps[4] == 'G')
 794:Src/Eagle_TRT.c **** 				{ // operation when the string is GPVTG //
 795:Src/Eagle_TRT.c **** 					if (checksum(string_gps, cont_string) == 1)
 796:Src/Eagle_TRT.c **** 					{ //check the checksum (if==true -> enter)
 797:Src/Eagle_TRT.c **** 						cont_comma = 0;
 798:Src/Eagle_TRT.c **** 						int cont_speed = 0;
 799:Src/Eagle_TRT.c **** 						for (int i = 5; i < cont_string; i++)
 800:Src/Eagle_TRT.c **** 						{
 801:Src/Eagle_TRT.c **** 							if (string_gps[i] == ',')
 802:Src/Eagle_TRT.c **** 								cont_comma++;
 803:Src/Eagle_TRT.c **** 							else
ARM GAS  /tmp/ccqVNF68.s 			page 17


 804:Src/Eagle_TRT.c **** 							{
 805:Src/Eagle_TRT.c **** 								if (cont_comma == 7)
 806:Src/Eagle_TRT.c **** 								{ //save the speed
 807:Src/Eagle_TRT.c **** 									gps->speed[cont_speed] = string_gps[i];
 808:Src/Eagle_TRT.c **** 									cont_speed++;
 809:Src/Eagle_TRT.c **** 								}
 810:Src/Eagle_TRT.c **** 								else if (cont_comma == 8)
 811:Src/Eagle_TRT.c **** 								{
 812:Src/Eagle_TRT.c **** 									i = cont_string;
 813:Src/Eagle_TRT.c **** 								}
 814:Src/Eagle_TRT.c **** 							}
 815:Src/Eagle_TRT.c **** 						}
 816:Src/Eagle_TRT.c **** 						//-- operation to split data and send them --//
 817:Src/Eagle_TRT.c **** 						if (gps->fix_status == '0')
 818:Src/Eagle_TRT.c **** 						{
 819:Src/Eagle_TRT.c **** 							gps->speed_i = 0;
 820:Src/Eagle_TRT.c **** 						}
 821:Src/Eagle_TRT.c **** 						else
 822:Src/Eagle_TRT.c **** 						{
 823:Src/Eagle_TRT.c **** 							gps->speed_i = (int)(atof(gps->speed) * 100);
 824:Src/Eagle_TRT.c **** 						}
 825:Src/Eagle_TRT.c **** 						can.dataTx[0] = 0x07;
 826:Src/Eagle_TRT.c **** 						can.dataTx[1] = gps->latitude_i_h / 256;
 827:Src/Eagle_TRT.c **** 						can.dataTx[2] = gps->latitude_i_h % 256;
 828:Src/Eagle_TRT.c **** 						can.dataTx[3] = gps->latitude_i_l / 256;
 829:Src/Eagle_TRT.c **** 						can.dataTx[4] = gps->latitude_i_l % 256;
 830:Src/Eagle_TRT.c **** 						can.dataTx[5] = (int)gps->latitude_o;
 831:Src/Eagle_TRT.c **** 						can.dataTx[6] = gps->speed_i / 256;
 832:Src/Eagle_TRT.c **** 						can.dataTx[7] = gps->speed_i % 256;
 833:Src/Eagle_TRT.c **** 						can.id = 0xD0;
 834:Src/Eagle_TRT.c **** 						can.size = 8;
 835:Src/Eagle_TRT.c **** 						CAN_Send(&can);
 836:Src/Eagle_TRT.c **** 						ret = 1;
 837:Src/Eagle_TRT.c **** 					}
 838:Src/Eagle_TRT.c **** 					else
 839:Src/Eagle_TRT.c **** 					{
 840:Src/Eagle_TRT.c **** 						ret = 0; //checksum failed
 841:Src/Eagle_TRT.c **** 					}
 842:Src/Eagle_TRT.c **** 				}
 843:Src/Eagle_TRT.c **** 			}
 844:Src/Eagle_TRT.c **** 		}
 845:Src/Eagle_TRT.c **** 		else
 846:Src/Eagle_TRT.c **** 		{
 847:Src/Eagle_TRT.c **** 			if (data_string_gps == '$')
 848:Src/Eagle_TRT.c **** 			{						  //check if data indicates the start of new string
 849:Src/Eagle_TRT.c **** 				start_string_gps = 1; //new string started
 850:Src/Eagle_TRT.c **** 				cont_string = 0;	  //set the counter to 1
 851:Src/Eagle_TRT.c **** 			}
 852:Src/Eagle_TRT.c **** 		}
 853:Src/Eagle_TRT.c **** 	}
 854:Src/Eagle_TRT.c **** 	return ret;
 855:Src/Eagle_TRT.c **** }
 856:Src/Eagle_TRT.c **** static int checksum(char *string_checksum, int size_string_checksum)
 857:Src/Eagle_TRT.c **** { //check the checksum
 117              		.loc 1 857 0
 118              		.cfi_startproc
 119              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccqVNF68.s 			page 18


 120              		@ frame_needed = 0, uses_anonymous_args = 0
 121              	.LVL8:
 122 0000 70B5     		push	{r4, r5, r6, lr}
 123              	.LCFI1:
 124              		.cfi_def_cfa_offset 16
 125              		.cfi_offset 4, -16
 126              		.cfi_offset 5, -12
 127              		.cfi_offset 6, -8
 128              		.cfi_offset 14, -4
 129 0002 82B0     		sub	sp, sp, #8
 130              	.LCFI2:
 131              		.cfi_def_cfa_offset 24
 132              	.LVL9:
 858:Src/Eagle_TRT.c **** 	//return 1;
 859:Src/Eagle_TRT.c **** 
 860:Src/Eagle_TRT.c **** 	int res = 0;
 861:Src/Eagle_TRT.c **** 	int offset_maiusc = (int)('A') - (int)('a');
 862:Src/Eagle_TRT.c **** 	int i = 0;
 863:Src/Eagle_TRT.c **** 
 864:Src/Eagle_TRT.c **** 	for (i = 0; (i < size_string_checksum) && (string_checksum[i] != '*'); i++)
 133              		.loc 1 864 0
 134 0004 0023     		movs	r3, #0
 860:Src/Eagle_TRT.c **** 	int offset_maiusc = (int)('A') - (int)('a');
 135              		.loc 1 860 0
 136 0006 1C46     		mov	r4, r3
 137              	.LVL10:
 138              	.L6:
 139              		.loc 1 864 0 discriminator 1
 140 0008 8B42     		cmp	r3, r1
 141 000a 02DA     		bge	.L7
 142              		.loc 1 864 0 is_stmt 0 discriminator 3
 143 000c C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 144 000e 2A2A     		cmp	r2, #42
 145 0010 1ED1     		bne	.L8
 146              	.L7:
 865:Src/Eagle_TRT.c **** 	{
 866:Src/Eagle_TRT.c **** 		res = res ^ string_checksum[i];
 867:Src/Eagle_TRT.c **** 	}
 868:Src/Eagle_TRT.c **** 	char check[2] = {string_checksum[i + 1], string_checksum[i + 2]};
 147              		.loc 1 868 0 is_stmt 1
 148 0012 1844     		add	r0, r0, r3
 149              	.LVL11:
 150 0014 4578     		ldrb	r5, [r0, #1]	@ zero_extendqisi2
 151 0016 8678     		ldrb	r6, [r0, #2]	@ zero_extendqisi2
 869:Src/Eagle_TRT.c **** 	char res_char[3];
 870:Src/Eagle_TRT.c **** 	sprintf(res_char, "%x", res);
 152              		.loc 1 870 0
 153 0018 2246     		mov	r2, r4
 154 001a 1949     		ldr	r1, .L17
 155              	.LVL12:
 156 001c 01A8     		add	r0, sp, #4
 157 001e FFF7FEFF 		bl	sprintf
 158              	.LVL13:
 871:Src/Eagle_TRT.c **** 	if (res < 17)
 159              		.loc 1 871 0
 160 0022 102C     		cmp	r4, #16
 161 0024 06DC     		bgt	.L9
ARM GAS  /tmp/ccqVNF68.s 			page 19


 872:Src/Eagle_TRT.c **** 	{
 873:Src/Eagle_TRT.c **** 		res_char[1] = res_char[0];
 162              		.loc 1 873 0
 163 0026 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 164 002a 8DF80530 		strb	r3, [sp, #5]
 874:Src/Eagle_TRT.c **** 		res_char[0] = '0';
 165              		.loc 1 874 0
 166 002e 3023     		movs	r3, #48
 167 0030 8DF80430 		strb	r3, [sp, #4]
 168              	.L9:
 860:Src/Eagle_TRT.c **** 	int offset_maiusc = (int)('A') - (int)('a');
 169              		.loc 1 860 0 discriminator 1
 170 0034 0023     		movs	r3, #0
 171              	.L10:
 172              	.LVL14:
 173              	.LBB2:
 875:Src/Eagle_TRT.c **** 	}
 876:Src/Eagle_TRT.c **** 	for (int j = 0; j < 2; j++)
 174              		.loc 1 876 0 discriminator 1
 175 0036 012B     		cmp	r3, #1
 176 0038 0DDD     		ble	.L12
 177              	.LBE2:
 877:Src/Eagle_TRT.c **** 	{ //convert to upper case letter
 878:Src/Eagle_TRT.c **** 		if ((int)res_char[j] >= 'a' && (int)res_char[j] <= 'f')
 879:Src/Eagle_TRT.c **** 		{
 880:Src/Eagle_TRT.c **** 			res_char[j] = (char)((int)res_char[j] + offset_maiusc);
 881:Src/Eagle_TRT.c **** 		}
 882:Src/Eagle_TRT.c **** 	}
 883:Src/Eagle_TRT.c **** 	if (res_char[0] == check[0] && res_char[1] == check[1])
 178              		.loc 1 883 0
 179 003a 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 180              	.LVL15:
 181 003e 9D42     		cmp	r5, r3
 182 0040 19D1     		bne	.L14
 183              		.loc 1 883 0 is_stmt 0 discriminator 1
 184 0042 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 185 0046 9E42     		cmp	r6, r3
 186 0048 17D0     		beq	.L15
 884:Src/Eagle_TRT.c **** 	{
 885:Src/Eagle_TRT.c **** 		return 1; //checksum is correct
 886:Src/Eagle_TRT.c **** 	}
 887:Src/Eagle_TRT.c **** 	else
 888:Src/Eagle_TRT.c **** 	{
 889:Src/Eagle_TRT.c **** 		return 0; //checksum failed
 187              		.loc 1 889 0 is_stmt 1
 188 004a 0020     		movs	r0, #0
 189              	.L5:
 890:Src/Eagle_TRT.c **** 	}
 891:Src/Eagle_TRT.c **** }
 190              		.loc 1 891 0
 191 004c 02B0     		add	sp, sp, #8
 192              	.LCFI3:
 193              		.cfi_remember_state
 194              		.cfi_def_cfa_offset 16
 195              		@ sp needed
 196 004e 70BD     		pop	{r4, r5, r6, pc}
 197              	.LVL16:
ARM GAS  /tmp/ccqVNF68.s 			page 20


 198              	.L8:
 199              	.LCFI4:
 200              		.cfi_restore_state
 866:Src/Eagle_TRT.c **** 	}
 201              		.loc 1 866 0 discriminator 4
 202 0050 5440     		eors	r4, r4, r2
 203              	.LVL17:
 864:Src/Eagle_TRT.c **** 	{
 204              		.loc 1 864 0 discriminator 4
 205 0052 0133     		adds	r3, r3, #1
 206              	.LVL18:
 207 0054 D8E7     		b	.L6
 208              	.LVL19:
 209              	.L12:
 210              	.LBB3:
 878:Src/Eagle_TRT.c **** 		{
 211              		.loc 1 878 0
 212 0056 02AA     		add	r2, sp, #8
 213 0058 1A44     		add	r2, r2, r3
 214 005a 12F8042C 		ldrb	r2, [r2, #-4]	@ zero_extendqisi2
 215 005e A2F16101 		sub	r1, r2, #97
 216 0062 C9B2     		uxtb	r1, r1
 217 0064 0529     		cmp	r1, #5
 218 0066 04D8     		bhi	.L11
 880:Src/Eagle_TRT.c **** 		}
 219              		.loc 1 880 0
 220 0068 203A     		subs	r2, r2, #32
 221 006a 02A9     		add	r1, sp, #8
 222 006c 1944     		add	r1, r1, r3
 223 006e 01F8042C 		strb	r2, [r1, #-4]
 224              	.L11:
 876:Src/Eagle_TRT.c **** 	{ //convert to upper case letter
 225              		.loc 1 876 0 discriminator 2
 226 0072 0133     		adds	r3, r3, #1
 227              	.LVL20:
 228 0074 DFE7     		b	.L10
 229              	.LVL21:
 230              	.L14:
 231              	.LBE3:
 889:Src/Eagle_TRT.c **** 	}
 232              		.loc 1 889 0
 233 0076 0020     		movs	r0, #0
 234 0078 E8E7     		b	.L5
 235              	.L15:
 885:Src/Eagle_TRT.c **** 	}
 236              		.loc 1 885 0
 237 007a 0120     		movs	r0, #1
 238 007c E6E7     		b	.L5
 239              	.L18:
 240 007e 00BF     		.align	2
 241              	.L17:
 242 0080 00000000 		.word	.LC0
 243              		.cfi_endproc
 244              	.LFE151:
 246              		.section	.text.send_config,"ax",%progbits
 247              		.align	1
 248              		.global	send_config
ARM GAS  /tmp/ccqVNF68.s 			page 21


 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 252              		.fpu fpv4-sp-d16
 254              	send_config:
 255              	.LFB131:
 130:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(pinx, pinn, GPIO_PIN_RESET); ///CS_InUse to 0
 256              		.loc 1 130 0
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              	.LVL22:
 261 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 262              	.LCFI5:
 263              		.cfi_def_cfa_offset 24
 264              		.cfi_offset 4, -24
 265              		.cfi_offset 5, -20
 266              		.cfi_offset 6, -16
 267              		.cfi_offset 7, -12
 268              		.cfi_offset 8, -8
 269              		.cfi_offset 14, -4
 270 0004 0546     		mov	r5, r0
 271 0006 0E46     		mov	r6, r1
 272 0008 9046     		mov	r8, r2
 273 000a 1F46     		mov	r7, r3
 131:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;					   //set counter to 0
 274              		.loc 1 131 0
 275 000c 0022     		movs	r2, #0
 276              	.LVL23:
 277 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 278              	.LVL24:
 132:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 279              		.loc 1 132 0
 280 0012 124B     		ldr	r3, .L23
 281 0014 1A68     		ldr	r2, [r3]
 282 0016 0023     		movs	r3, #0
 283 0018 5362     		str	r3, [r2, #36]
 284              	.L20:
 133:Src/Eagle_TRT.c **** 	{
 285              		.loc 1 133 0 discriminator 1
 286 001a 536A     		ldr	r3, [r2, #36]
 287 001c 142B     		cmp	r3, #20
 288 001e FCD9     		bls	.L20
 136:Src/Eagle_TRT.c **** 	HAL_SPI_Transmit(imu.hspi, val, 1, 10);  ///Writing 0b00001111 to enable PowerMode and x,y,z axis
 289              		.loc 1 136 0
 290 0020 0F4C     		ldr	r4, .L23+4
 291 0022 0A23     		movs	r3, #10
 292 0024 0122     		movs	r2, #1
 293 0026 4146     		mov	r1, r8
 294 0028 D4F83002 		ldr	r0, [r4, #560]
 295 002c FFF7FEFF 		bl	HAL_SPI_Transmit
 296              	.LVL25:
 137:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;				 //set counter to 0
 297              		.loc 1 137 0
 298 0030 0A23     		movs	r3, #10
 299 0032 0122     		movs	r2, #1
 300 0034 3946     		mov	r1, r7
ARM GAS  /tmp/ccqVNF68.s 			page 22


 301 0036 D4F83002 		ldr	r0, [r4, #560]
 302 003a FFF7FEFF 		bl	HAL_SPI_Transmit
 303              	.LVL26:
 138:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 304              		.loc 1 138 0
 305 003e 074B     		ldr	r3, .L23
 306 0040 1A68     		ldr	r2, [r3]
 307 0042 0023     		movs	r3, #0
 308 0044 5362     		str	r3, [r2, #36]
 309              	.L21:
 139:Src/Eagle_TRT.c **** 	{
 310              		.loc 1 139 0 discriminator 1
 311 0046 536A     		ldr	r3, [r2, #36]
 312 0048 142B     		cmp	r3, #20
 313 004a FCD9     		bls	.L21
 142:Src/Eagle_TRT.c **** }
 314              		.loc 1 142 0
 315 004c 0122     		movs	r2, #1
 316 004e 3146     		mov	r1, r6
 317 0050 2846     		mov	r0, r5
 318 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 319              	.LVL27:
 320 0056 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 321              	.LVL28:
 322              	.L24:
 323 005a 00BF     		.align	2
 324              	.L23:
 325 005c 00000000 		.word	htim2
 326 0060 00000000 		.word	imu
 327              		.cfi_endproc
 328              	.LFE131:
 330              		.section	.text.LSMD9S0_accel_gyro_init,"ax",%progbits
 331              		.align	1
 332              		.global	LSMD9S0_accel_gyro_init
 333              		.syntax unified
 334              		.thumb
 335              		.thumb_func
 336              		.fpu fpv4-sp-d16
 338              	LSMD9S0_accel_gyro_init:
 339              	.LFB132:
 149:Src/Eagle_TRT.c **** 
 340              		.loc 1 149 0
 341              		.cfi_startproc
 342              		@ args = 0, pretend = 0, frame = 0
 343              		@ frame_needed = 0, uses_anonymous_args = 0
 344              	.LVL29:
 345 0000 38B5     		push	{r3, r4, r5, lr}
 346              	.LCFI6:
 347              		.cfi_def_cfa_offset 16
 348              		.cfi_offset 3, -16
 349              		.cfi_offset 4, -12
 350              		.cfi_offset 5, -8
 351              		.cfi_offset 14, -4
 352 0002 0446     		mov	r4, r0
 353 0004 0D46     		mov	r5, r1
 151:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_9, GPIO_PIN_SET); ///CS_XM to 1
 354              		.loc 1 151 0
ARM GAS  /tmp/ccqVNF68.s 			page 23


 355 0006 0122     		movs	r2, #1
 356 0008 4FF48071 		mov	r1, #256
 357              	.LVL30:
 358 000c 5F48     		ldr	r0, .L43
 359              	.LVL31:
 360 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 361              	.LVL32:
 152:Src/Eagle_TRT.c **** 
 362              		.loc 1 152 0
 363 0012 0122     		movs	r2, #1
 364 0014 4FF40071 		mov	r1, #512
 365 0018 5D48     		ldr	r0, .L43+4
 366 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 367              	.LVL33:
 155:Src/Eagle_TRT.c **** 
 368              		.loc 1 155 0
 369 001e 5D4B     		ldr	r3, .L43+8
 370 0020 5D4A     		ldr	r2, .L43+12
 371 0022 B5F82412 		ldrh	r1, [r5, #548]
 372 0026 D5F82002 		ldr	r0, [r5, #544]
 373 002a FFF7FEFF 		bl	send_config
 374              	.LVL34:
 158:Src/Eagle_TRT.c **** 
 375              		.loc 1 158 0
 376 002e 5B4B     		ldr	r3, .L43+16
 377 0030 5B4A     		ldr	r2, .L43+20
 378 0032 B4F82412 		ldrh	r1, [r4, #548]
 379 0036 D4F82002 		ldr	r0, [r4, #544]
 380 003a FFF7FEFF 		bl	send_config
 381              	.LVL35:
 160:Src/Eagle_TRT.c **** 	send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG6_XM_ADD, (uint8_t *)&C
 382              		.loc 1 160 0
 383 003e 594B     		ldr	r3, .L43+24
 384 0040 594A     		ldr	r2, .L43+28
 385 0042 B4F82412 		ldrh	r1, [r4, #548]
 386 0046 D4F82002 		ldr	r0, [r4, #544]
 387 004a FFF7FEFF 		bl	send_config
 388              	.LVL36:
 161:Src/Eagle_TRT.c **** 	send_config(accel->GPIOx_InUse, accel->GPIO_Pin_InUse, (uint8_t *)&CTRL_REG7_XM_ADD, (uint8_t *)&C
 389              		.loc 1 161 0
 390 004e 574B     		ldr	r3, .L43+32
 391 0050 574A     		ldr	r2, .L43+36
 392 0052 B4F82412 		ldrh	r1, [r4, #548]
 393 0056 D4F82002 		ldr	r0, [r4, #544]
 394 005a FFF7FEFF 		bl	send_config
 395              	.LVL37:
 162:Src/Eagle_TRT.c **** 
 396              		.loc 1 162 0
 397 005e 554B     		ldr	r3, .L43+40
 398 0060 554A     		ldr	r2, .L43+44
 399 0062 B4F82412 		ldrh	r1, [r4, #548]
 400 0066 D4F82002 		ldr	r0, [r4, #544]
 401 006a FFF7FEFF 		bl	send_config
 402              	.LVL38:
 165:Src/Eagle_TRT.c **** 	{
 403              		.loc 1 165 0
 404 006e D5F81832 		ldr	r3, [r5, #536]
ARM GAS  /tmp/ccqVNF68.s 			page 24


 405 0072 B3F5FA7F 		cmp	r3, #500
 406 0076 28D0     		beq	.L27
 407 0078 0EDD     		ble	.L42
 408 007a B3F57A7F 		cmp	r3, #1000
 409 007e 2DD0     		beq	.L30
 410 0080 B3F5FA6F 		cmp	r3, #2000
 411 0084 33D1     		bne	.L26
 177:Src/Eagle_TRT.c **** 		break;
 412              		.loc 1 177 0
 413 0086 4D4B     		ldr	r3, .L43+48
 414 0088 4D4A     		ldr	r2, .L43+52
 415 008a B5F82412 		ldrh	r1, [r5, #548]
 416 008e D5F82002 		ldr	r0, [r5, #544]
 417 0092 FFF7FEFF 		bl	send_config
 418              	.LVL39:
 178:Src/Eagle_TRT.c **** 	default:
 419              		.loc 1 178 0
 420 0096 09E0     		b	.L32
 421              	.L42:
 165:Src/Eagle_TRT.c **** 	{
 422              		.loc 1 165 0
 423 0098 F52B     		cmp	r3, #245
 424 009a 28D1     		bne	.L26
 168:Src/Eagle_TRT.c **** 		break;
 425              		.loc 1 168 0
 426 009c 494B     		ldr	r3, .L43+56
 427 009e 484A     		ldr	r2, .L43+52
 428 00a0 B5F82412 		ldrh	r1, [r5, #548]
 429 00a4 D5F82002 		ldr	r0, [r5, #544]
 430 00a8 FFF7FEFF 		bl	send_config
 431              	.LVL40:
 432              	.L32:
 186:Src/Eagle_TRT.c **** 	{
 433              		.loc 1 186 0
 434 00ac D4F81832 		ldr	r3, [r4, #536]
 435 00b0 023B     		subs	r3, r3, #2
 436 00b2 0E2B     		cmp	r3, #14
 437 00b4 5ED8     		bhi	.L33
 438 00b6 DFE803F0 		tbb	[pc, r3]
 439              	.L35:
 440 00ba 27       		.byte	(.L34-.L35)/2
 441 00bb 5D       		.byte	(.L33-.L35)/2
 442 00bc 39       		.byte	(.L36-.L35)/2
 443 00bd 5D       		.byte	(.L33-.L35)/2
 444 00be 42       		.byte	(.L37-.L35)/2
 445 00bf 5D       		.byte	(.L33-.L35)/2
 446 00c0 4B       		.byte	(.L38-.L35)/2
 447 00c1 5D       		.byte	(.L33-.L35)/2
 448 00c2 5D       		.byte	(.L33-.L35)/2
 449 00c3 5D       		.byte	(.L33-.L35)/2
 450 00c4 5D       		.byte	(.L33-.L35)/2
 451 00c5 5D       		.byte	(.L33-.L35)/2
 452 00c6 5D       		.byte	(.L33-.L35)/2
 453 00c7 5D       		.byte	(.L33-.L35)/2
 454 00c8 54       		.byte	(.L39-.L35)/2
 455 00c9 00       		.p2align 1
 456              	.L27:
ARM GAS  /tmp/ccqVNF68.s 			page 25


 171:Src/Eagle_TRT.c **** 		break;
 457              		.loc 1 171 0
 458 00ca 3F4B     		ldr	r3, .L43+60
 459 00cc 3C4A     		ldr	r2, .L43+52
 460 00ce B5F82412 		ldrh	r1, [r5, #548]
 461 00d2 D5F82002 		ldr	r0, [r5, #544]
 462 00d6 FFF7FEFF 		bl	send_config
 463              	.LVL41:
 172:Src/Eagle_TRT.c **** 	case 1000:
 464              		.loc 1 172 0
 465 00da E7E7     		b	.L32
 466              	.L30:
 174:Src/Eagle_TRT.c **** 		break;
 467              		.loc 1 174 0
 468 00dc 3B4B     		ldr	r3, .L43+64
 469 00de 384A     		ldr	r2, .L43+52
 470 00e0 B5F82412 		ldrh	r1, [r5, #548]
 471 00e4 D5F82002 		ldr	r0, [r5, #544]
 472 00e8 FFF7FEFF 		bl	send_config
 473              	.LVL42:
 175:Src/Eagle_TRT.c **** 	case 2000:
 474              		.loc 1 175 0
 475 00ec DEE7     		b	.L32
 476              	.L26:
 180:Src/Eagle_TRT.c **** 		gyro->scale = 500;
 477              		.loc 1 180 0
 478 00ee 354B     		ldr	r3, .L43+56
 479 00f0 334A     		ldr	r2, .L43+52
 480 00f2 B5F82412 		ldrh	r1, [r5, #548]
 481 00f6 D5F82002 		ldr	r0, [r5, #544]
 482 00fa FFF7FEFF 		bl	send_config
 483              	.LVL43:
 181:Src/Eagle_TRT.c **** 		break;
 484              		.loc 1 181 0
 485 00fe 4FF4FA73 		mov	r3, #500
 486 0102 C5F81832 		str	r3, [r5, #536]
 182:Src/Eagle_TRT.c **** 	}
 487              		.loc 1 182 0
 488 0106 D1E7     		b	.L32
 489              	.L34:
 189:Src/Eagle_TRT.c **** 		break;
 490              		.loc 1 189 0
 491 0108 314B     		ldr	r3, .L43+68
 492 010a 324A     		ldr	r2, .L43+72
 493 010c B4F82412 		ldrh	r1, [r4, #548]
 494 0110 D4F82002 		ldr	r0, [r4, #544]
 495 0114 FFF7FEFF 		bl	send_config
 496              	.LVL44:
 497              	.L40:
 209:Src/Eagle_TRT.c **** 
 498              		.loc 1 209 0
 499 0118 0120     		movs	r0, #1
 500 011a FFF7FEFF 		bl	HAL_Delay
 501              	.LVL45:
 211:Src/Eagle_TRT.c **** }
 502              		.loc 1 211 0
 503 011e 0A23     		movs	r3, #10
ARM GAS  /tmp/ccqVNF68.s 			page 26


 504 0120 1A22     		movs	r2, #26
 505 0122 2D49     		ldr	r1, .L43+76
 506 0124 2D48     		ldr	r0, .L43+80
 507 0126 FFF7FEFF 		bl	HAL_UART_Transmit
 508              	.LVL46:
 509 012a 38BD     		pop	{r3, r4, r5, pc}
 510              	.LVL47:
 511              	.L36:
 192:Src/Eagle_TRT.c **** 		break;
 512              		.loc 1 192 0
 513 012c 2C4B     		ldr	r3, .L43+84
 514 012e 294A     		ldr	r2, .L43+72
 515 0130 B4F82412 		ldrh	r1, [r4, #548]
 516 0134 D4F82002 		ldr	r0, [r4, #544]
 517 0138 FFF7FEFF 		bl	send_config
 518              	.LVL48:
 193:Src/Eagle_TRT.c **** 	case 6:
 519              		.loc 1 193 0
 520 013c ECE7     		b	.L40
 521              	.L37:
 195:Src/Eagle_TRT.c **** 		break;
 522              		.loc 1 195 0
 523 013e 294B     		ldr	r3, .L43+88
 524 0140 244A     		ldr	r2, .L43+72
 525 0142 B4F82412 		ldrh	r1, [r4, #548]
 526 0146 D4F82002 		ldr	r0, [r4, #544]
 527 014a FFF7FEFF 		bl	send_config
 528              	.LVL49:
 196:Src/Eagle_TRT.c **** 	case 8:
 529              		.loc 1 196 0
 530 014e E3E7     		b	.L40
 531              	.L38:
 198:Src/Eagle_TRT.c **** 		break;
 532              		.loc 1 198 0
 533 0150 254B     		ldr	r3, .L43+92
 534 0152 204A     		ldr	r2, .L43+72
 535 0154 B4F82412 		ldrh	r1, [r4, #548]
 536 0158 D4F82002 		ldr	r0, [r4, #544]
 537 015c FFF7FEFF 		bl	send_config
 538              	.LVL50:
 199:Src/Eagle_TRT.c **** 	case 16:
 539              		.loc 1 199 0
 540 0160 DAE7     		b	.L40
 541              	.L39:
 201:Src/Eagle_TRT.c **** 		break;
 542              		.loc 1 201 0
 543 0162 224B     		ldr	r3, .L43+96
 544 0164 1B4A     		ldr	r2, .L43+72
 545 0166 B4F82412 		ldrh	r1, [r4, #548]
 546 016a D4F82002 		ldr	r0, [r4, #544]
 547 016e FFF7FEFF 		bl	send_config
 548              	.LVL51:
 202:Src/Eagle_TRT.c **** 	default:
 549              		.loc 1 202 0
 550 0172 D1E7     		b	.L40
 551              	.L33:
 204:Src/Eagle_TRT.c **** 		accel->scale = 4;
ARM GAS  /tmp/ccqVNF68.s 			page 27


 552              		.loc 1 204 0
 553 0174 1A4B     		ldr	r3, .L43+84
 554 0176 174A     		ldr	r2, .L43+72
 555 0178 B4F82412 		ldrh	r1, [r4, #548]
 556 017c D4F82002 		ldr	r0, [r4, #544]
 557 0180 FFF7FEFF 		bl	send_config
 558              	.LVL52:
 205:Src/Eagle_TRT.c **** 		break;
 559              		.loc 1 205 0
 560 0184 0423     		movs	r3, #4
 561 0186 C4F81832 		str	r3, [r4, #536]
 206:Src/Eagle_TRT.c **** 	}
 562              		.loc 1 206 0
 563 018a C5E7     		b	.L40
 564              	.L44:
 565              		.align	2
 566              	.L43:
 567 018c 00000240 		.word	1073872896
 568 0190 00080240 		.word	1073874944
 569 0194 00000000 		.word	.LANCHOR0
 570 0198 00000000 		.word	.LANCHOR1
 571 019c 00000000 		.word	.LANCHOR2
 572 01a0 00000000 		.word	.LANCHOR3
 573 01a4 00000000 		.word	.LANCHOR4
 574 01a8 00000000 		.word	.LANCHOR5
 575 01ac 00000000 		.word	.LANCHOR6
 576 01b0 00000000 		.word	.LANCHOR7
 577 01b4 00000000 		.word	.LANCHOR8
 578 01b8 00000000 		.word	.LANCHOR9
 579 01bc 00000000 		.word	.LANCHOR14
 580 01c0 00000000 		.word	.LANCHOR11
 581 01c4 00000000 		.word	.LANCHOR10
 582 01c8 00000000 		.word	.LANCHOR12
 583 01cc 00000000 		.word	.LANCHOR13
 584 01d0 00000000 		.word	.LANCHOR15
 585 01d4 00000000 		.word	.LANCHOR16
 586 01d8 00000000 		.word	.LC1
 587 01dc 00000000 		.word	huart2
 588 01e0 00000000 		.word	.LANCHOR17
 589 01e4 00000000 		.word	.LANCHOR18
 590 01e8 00000000 		.word	.LANCHOR19
 591 01ec 00000000 		.word	.LANCHOR20
 592              		.cfi_endproc
 593              	.LFE132:
 595              		.section	.text.LSMD9S0_read,"ax",%progbits
 596              		.align	1
 597              		.global	LSMD9S0_read
 598              		.syntax unified
 599              		.thumb
 600              		.thumb_func
 601              		.fpu fpv4-sp-d16
 603              	LSMD9S0_read:
 604              	.LFB133:
 215:Src/Eagle_TRT.c **** 
 605              		.loc 1 215 0
 606              		.cfi_startproc
 607              		@ args = 0, pretend = 0, frame = 8
ARM GAS  /tmp/ccqVNF68.s 			page 28


 608              		@ frame_needed = 0, uses_anonymous_args = 0
 609              	.LVL53:
 610 0000 10B5     		push	{r4, lr}
 611              	.LCFI7:
 612              		.cfi_def_cfa_offset 8
 613              		.cfi_offset 4, -8
 614              		.cfi_offset 14, -4
 615 0002 82B0     		sub	sp, sp, #8
 616              	.LCFI8:
 617              		.cfi_def_cfa_offset 16
 618 0004 0446     		mov	r4, r0
 220:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;												  //set counter to 0
 619              		.loc 1 220 0
 620 0006 0022     		movs	r2, #0
 621 0008 B0F82412 		ldrh	r1, [r0, #548]
 622 000c D0F82002 		ldr	r0, [r0, #544]
 623              	.LVL54:
 624 0010 FFF7FEFF 		bl	HAL_GPIO_WritePin
 625              	.LVL55:
 221:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 626              		.loc 1 221 0
 627 0014 2E4B     		ldr	r3, .L51
 628 0016 1A68     		ldr	r2, [r3]
 629 0018 0023     		movs	r3, #0
 630 001a 5362     		str	r3, [r2, #36]
 631              	.L46:
 222:Src/Eagle_TRT.c **** 	{
 632              		.loc 1 222 0 discriminator 1
 633 001c 536A     		ldr	r3, [r2, #36]
 634 001e 142B     		cmp	r3, #20
 635 0020 FCD9     		bls	.L46
 226:Src/Eagle_TRT.c **** 	HAL_SPI_Receive(imu->hspi, (uint8_t *)&OUT_L_VAL, 1, 10); ///Saving LOW data
 636              		.loc 1 226 0
 637 0022 0A23     		movs	r3, #10
 638 0024 0122     		movs	r2, #1
 639 0026 04F22E21 		addw	r1, r4, #558
 640 002a D4F83002 		ldr	r0, [r4, #560]
 641 002e FFF7FEFF 		bl	HAL_SPI_Transmit
 642              	.LVL56:
 227:Src/Eagle_TRT.c **** 
 643              		.loc 1 227 0
 644 0032 0A23     		movs	r3, #10
 645 0034 0122     		movs	r2, #1
 646 0036 0DF10701 		add	r1, sp, #7
 647 003a D4F83002 		ldr	r0, [r4, #560]
 648 003e FFF7FEFF 		bl	HAL_SPI_Receive
 649              	.LVL57:
 229:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 650              		.loc 1 229 0
 651 0042 234B     		ldr	r3, .L51
 652 0044 1A68     		ldr	r2, [r3]
 653 0046 0023     		movs	r3, #0
 654 0048 5362     		str	r3, [r2, #36]
 655              	.L47:
 230:Src/Eagle_TRT.c **** 	{
 656              		.loc 1 230 0 discriminator 1
 657 004a 536A     		ldr	r3, [r2, #36]
ARM GAS  /tmp/ccqVNF68.s 			page 29


 658 004c 142B     		cmp	r3, #20
 659 004e FCD9     		bls	.L47
 233:Src/Eagle_TRT.c **** 
 660              		.loc 1 233 0
 661 0050 0122     		movs	r2, #1
 662 0052 B4F82412 		ldrh	r1, [r4, #548]
 663 0056 D4F82002 		ldr	r0, [r4, #544]
 664 005a FFF7FEFF 		bl	HAL_GPIO_WritePin
 665              	.LVL58:
 235:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 666              		.loc 1 235 0
 667 005e 1C4B     		ldr	r3, .L51
 668 0060 1A68     		ldr	r2, [r3]
 669 0062 0023     		movs	r3, #0
 670 0064 5362     		str	r3, [r2, #36]
 671              	.L48:
 236:Src/Eagle_TRT.c **** 	{
 672              		.loc 1 236 0 discriminator 1
 673 0066 536A     		ldr	r3, [r2, #36]
 674 0068 142B     		cmp	r3, #20
 675 006a FCD9     		bls	.L48
 239:Src/Eagle_TRT.c **** 
 676              		.loc 1 239 0
 677 006c 0022     		movs	r2, #0
 678 006e B4F82412 		ldrh	r1, [r4, #548]
 679 0072 D4F82002 		ldr	r0, [r4, #544]
 680 0076 FFF7FEFF 		bl	HAL_GPIO_WritePin
 681              	.LVL59:
 241:Src/Eagle_TRT.c **** 	HAL_SPI_Receive(imu->hspi, (uint8_t *)&OUT_H_VAL, 1, 10); ///Saving HIGH data
 682              		.loc 1 241 0
 683 007a 0A23     		movs	r3, #10
 684 007c 0122     		movs	r2, #1
 685 007e 04F22F21 		addw	r1, r4, #559
 686 0082 D4F83002 		ldr	r0, [r4, #560]
 687 0086 FFF7FEFF 		bl	HAL_SPI_Transmit
 688              	.LVL60:
 242:Src/Eagle_TRT.c **** 
 689              		.loc 1 242 0
 690 008a 0A23     		movs	r3, #10
 691 008c 0122     		movs	r2, #1
 692 008e 0DF10601 		add	r1, sp, #6
 693 0092 D4F83002 		ldr	r0, [r4, #560]
 694 0096 FFF7FEFF 		bl	HAL_SPI_Receive
 695              	.LVL61:
 244:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 696              		.loc 1 244 0
 697 009a 0D4B     		ldr	r3, .L51
 698 009c 1A68     		ldr	r2, [r3]
 699 009e 0023     		movs	r3, #0
 700 00a0 5362     		str	r3, [r2, #36]
 701              	.L49:
 245:Src/Eagle_TRT.c **** 	{
 702              		.loc 1 245 0 discriminator 1
 703 00a2 536A     		ldr	r3, [r2, #36]
 704 00a4 142B     		cmp	r3, #20
 705 00a6 FCD9     		bls	.L49
 249:Src/Eagle_TRT.c **** 
ARM GAS  /tmp/ccqVNF68.s 			page 30


 706              		.loc 1 249 0
 707 00a8 0122     		movs	r2, #1
 708 00aa B4F82412 		ldrh	r1, [r4, #548]
 709 00ae D4F82002 		ldr	r0, [r4, #544]
 710 00b2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 711              	.LVL62:
 252:Src/Eagle_TRT.c **** 	float axis = value;
 712              		.loc 1 252 0
 713 00b6 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 714 00ba 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 715 00be 43EA0223 		orr	r3, r3, r2, lsl #8
 716 00c2 00EE103A 		vmov	s0, r3	@ int
 717              	.LVL63:
 256:Src/Eagle_TRT.c **** 
 718              		.loc 1 256 0
 719 00c6 B8EE400A 		vcvt.f32.u32	s0, s0
 720              	.LVL64:
 721 00ca 02B0     		add	sp, sp, #8
 722              	.LCFI9:
 723              		.cfi_def_cfa_offset 8
 724              		@ sp needed
 725 00cc 10BD     		pop	{r4, pc}
 726              	.LVL65:
 727              	.L52:
 728 00ce 00BF     		.align	2
 729              	.L51:
 730 00d0 00000000 		.word	htim2
 731              		.cfi_endproc
 732              	.LFE133:
 734              		.section	.text.LSMD9S0_check,"ax",%progbits
 735              		.align	1
 736              		.global	LSMD9S0_check
 737              		.syntax unified
 738              		.thumb
 739              		.thumb_func
 740              		.fpu fpv4-sp-d16
 742              	LSMD9S0_check:
 743              	.LFB134:
 259:Src/Eagle_TRT.c **** 
 744              		.loc 1 259 0
 745              		.cfi_startproc
 746              		@ args = 0, pretend = 0, frame = 0
 747              		@ frame_needed = 0, uses_anonymous_args = 0
 748              	.LVL66:
 749 0000 10B5     		push	{r4, lr}
 750              	.LCFI10:
 751              		.cfi_def_cfa_offset 8
 752              		.cfi_offset 4, -8
 753              		.cfi_offset 14, -4
 754 0002 0446     		mov	r4, r0
 755              	.LVL67:
 264:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;							  //set counter to 0
 756              		.loc 1 264 0
 757 0004 0022     		movs	r2, #0
 758 0006 4FF40071 		mov	r1, #512
 759 000a 2C48     		ldr	r0, .L62
 760              	.LVL68:
ARM GAS  /tmp/ccqVNF68.s 			page 31


 761 000c FFF7FEFF 		bl	HAL_GPIO_WritePin
 762              	.LVL69:
 265:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 763              		.loc 1 265 0
 764 0010 2B4B     		ldr	r3, .L62+4
 765 0012 1A68     		ldr	r2, [r3]
 766 0014 0023     		movs	r3, #0
 767 0016 5362     		str	r3, [r2, #36]
 768              	.L54:
 266:Src/Eagle_TRT.c **** 	{
 769              		.loc 1 266 0 discriminator 1
 770 0018 536A     		ldr	r3, [r2, #36]
 771 001a 142B     		cmp	r3, #20
 772 001c FCD9     		bls	.L54
 269:Src/Eagle_TRT.c **** 	HAL_SPI_Receive(imu->hspi, (uint8_t *)&WHO_AM_I_XM_VAL, 1, 10);
 773              		.loc 1 269 0
 774 001e 0A23     		movs	r3, #10
 775 0020 0122     		movs	r2, #1
 776 0022 2849     		ldr	r1, .L62+8
 777 0024 D4F83002 		ldr	r0, [r4, #560]
 778 0028 FFF7FEFF 		bl	HAL_SPI_Transmit
 779              	.LVL70:
 270:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0; //set counter to 0
 780              		.loc 1 270 0
 781 002c 0A23     		movs	r3, #10
 782 002e 0122     		movs	r2, #1
 783 0030 2549     		ldr	r1, .L62+12
 784 0032 D4F83002 		ldr	r0, [r4, #560]
 785 0036 FFF7FEFF 		bl	HAL_SPI_Receive
 786              	.LVL71:
 271:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 787              		.loc 1 271 0
 788 003a 214B     		ldr	r3, .L62+4
 789 003c 1A68     		ldr	r2, [r3]
 790 003e 0023     		movs	r3, #0
 791 0040 5362     		str	r3, [r2, #36]
 792              	.L55:
 272:Src/Eagle_TRT.c **** 	{
 793              		.loc 1 272 0 discriminator 1
 794 0042 536A     		ldr	r3, [r2, #36]
 795 0044 142B     		cmp	r3, #20
 796 0046 FCD9     		bls	.L55
 275:Src/Eagle_TRT.c **** 
 797              		.loc 1 275 0
 798 0048 0122     		movs	r2, #1
 799 004a 4FF40071 		mov	r1, #512
 800 004e 1B48     		ldr	r0, .L62
 801 0050 FFF7FEFF 		bl	HAL_GPIO_WritePin
 802              	.LVL72:
 278:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0;							  //set counter to 0
 803              		.loc 1 278 0
 804 0054 0022     		movs	r2, #0
 805 0056 4FF48071 		mov	r1, #256
 806 005a 1C48     		ldr	r0, .L62+16
 807 005c FFF7FEFF 		bl	HAL_GPIO_WritePin
 808              	.LVL73:
 279:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
ARM GAS  /tmp/ccqVNF68.s 			page 32


 809              		.loc 1 279 0
 810 0060 174B     		ldr	r3, .L62+4
 811 0062 1A68     		ldr	r2, [r3]
 812 0064 0023     		movs	r3, #0
 813 0066 5362     		str	r3, [r2, #36]
 814              	.L56:
 280:Src/Eagle_TRT.c **** 	{
 815              		.loc 1 280 0 discriminator 1
 816 0068 536A     		ldr	r3, [r2, #36]
 817 006a 142B     		cmp	r3, #20
 818 006c FCD9     		bls	.L56
 283:Src/Eagle_TRT.c **** 	//HAL_SPI_TransmitReceive(imu->hspi, (uint8_t*)&ZERO, (uint8_t*)&WHO_AM_I_G_VAL, 1, 10); ///Readin
 819              		.loc 1 283 0
 820 006e 0A23     		movs	r3, #10
 821 0070 0122     		movs	r2, #1
 822 0072 1749     		ldr	r1, .L62+20
 823 0074 D4F83002 		ldr	r0, [r4, #560]
 824 0078 FFF7FEFF 		bl	HAL_SPI_Transmit
 825              	.LVL74:
 285:Src/Eagle_TRT.c **** 	htim2.Instance->CNT = 0; //set counter to 0
 826              		.loc 1 285 0
 827 007c 0A23     		movs	r3, #10
 828 007e 0122     		movs	r2, #1
 829 0080 1449     		ldr	r1, .L62+24
 830 0082 D4F83002 		ldr	r0, [r4, #560]
 831 0086 FFF7FEFF 		bl	HAL_SPI_Receive
 832              	.LVL75:
 286:Src/Eagle_TRT.c **** 	while (htim2.Instance->CNT <= 20)
 833              		.loc 1 286 0
 834 008a 0D4B     		ldr	r3, .L62+4
 835 008c 1A68     		ldr	r2, [r3]
 836 008e 0023     		movs	r3, #0
 837 0090 5362     		str	r3, [r2, #36]
 838              	.L57:
 287:Src/Eagle_TRT.c **** 	{
 839              		.loc 1 287 0 discriminator 1
 840 0092 536A     		ldr	r3, [r2, #36]
 841 0094 142B     		cmp	r3, #20
 842 0096 FCD9     		bls	.L57
 290:Src/Eagle_TRT.c **** 
 843              		.loc 1 290 0
 844 0098 0122     		movs	r2, #1
 845 009a 4FF48071 		mov	r1, #256
 846 009e 0B48     		ldr	r0, .L62+16
 847 00a0 FFF7FEFF 		bl	HAL_GPIO_WritePin
 848              	.LVL76:
 295:Src/Eagle_TRT.c **** 	{
 849              		.loc 1 295 0
 850 00a4 0B4B     		ldr	r3, .L62+24
 851 00a6 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 852 00a8 074B     		ldr	r3, .L62+12
 853 00aa 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 854 00ac D42A     		cmp	r2, #212
 855 00ae 08BF     		it	eq
 856 00b0 492B     		cmpeq	r3, #73
 857 00b2 01D0     		beq	.L61
 301:Src/Eagle_TRT.c **** 	}
ARM GAS  /tmp/ccqVNF68.s 			page 33


 858              		.loc 1 301 0
 859 00b4 0020     		movs	r0, #0
 305:Src/Eagle_TRT.c **** 
 860              		.loc 1 305 0
 861 00b6 10BD     		pop	{r4, pc}
 862              	.LVL77:
 863              	.L61:
 297:Src/Eagle_TRT.c **** 	}
 864              		.loc 1 297 0
 865 00b8 0120     		movs	r0, #1
 866 00ba 10BD     		pop	{r4, pc}
 867              	.LVL78:
 868              	.L63:
 869              		.align	2
 870              	.L62:
 871 00bc 00080240 		.word	1073874944
 872 00c0 00000000 		.word	htim2
 873 00c4 00000000 		.word	.LANCHOR21
 874 00c8 00000000 		.word	WHO_AM_I_XM_VAL
 875 00cc 00000240 		.word	1073872896
 876 00d0 00000000 		.word	.LANCHOR22
 877 00d4 00000000 		.word	WHO_AM_I_G_VAL
 878              		.cfi_endproc
 879              	.LFE134:
 881              		.global	__aeabi_f2d
 882              		.section	.text.LSMD9S0_gyro_read,"ax",%progbits
 883              		.align	1
 884              		.global	LSMD9S0_gyro_read
 885              		.syntax unified
 886              		.thumb
 887              		.thumb_func
 888              		.fpu fpv4-sp-d16
 890              	LSMD9S0_gyro_read:
 891              	.LFB136:
 338:Src/Eagle_TRT.c **** 
 892              		.loc 1 338 0
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 0
 895              		@ frame_needed = 0, uses_anonymous_args = 0
 896              	.LVL79:
 897 0000 10B5     		push	{r4, lr}
 898              	.LCFI11:
 899              		.cfi_def_cfa_offset 8
 900              		.cfi_offset 4, -8
 901              		.cfi_offset 14, -4
 902 0002 0446     		mov	r4, r0
 340:Src/Eagle_TRT.c **** 	imu->GPIO_Pin_InUse = GPIO_PIN_8;
 903              		.loc 1 340 0
 904 0004 244B     		ldr	r3, .L69
 905 0006 C0F82032 		str	r3, [r0, #544]
 341:Src/Eagle_TRT.c **** 
 906              		.loc 1 341 0
 907 000a 4FF48073 		mov	r3, #256
 908 000e A0F82432 		strh	r3, [r0, #548]	@ movhi
 343:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_X_L_G_ADD;
 909              		.loc 1 343 0
 910 0012 224B     		ldr	r3, .L69+4
ARM GAS  /tmp/ccqVNF68.s 			page 34


 911 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 912 0016 80F82F32 		strb	r3, [r0, #559]
 344:Src/Eagle_TRT.c **** 	imu->x = LSMD9S0_read(imu);
 913              		.loc 1 344 0
 914 001a 214B     		ldr	r3, .L69+8
 915 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 916 001e 80F82E32 		strb	r3, [r0, #558]
 345:Src/Eagle_TRT.c **** 
 917              		.loc 1 345 0
 918 0022 FFF7FEFF 		bl	LSMD9S0_read
 919              	.LVL80:
 920 0026 10EE100A 		vmov	r0, s0
 921 002a FFF7FEFF 		bl	__aeabi_f2d
 922              	.LVL81:
 923 002e C4E90001 		strd	r0, [r4]
 347:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_Y_L_G_ADD;
 924              		.loc 1 347 0
 925 0032 1C4B     		ldr	r3, .L69+12
 926 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 927 0036 84F82F32 		strb	r3, [r4, #559]
 348:Src/Eagle_TRT.c **** 	imu->y = LSMD9S0_read(imu);
 928              		.loc 1 348 0
 929 003a 1B4B     		ldr	r3, .L69+16
 930 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 931 003e 84F82E32 		strb	r3, [r4, #558]
 349:Src/Eagle_TRT.c **** 
 932              		.loc 1 349 0
 933 0042 2046     		mov	r0, r4
 934 0044 FFF7FEFF 		bl	LSMD9S0_read
 935              	.LVL82:
 936 0048 10EE100A 		vmov	r0, s0
 937 004c FFF7FEFF 		bl	__aeabi_f2d
 938              	.LVL83:
 939 0050 C4E90201 		strd	r0, [r4, #8]
 351:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_Z_L_G_ADD;
 940              		.loc 1 351 0
 941 0054 154B     		ldr	r3, .L69+20
 942 0056 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 943 0058 84F82F32 		strb	r3, [r4, #559]
 352:Src/Eagle_TRT.c **** 	imu->z = LSMD9S0_read(imu);
 944              		.loc 1 352 0
 945 005c 144B     		ldr	r3, .L69+24
 946 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 947 0060 84F82E32 		strb	r3, [r4, #558]
 353:Src/Eagle_TRT.c **** 
 948              		.loc 1 353 0
 949 0064 2046     		mov	r0, r4
 950 0066 FFF7FEFF 		bl	LSMD9S0_read
 951              	.LVL84:
 952 006a 10EE100A 		vmov	r0, s0
 953 006e FFF7FEFF 		bl	__aeabi_f2d
 954              	.LVL85:
 955 0072 C4E90401 		strd	r0, [r4, #16]
 356:Src/Eagle_TRT.c **** 	{
 956              		.loc 1 356 0
 957 0076 0F4B     		ldr	r3, .L69+28
 958 0078 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccqVNF68.s 			page 35


 959 007a 0F4B     		ldr	r3, .L69+32
 960 007c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 961 007e D42A     		cmp	r2, #212
 962 0080 08BF     		it	eq
 963 0082 492B     		cmpeq	r3, #73
 964 0084 03D0     		beq	.L68
 362:Src/Eagle_TRT.c **** 	}
 965              		.loc 1 362 0
 966 0086 0123     		movs	r3, #1
 967 0088 C4F81432 		str	r3, [r4, #532]
 968 008c 10BD     		pop	{r4, pc}
 969              	.LVL86:
 970              	.L68:
 358:Src/Eagle_TRT.c **** 	}
 971              		.loc 1 358 0
 972 008e 0023     		movs	r3, #0
 973 0090 C4F81432 		str	r3, [r4, #532]
 974 0094 10BD     		pop	{r4, pc}
 975              	.LVL87:
 976              	.L70:
 977 0096 00BF     		.align	2
 978              	.L69:
 979 0098 00000240 		.word	1073872896
 980 009c 00000000 		.word	.LANCHOR23
 981 00a0 00000000 		.word	.LANCHOR24
 982 00a4 00000000 		.word	.LANCHOR25
 983 00a8 00000000 		.word	.LANCHOR26
 984 00ac 00000000 		.word	.LANCHOR27
 985 00b0 00000000 		.word	.LANCHOR28
 986 00b4 00000000 		.word	WHO_AM_I_G_VAL
 987 00b8 00000000 		.word	WHO_AM_I_XM_VAL
 988              		.cfi_endproc
 989              	.LFE136:
 991              		.section	.text.LSMD9S0_accel_read,"ax",%progbits
 992              		.align	1
 993              		.global	LSMD9S0_accel_read
 994              		.syntax unified
 995              		.thumb
 996              		.thumb_func
 997              		.fpu fpv4-sp-d16
 999              	LSMD9S0_accel_read:
 1000              	.LFB138:
 411:Src/Eagle_TRT.c **** 
 1001              		.loc 1 411 0
 1002              		.cfi_startproc
 1003              		@ args = 0, pretend = 0, frame = 0
 1004              		@ frame_needed = 0, uses_anonymous_args = 0
 1005              	.LVL88:
 1006 0000 10B5     		push	{r4, lr}
 1007              	.LCFI12:
 1008              		.cfi_def_cfa_offset 8
 1009              		.cfi_offset 4, -8
 1010              		.cfi_offset 14, -4
 1011 0002 0446     		mov	r4, r0
 413:Src/Eagle_TRT.c **** 	imu->GPIO_Pin_InUse = GPIO_PIN_9;
 1012              		.loc 1 413 0
 1013 0004 1C4B     		ldr	r3, .L73
ARM GAS  /tmp/ccqVNF68.s 			page 36


 1014 0006 C0F82032 		str	r3, [r0, #544]
 414:Src/Eagle_TRT.c **** 
 1015              		.loc 1 414 0
 1016 000a 4FF40073 		mov	r3, #512
 1017 000e A0F82432 		strh	r3, [r0, #548]	@ movhi
 416:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_X_L_A_ADD;
 1018              		.loc 1 416 0
 1019 0012 1A4B     		ldr	r3, .L73+4
 1020 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1021 0016 80F82F32 		strb	r3, [r0, #559]
 417:Src/Eagle_TRT.c **** 	imu->x = LSMD9S0_read(imu);
 1022              		.loc 1 417 0
 1023 001a 194B     		ldr	r3, .L73+8
 1024 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1025 001e 80F82E32 		strb	r3, [r0, #558]
 418:Src/Eagle_TRT.c **** 
 1026              		.loc 1 418 0
 1027 0022 FFF7FEFF 		bl	LSMD9S0_read
 1028              	.LVL89:
 1029 0026 10EE100A 		vmov	r0, s0
 1030 002a FFF7FEFF 		bl	__aeabi_f2d
 1031              	.LVL90:
 1032 002e C4E90001 		strd	r0, [r4]
 420:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_Y_L_A_ADD;
 1033              		.loc 1 420 0
 1034 0032 144B     		ldr	r3, .L73+12
 1035 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1036 0036 84F82F32 		strb	r3, [r4, #559]
 421:Src/Eagle_TRT.c **** 	imu->y = LSMD9S0_read(imu);
 1037              		.loc 1 421 0
 1038 003a 134B     		ldr	r3, .L73+16
 1039 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1040 003e 84F82E32 		strb	r3, [r4, #558]
 422:Src/Eagle_TRT.c **** 
 1041              		.loc 1 422 0
 1042 0042 2046     		mov	r0, r4
 1043 0044 FFF7FEFF 		bl	LSMD9S0_read
 1044              	.LVL91:
 1045 0048 10EE100A 		vmov	r0, s0
 1046 004c FFF7FEFF 		bl	__aeabi_f2d
 1047              	.LVL92:
 1048 0050 C4E90201 		strd	r0, [r4, #8]
 424:Src/Eagle_TRT.c **** 	imu->REG_L = OUT_Z_L_A_ADD;
 1049              		.loc 1 424 0
 1050 0054 0D4B     		ldr	r3, .L73+20
 1051 0056 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1052 0058 84F82F32 		strb	r3, [r4, #559]
 425:Src/Eagle_TRT.c **** 	imu->z = LSMD9S0_read(imu);
 1053              		.loc 1 425 0
 1054 005c 0C4B     		ldr	r3, .L73+24
 1055 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1056 0060 84F82E32 		strb	r3, [r4, #558]
 426:Src/Eagle_TRT.c **** }
 1057              		.loc 1 426 0
 1058 0064 2046     		mov	r0, r4
 1059 0066 FFF7FEFF 		bl	LSMD9S0_read
 1060              	.LVL93:
ARM GAS  /tmp/ccqVNF68.s 			page 37


 1061 006a 10EE100A 		vmov	r0, s0
 1062 006e FFF7FEFF 		bl	__aeabi_f2d
 1063              	.LVL94:
 1064 0072 C4E90401 		strd	r0, [r4, #16]
 1065 0076 10BD     		pop	{r4, pc}
 1066              	.LVL95:
 1067              	.L74:
 1068              		.align	2
 1069              	.L73:
 1070 0078 00080240 		.word	1073874944
 1071 007c 00000000 		.word	.LANCHOR29
 1072 0080 00000000 		.word	.LANCHOR30
 1073 0084 00000000 		.word	.LANCHOR31
 1074 0088 00000000 		.word	.LANCHOR32
 1075 008c 00000000 		.word	.LANCHOR33
 1076 0090 00000000 		.word	.LANCHOR34
 1077              		.cfi_endproc
 1078              	.LFE138:
 1080              		.section	.text.CAN_Send,"ax",%progbits
 1081              		.align	1
 1082              		.global	CAN_Send
 1083              		.syntax unified
 1084              		.thumb
 1085              		.thumb_func
 1086              		.fpu fpv4-sp-d16
 1088              	CAN_Send:
 1089              	.LFB139:
 440:Src/Eagle_TRT.c **** 
 1090              		.loc 1 440 0
 1091              		.cfi_startproc
 1092              		@ args = 0, pretend = 0, frame = 32
 1093              		@ frame_needed = 0, uses_anonymous_args = 0
 1094              	.LVL96:
 1095 0000 10B5     		push	{r4, lr}
 1096              	.LCFI13:
 1097              		.cfi_def_cfa_offset 8
 1098              		.cfi_offset 4, -8
 1099              		.cfi_offset 14, -4
 1100 0002 88B0     		sub	sp, sp, #32
 1101              	.LCFI14:
 1102              		.cfi_def_cfa_offset 40
 1103 0004 0446     		mov	r4, r0
 1104              	.LVL97:
 446:Src/Eagle_TRT.c **** 	TxHeader.IDE = CAN_ID_STD;
 1105              		.loc 1 446 0
 1106 0006 0368     		ldr	r3, [r0]
 1107 0008 0193     		str	r3, [sp, #4]
 447:Src/Eagle_TRT.c **** 	TxHeader.RTR = CAN_RTR_DATA;
 1108              		.loc 1 447 0
 1109 000a 0023     		movs	r3, #0
 1110 000c 0393     		str	r3, [sp, #12]
 448:Src/Eagle_TRT.c **** 	TxHeader.DLC = can->size;
 1111              		.loc 1 448 0
 1112 000e 0493     		str	r3, [sp, #16]
 449:Src/Eagle_TRT.c **** 	TxHeader.TransmitGlobalTime = DISABLE;
 1113              		.loc 1 449 0
 1114 0010 4268     		ldr	r2, [r0, #4]
ARM GAS  /tmp/ccqVNF68.s 			page 38


 1115 0012 0592     		str	r2, [sp, #20]
 450:Src/Eagle_TRT.c **** 
 1116              		.loc 1 450 0
 1117 0014 8DF81830 		strb	r3, [sp, #24]
 452:Src/Eagle_TRT.c **** 	{
 1118              		.loc 1 452 0
 1119 0018 8069     		ldr	r0, [r0, #24]
 1120              	.LVL98:
 1121 001a FFF7FEFF 		bl	HAL_CAN_GetTxMailboxesFreeLevel
 1122              	.LVL99:
 1123 001e 10B9     		cbnz	r0, .L80
 443:Src/Eagle_TRT.c **** 
 1124              		.loc 1 443 0
 1125 0020 0020     		movs	r0, #0
 1126              	.LVL100:
 1127              	.L76:
 459:Src/Eagle_TRT.c **** 
 1128              		.loc 1 459 0
 1129 0022 08B0     		add	sp, sp, #32
 1130              	.LCFI15:
 1131              		.cfi_remember_state
 1132              		.cfi_def_cfa_offset 8
 1133              		@ sp needed
 1134 0024 10BD     		pop	{r4, pc}
 1135              	.LVL101:
 1136              	.L80:
 1137              	.LCFI16:
 1138              		.cfi_restore_state
 452:Src/Eagle_TRT.c **** 	{
 1139              		.loc 1 452 0 discriminator 1
 1140 0026 0121     		movs	r1, #1
 1141 0028 A069     		ldr	r0, [r4, #24]
 1142 002a FFF7FEFF 		bl	HAL_CAN_IsTxMessagePending
 1143              	.LVL102:
 1144 002e 08B1     		cbz	r0, .L81
 443:Src/Eagle_TRT.c **** 
 1145              		.loc 1 443 0
 1146 0030 0020     		movs	r0, #0
 1147 0032 F6E7     		b	.L76
 1148              	.L81:
 454:Src/Eagle_TRT.c **** 		flag = 1;
 1149              		.loc 1 454 0
 1150 0034 07AB     		add	r3, sp, #28
 1151 0036 04F10802 		add	r2, r4, #8
 1152 003a 01A9     		add	r1, sp, #4
 1153 003c A069     		ldr	r0, [r4, #24]
 1154 003e FFF7FEFF 		bl	HAL_CAN_AddTxMessage
 1155              	.LVL103:
 455:Src/Eagle_TRT.c **** 	}
 1156              		.loc 1 455 0
 1157 0042 0120     		movs	r0, #1
 1158 0044 EDE7     		b	.L76
 1159              		.cfi_endproc
 1160              	.LFE139:
 1162              		.section	.text.CAN_Receive,"ax",%progbits
 1163              		.align	1
 1164              		.global	CAN_Receive
ARM GAS  /tmp/ccqVNF68.s 			page 39


 1165              		.syntax unified
 1166              		.thumb
 1167              		.thumb_func
 1168              		.fpu fpv4-sp-d16
 1170              	CAN_Receive:
 1171              	.LFB140:
 467:Src/Eagle_TRT.c **** 
 1172              		.loc 1 467 0
 1173              		.cfi_startproc
 1174              		@ args = 0, pretend = 0, frame = 32
 1175              		@ frame_needed = 0, uses_anonymous_args = 0
 1176              	.LVL104:
 1177 0000 10B5     		push	{r4, lr}
 1178              	.LCFI17:
 1179              		.cfi_def_cfa_offset 8
 1180              		.cfi_offset 4, -8
 1181              		.cfi_offset 14, -4
 1182 0002 88B0     		sub	sp, sp, #32
 1183              	.LCFI18:
 1184              		.cfi_def_cfa_offset 40
 1185 0004 0446     		mov	r4, r0
 471:Src/Eagle_TRT.c **** 	{
 1186              		.loc 1 471 0
 1187 0006 0021     		movs	r1, #0
 1188 0008 8069     		ldr	r0, [r0, #24]
 1189              	.LVL105:
 1190 000a FFF7FEFF 		bl	HAL_CAN_GetRxFifoFillLevel
 1191              	.LVL106:
 1192 000e 10B9     		cbnz	r0, .L85
 1193              	.L83:
 1194              	.LVL107:
 479:Src/Eagle_TRT.c **** #endif
 1195              		.loc 1 479 0
 1196 0010 0198     		ldr	r0, [sp, #4]
 1197 0012 08B0     		add	sp, sp, #32
 1198              	.LCFI19:
 1199              		.cfi_remember_state
 1200              		.cfi_def_cfa_offset 8
 1201              		@ sp needed
 1202 0014 10BD     		pop	{r4, pc}
 1203              	.LVL108:
 1204              	.L85:
 1205              	.LCFI20:
 1206              		.cfi_restore_state
 473:Src/Eagle_TRT.c **** 	}
 1207              		.loc 1 473 0
 1208 0016 04F11003 		add	r3, r4, #16
 1209 001a 01AA     		add	r2, sp, #4
 1210 001c 0021     		movs	r1, #0
 1211 001e A069     		ldr	r0, [r4, #24]
 1212 0020 FFF7FEFF 		bl	HAL_CAN_GetRxMessage
 1213              	.LVL109:
 1214 0024 F4E7     		b	.L83
 1215              		.cfi_endproc
 1216              	.LFE140:
 1218              		.section	.text.init,"ax",%progbits
 1219              		.align	1
ARM GAS  /tmp/ccqVNF68.s 			page 40


 1220              		.global	init
 1221              		.syntax unified
 1222              		.thumb
 1223              		.thumb_func
 1224              		.fpu fpv4-sp-d16
 1226              	init:
 1227              	.LFB142:
 494:Src/Eagle_TRT.c **** 
 1228              		.loc 1 494 0
 1229              		.cfi_startproc
 1230              		@ args = 0, pretend = 0, frame = 0
 1231              		@ frame_needed = 0, uses_anonymous_args = 0
 1232              		@ link register save eliminated.
 1233              	.LVL110:
 496:Src/Eagle_TRT.c **** 	q->dim = 40;
 1234              		.loc 1 496 0
 1235 0000 0023     		movs	r3, #0
 1236 0002 0360     		str	r3, [r0]
 1237 0004 4360     		str	r3, [r0, #4]
 497:Src/Eagle_TRT.c **** }
 1238              		.loc 1 497 0
 1239 0006 2823     		movs	r3, #40
 1240 0008 8360     		str	r3, [r0, #8]
 1241 000a 7047     		bx	lr
 1242              		.cfi_endproc
 1243              	.LFE142:
 1245              		.section	.text.push,"ax",%progbits
 1246              		.align	1
 1247              		.global	push
 1248              		.syntax unified
 1249              		.thumb
 1250              		.thumb_func
 1251              		.fpu fpv4-sp-d16
 1253              	push:
 1254              	.LFB145:
 513:Src/Eagle_TRT.c **** 	int res;
 1255              		.loc 1 513 0
 1256              		.cfi_startproc
 1257              		@ args = 0, pretend = 0, frame = 0
 1258              		@ frame_needed = 0, uses_anonymous_args = 0
 1259              	.LVL111:
 1260 0000 70B5     		push	{r4, r5, r6, lr}
 1261              	.LCFI21:
 1262              		.cfi_def_cfa_offset 16
 1263              		.cfi_offset 4, -16
 1264              		.cfi_offset 5, -12
 1265              		.cfi_offset 6, -8
 1266              		.cfi_offset 14, -4
 1267 0002 0646     		mov	r6, r0
 1268 0004 0C46     		mov	r4, r1
 515:Src/Eagle_TRT.c **** 	{
 1269              		.loc 1 515 0
 1270 0006 0846     		mov	r0, r1
 1271              	.LVL112:
 1272 0008 FFF7FEFF 		bl	fullp
 1273              	.LVL113:
 1274 000c 08B1     		cbz	r0, .L92
ARM GAS  /tmp/ccqVNF68.s 			page 41


 517:Src/Eagle_TRT.c **** 	}
 1275              		.loc 1 517 0
 1276 000e 0020     		movs	r0, #0
 1277              	.LVL114:
 537:Src/Eagle_TRT.c **** 
 1278              		.loc 1 537 0
 1279 0010 70BD     		pop	{r4, r5, r6, pc}
 1280              	.LVL115:
 1281              	.L92:
 1282              	.LBB4:
 521:Src/Eagle_TRT.c **** 		q->elem[q->tail] = (char *)malloc(sizeof(char) * length);
 1283              		.loc 1 521 0
 1284 0012 3046     		mov	r0, r6
 1285 0014 FFF7FEFF 		bl	strlen
 1286              	.LVL116:
 522:Src/Eagle_TRT.c **** 		strcpy(q->elem[q->tail], str);
 1287              		.loc 1 522 0
 1288 0018 6568     		ldr	r5, [r4, #4]
 1289 001a FFF7FEFF 		bl	malloc
 1290              	.LVL117:
 1291 001e 0235     		adds	r5, r5, #2
 1292 0020 04EB8505 		add	r5, r4, r5, lsl #2
 1293 0024 6860     		str	r0, [r5, #4]
 523:Src/Eagle_TRT.c **** 		//q->tail = next(q->tail,q->dim);
 1294              		.loc 1 523 0
 1295 0026 3146     		mov	r1, r6
 1296 0028 FFF7FEFF 		bl	strcpy
 1297              	.LVL118:
 525:Src/Eagle_TRT.c **** 		{
 1298              		.loc 1 525 0
 1299 002c 6368     		ldr	r3, [r4, #4]
 1300 002e 272B     		cmp	r3, #39
 1301 0030 03D0     		beq	.L93
 531:Src/Eagle_TRT.c **** 		}
 1302              		.loc 1 531 0
 1303 0032 0133     		adds	r3, r3, #1
 1304 0034 6360     		str	r3, [r4, #4]
 533:Src/Eagle_TRT.c **** 	}
 1305              		.loc 1 533 0
 1306 0036 0120     		movs	r0, #1
 1307 0038 70BD     		pop	{r4, r5, r6, pc}
 1308              	.LVL119:
 1309              	.L93:
 527:Src/Eagle_TRT.c **** 		}
 1310              		.loc 1 527 0
 1311 003a 0023     		movs	r3, #0
 1312 003c 6360     		str	r3, [r4, #4]
 533:Src/Eagle_TRT.c **** 	}
 1313              		.loc 1 533 0
 1314 003e 0120     		movs	r0, #1
 1315 0040 70BD     		pop	{r4, r5, r6, pc}
 1316              	.LBE4:
 1317              		.cfi_endproc
 1318              	.LFE145:
 1320              		.section	.text.pop,"ax",%progbits
 1321              		.align	1
 1322              		.global	pop
ARM GAS  /tmp/ccqVNF68.s 			page 42


 1323              		.syntax unified
 1324              		.thumb
 1325              		.thumb_func
 1326              		.fpu fpv4-sp-d16
 1328              	pop:
 1329              	.LFB146:
 540:Src/Eagle_TRT.c **** 	int res;
 1330              		.loc 1 540 0
 1331              		.cfi_startproc
 1332              		@ args = 0, pretend = 0, frame = 0
 1333              		@ frame_needed = 0, uses_anonymous_args = 0
 1334              	.LVL120:
 1335 0000 38B5     		push	{r3, r4, r5, lr}
 1336              	.LCFI22:
 1337              		.cfi_def_cfa_offset 16
 1338              		.cfi_offset 3, -16
 1339              		.cfi_offset 4, -12
 1340              		.cfi_offset 5, -8
 1341              		.cfi_offset 14, -4
 1342 0002 0546     		mov	r5, r0
 1343 0004 0C46     		mov	r4, r1
 542:Src/Eagle_TRT.c **** 	{
 1344              		.loc 1 542 0
 1345 0006 0846     		mov	r0, r1
 1346              	.LVL121:
 1347 0008 FFF7FEFF 		bl	emptyp
 1348              	.LVL122:
 1349 000c 08B1     		cbz	r0, .L99
 544:Src/Eagle_TRT.c **** 	}
 1350              		.loc 1 544 0
 1351 000e 0020     		movs	r0, #0
 1352              	.LVL123:
 563:Src/Eagle_TRT.c **** /// ---- end queue ----///
 1353              		.loc 1 563 0
 1354 0010 38BD     		pop	{r3, r4, r5, pc}
 1355              	.LVL124:
 1356              	.L99:
 548:Src/Eagle_TRT.c **** 		free(q->elem[q->head]);
 1357              		.loc 1 548 0
 1358 0012 2368     		ldr	r3, [r4]
 1359 0014 0233     		adds	r3, r3, #2
 1360 0016 04EB8303 		add	r3, r4, r3, lsl #2
 1361 001a 5968     		ldr	r1, [r3, #4]
 1362 001c 2846     		mov	r0, r5
 1363 001e FFF7FEFF 		bl	strcpy
 1364              	.LVL125:
 549:Src/Eagle_TRT.c **** 		//q->head = next(q->head,q->dim);
 1365              		.loc 1 549 0
 1366 0022 2368     		ldr	r3, [r4]
 1367 0024 0233     		adds	r3, r3, #2
 1368 0026 04EB8303 		add	r3, r4, r3, lsl #2
 1369 002a 5868     		ldr	r0, [r3, #4]
 1370 002c FFF7FEFF 		bl	free
 1371              	.LVL126:
 551:Src/Eagle_TRT.c **** 		{
 1372              		.loc 1 551 0
 1373 0030 2368     		ldr	r3, [r4]
ARM GAS  /tmp/ccqVNF68.s 			page 43


 1374 0032 272B     		cmp	r3, #39
 1375 0034 03D0     		beq	.L100
 557:Src/Eagle_TRT.c **** 		}
 1376              		.loc 1 557 0
 1377 0036 0133     		adds	r3, r3, #1
 1378 0038 2360     		str	r3, [r4]
 559:Src/Eagle_TRT.c **** 	}
 1379              		.loc 1 559 0
 1380 003a 0120     		movs	r0, #1
 1381 003c 38BD     		pop	{r3, r4, r5, pc}
 1382              	.LVL127:
 1383              	.L100:
 553:Src/Eagle_TRT.c **** 		}
 1384              		.loc 1 553 0
 1385 003e 0023     		movs	r3, #0
 1386 0040 2360     		str	r3, [r4]
 559:Src/Eagle_TRT.c **** 	}
 1387              		.loc 1 559 0
 1388 0042 0120     		movs	r0, #1
 1389 0044 38BD     		pop	{r3, r4, r5, pc}
 1390              		.cfi_endproc
 1391              	.LFE146:
 1393              		.section	.text.print,"ax",%progbits
 1394              		.align	1
 1395              		.global	print
 1396              		.syntax unified
 1397              		.thumb
 1398              		.thumb_func
 1399              		.fpu fpv4-sp-d16
 1401              	print:
 1402              	.LFB147:
 568:Src/Eagle_TRT.c **** 
 1403              		.loc 1 568 0
 1404              		.cfi_startproc
 1405              		@ args = 0, pretend = 0, frame = 0
 1406              		@ frame_needed = 0, uses_anonymous_args = 0
 1407              	.LVL128:
 1408 0000 38B5     		push	{r3, r4, r5, lr}
 1409              	.LCFI23:
 1410              		.cfi_def_cfa_offset 16
 1411              		.cfi_offset 3, -16
 1412              		.cfi_offset 4, -12
 1413              		.cfi_offset 5, -8
 1414              		.cfi_offset 14, -4
 1415 0002 0546     		mov	r5, r0
 1416 0004 0C46     		mov	r4, r1
 1417              	.LVL129:
 572:Src/Eagle_TRT.c **** 	{
 1418              		.loc 1 572 0
 1419 0006 0846     		mov	r0, r1
 1420              	.LVL130:
 1421 0008 FFF7FEFF 		bl	strlen
 1422              	.LVL131:
 1423 000c 82B2     		uxth	r2, r0
 1424 000e 2146     		mov	r1, r4
 1425 0010 2846     		mov	r0, r5
 1426 0012 FFF7FEFF 		bl	HAL_UART_Transmit_IT
ARM GAS  /tmp/ccqVNF68.s 			page 44


 1427              	.LVL132:
 1428 0016 10B9     		cbnz	r0, .L106
 574:Src/Eagle_TRT.c **** 	}
 1429              		.loc 1 574 0
 1430 0018 0123     		movs	r3, #1
 1431              	.LVL133:
 1432              	.L101:
 589:Src/Eagle_TRT.c **** 
 1433              		.loc 1 589 0
 1434 001a 1846     		mov	r0, r3
 1435 001c 38BD     		pop	{r3, r4, r5, pc}
 1436              	.LVL134:
 1437              	.L106:
 578:Src/Eagle_TRT.c **** 		{
 1438              		.loc 1 578 0
 1439 001e 0449     		ldr	r1, .L107
 1440 0020 2046     		mov	r0, r4
 1441 0022 FFF7FEFF 		bl	push
 1442              	.LVL135:
 1443 0026 0346     		mov	r3, r0
 1444 0028 0028     		cmp	r0, #0
 1445 002a F6D0     		beq	.L101
 584:Src/Eagle_TRT.c **** 		}
 1446              		.loc 1 584 0
 1447 002c 0123     		movs	r3, #1
 1448              	.LVL136:
 588:Src/Eagle_TRT.c **** }
 1449              		.loc 1 588 0
 1450 002e F4E7     		b	.L101
 1451              	.L108:
 1452              		.align	2
 1453              	.L107:
 1454 0030 00000000 		.word	.LANCHOR35
 1455              		.cfi_endproc
 1456              	.LFE147:
 1458              		.section	.text.print_it,"ax",%progbits
 1459              		.align	1
 1460              		.global	print_it
 1461              		.syntax unified
 1462              		.thumb
 1463              		.thumb_func
 1464              		.fpu fpv4-sp-d16
 1466              	print_it:
 1467              	.LFB148:
 592:Src/Eagle_TRT.c **** 
 1468              		.loc 1 592 0
 1469              		.cfi_startproc
 1470              		@ args = 0, pretend = 0, frame = 56
 1471              		@ frame_needed = 0, uses_anonymous_args = 0
 1472              	.LVL137:
 1473 0000 10B5     		push	{r4, lr}
 1474              	.LCFI24:
 1475              		.cfi_def_cfa_offset 8
 1476              		.cfi_offset 4, -8
 1477              		.cfi_offset 14, -4
 1478 0002 8EB0     		sub	sp, sp, #56
 1479              	.LCFI25:
ARM GAS  /tmp/ccqVNF68.s 			page 45


 1480              		.cfi_def_cfa_offset 64
 1481 0004 0446     		mov	r4, r0
 596:Src/Eagle_TRT.c **** 	{
 1482              		.loc 1 596 0
 1483 0006 0849     		ldr	r1, .L113
 1484 0008 01A8     		add	r0, sp, #4
 1485              	.LVL138:
 1486 000a FFF7FEFF 		bl	pop
 1487              	.LVL139:
 1488 000e 0128     		cmp	r0, #1
 1489 0010 01D0     		beq	.L112
 1490              	.L109:
 600:Src/Eagle_TRT.c **** 
 1491              		.loc 1 600 0
 1492 0012 0EB0     		add	sp, sp, #56
 1493              	.LCFI26:
 1494              		.cfi_remember_state
 1495              		.cfi_def_cfa_offset 8
 1496              		@ sp needed
 1497 0014 10BD     		pop	{r4, pc}
 1498              	.LVL140:
 1499              	.L112:
 1500              	.LCFI27:
 1501              		.cfi_restore_state
 598:Src/Eagle_TRT.c **** 	}
 1502              		.loc 1 598 0
 1503 0016 01A8     		add	r0, sp, #4
 1504 0018 FFF7FEFF 		bl	strlen
 1505              	.LVL141:
 1506 001c 82B2     		uxth	r2, r0
 1507 001e 01A9     		add	r1, sp, #4
 1508 0020 2046     		mov	r0, r4
 1509 0022 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1510              	.LVL142:
 600:Src/Eagle_TRT.c **** 
 1511              		.loc 1 600 0
 1512 0026 F4E7     		b	.L109
 1513              	.L114:
 1514              		.align	2
 1515              	.L113:
 1516 0028 00000000 		.word	.LANCHOR35
 1517              		.cfi_endproc
 1518              	.LFE148:
 1520              		.section	.text.gps_init,"ax",%progbits
 1521              		.align	1
 1522              		.global	gps_init
 1523              		.syntax unified
 1524              		.thumb
 1525              		.thumb_func
 1526              		.fpu fpv4-sp-d16
 1528              	gps_init:
 1529              	.LFB149:
 622:Src/Eagle_TRT.c **** 
 1530              		.loc 1 622 0
 1531              		.cfi_startproc
 1532              		@ args = 0, pretend = 0, frame = 0
 1533              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccqVNF68.s 			page 46


 1534              	.LVL143:
 1535 0000 70B5     		push	{r4, r5, r6, lr}
 1536              	.LCFI28:
 1537              		.cfi_def_cfa_offset 16
 1538              		.cfi_offset 4, -16
 1539              		.cfi_offset 5, -12
 1540              		.cfi_offset 6, -8
 1541              		.cfi_offset 14, -4
 1542 0002 0C46     		mov	r4, r1
 625:Src/Eagle_TRT.c **** 	huart_GPS->Init.BaudRate = 9600;
 1543              		.loc 1 625 0
 1544 0004 3D4D     		ldr	r5, .L117
 1545 0006 2860     		str	r0, [r5]
 626:Src/Eagle_TRT.c **** 	HAL_UART_Init(huart_GPS);
 1546              		.loc 1 626 0
 1547 0008 4FF41652 		mov	r2, #9600
 1548 000c 4260     		str	r2, [r0, #4]
 627:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_BAUD_115200, strlen(PMTK_SET_BAUD_115200), 200);
 1549              		.loc 1 627 0
 1550 000e FFF7FEFF 		bl	HAL_UART_Init
 1551              	.LVL144:
 628:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 1552              		.loc 1 628 0
 1553 0012 3B4E     		ldr	r6, .L117+4
 1554 0014 C823     		movs	r3, #200
 1555 0016 1422     		movs	r2, #20
 1556 0018 3146     		mov	r1, r6
 1557 001a 2868     		ldr	r0, [r5]
 1558 001c FFF7FEFF 		bl	HAL_UART_Transmit
 1559              	.LVL145:
 629:Src/Eagle_TRT.c **** 	huart_GPS->Init.BaudRate = 57600;
 1560              		.loc 1 629 0
 1561 0020 4FF4FA70 		mov	r0, #500
 1562 0024 FFF7FEFF 		bl	HAL_Delay
 1563              	.LVL146:
 630:Src/Eagle_TRT.c **** 	HAL_UART_Init(huart_GPS);
 1564              		.loc 1 630 0
 1565 0028 2868     		ldr	r0, [r5]
 1566 002a 4FF46143 		mov	r3, #57600
 1567 002e 4360     		str	r3, [r0, #4]
 631:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_BAUD_115200, strlen(PMTK_SET_BAUD_115200), 200);
 1568              		.loc 1 631 0
 1569 0030 FFF7FEFF 		bl	HAL_UART_Init
 1570              	.LVL147:
 632:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 1571              		.loc 1 632 0
 1572 0034 C823     		movs	r3, #200
 1573 0036 1422     		movs	r2, #20
 1574 0038 3146     		mov	r1, r6
 1575 003a 2868     		ldr	r0, [r5]
 1576 003c FFF7FEFF 		bl	HAL_UART_Transmit
 1577              	.LVL148:
 633:Src/Eagle_TRT.c **** 	huart_GPS->Init.BaudRate = 115200;
 1578              		.loc 1 633 0
 1579 0040 4FF4FA70 		mov	r0, #500
 1580 0044 FFF7FEFF 		bl	HAL_Delay
 1581              	.LVL149:
ARM GAS  /tmp/ccqVNF68.s 			page 47


 634:Src/Eagle_TRT.c **** 	HAL_UART_Init(huart_GPS);
 1582              		.loc 1 634 0
 1583 0048 2868     		ldr	r0, [r5]
 1584 004a 4FF4E133 		mov	r3, #115200
 1585 004e 4360     		str	r3, [r0, #4]
 635:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_BAUD_115200, strlen(PMTK_SET_BAUD_115200), 200);
 1586              		.loc 1 635 0
 1587 0050 FFF7FEFF 		bl	HAL_UART_Init
 1588              	.LVL150:
 636:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 1589              		.loc 1 636 0
 1590 0054 C823     		movs	r3, #200
 1591 0056 1422     		movs	r2, #20
 1592 0058 3146     		mov	r1, r6
 1593 005a 2868     		ldr	r0, [r5]
 1594 005c FFF7FEFF 		bl	HAL_UART_Transmit
 1595              	.LVL151:
 637:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_NMEA_UPDATE_10HZ, strlen(PMTK_SET_NMEA_UPDATE_10H
 1596              		.loc 1 637 0
 1597 0060 4FF4FA70 		mov	r0, #500
 1598 0064 FFF7FEFF 		bl	HAL_Delay
 1599              	.LVL152:
 638:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 1600              		.loc 1 638 0
 1601 0068 C823     		movs	r3, #200
 1602 006a 1122     		movs	r2, #17
 1603 006c 2549     		ldr	r1, .L117+8
 1604 006e 2868     		ldr	r0, [r5]
 1605 0070 FFF7FEFF 		bl	HAL_UART_Transmit
 1606              	.LVL153:
 639:Src/Eagle_TRT.c **** 	HAL_UART_Transmit(huart_GPS, (uint8_t *)PMTK_SET_NMEA_OUTPUT_GGAVTG, strlen(PMTK_SET_NMEA_OUTPUT_G
 1607              		.loc 1 639 0
 1608 0074 4FF4FA70 		mov	r0, #500
 1609 0078 FFF7FEFF 		bl	HAL_Delay
 1610              	.LVL154:
 640:Src/Eagle_TRT.c **** 	HAL_Delay(500);
 1611              		.loc 1 640 0
 1612 007c C823     		movs	r3, #200
 1613 007e 3322     		movs	r2, #51
 1614 0080 2149     		ldr	r1, .L117+12
 1615 0082 2868     		ldr	r0, [r5]
 1616 0084 FFF7FEFF 		bl	HAL_UART_Transmit
 1617              	.LVL155:
 641:Src/Eagle_TRT.c **** 	strcpy(gps->speed, "000.00");
 1618              		.loc 1 641 0
 1619 0088 4FF4FA70 		mov	r0, #500
 1620 008c FFF7FEFF 		bl	HAL_Delay
 1621              	.LVL156:
 642:Src/Eagle_TRT.c **** 	strcpy(gps->latitude, "0000.0000");
 1622              		.loc 1 642 0
 1623 0090 1E4B     		ldr	r3, .L117+16
 1624 0092 1868     		ldr	r0, [r3]
 1625 0094 2060     		str	r0, [r4]	@ unaligned
 1626 0096 9A88     		ldrh	r2, [r3, #4]	@ unaligned
 1627 0098 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1628 009a A280     		strh	r2, [r4, #4]	@ unaligned
 1629 009c A371     		strb	r3, [r4, #6]
ARM GAS  /tmp/ccqVNF68.s 			page 48


 643:Src/Eagle_TRT.c **** 	strcpy(gps->latitude_o, "N");
 1630              		.loc 1 643 0
 1631 009e 1C4B     		ldr	r3, .L117+20
 1632 00a0 03CB     		ldmia	r3!, {r0, r1}
 1633 00a2 E060     		str	r0, [r4, #12]	@ unaligned
 1634 00a4 2161     		str	r1, [r4, #16]	@ unaligned
 1635 00a6 1B88     		ldrh	r3, [r3]	@ unaligned
 1636 00a8 A382     		strh	r3, [r4, #20]	@ unaligned
 644:Src/Eagle_TRT.c **** 	strcpy(gps->longitude, "00000.0000");
 1637              		.loc 1 644 0
 1638 00aa 1A4B     		ldr	r3, .L117+24
 1639 00ac 1B88     		ldrh	r3, [r3]	@ unaligned
 1640 00ae A383     		strh	r3, [r4, #28]	@ unaligned
 645:Src/Eagle_TRT.c **** 	strcpy(gps->longitude_o, "W");
 1641              		.loc 1 645 0
 1642 00b0 194B     		ldr	r3, .L117+28
 1643 00b2 03CB     		ldmia	r3!, {r0, r1}
 1644 00b4 E062     		str	r0, [r4, #44]	@ unaligned
 1645 00b6 2163     		str	r1, [r4, #48]	@ unaligned
 1646 00b8 1988     		ldrh	r1, [r3]	@ unaligned
 1647 00ba 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1648 00bc A186     		strh	r1, [r4, #52]	@ unaligned
 1649 00be 84F83630 		strb	r3, [r4, #54]
 646:Src/Eagle_TRT.c **** 	strcpy(gps->altitude, "0000.0");
 1650              		.loc 1 646 0
 1651 00c2 164B     		ldr	r3, .L117+32
 1652 00c4 1B88     		ldrh	r3, [r3]	@ unaligned
 1653 00c6 A387     		strh	r3, [r4, #60]	@ unaligned
 647:Src/Eagle_TRT.c **** 	strcpy(gps->time, "000000");
 1654              		.loc 1 647 0
 1655 00c8 154B     		ldr	r3, .L117+36
 1656 00ca 1868     		ldr	r0, [r3]
 1657 00cc E064     		str	r0, [r4, #76]	@ unaligned
 1658 00ce 9988     		ldrh	r1, [r3, #4]	@ unaligned
 1659 00d0 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1660 00d2 A4F85010 		strh	r1, [r4, #80]	@ unaligned
 1661 00d6 84F85230 		strb	r3, [r4, #82]
 648:Src/Eagle_TRT.c **** 	HAL_UART_Receive_IT(huart_GPS, (uint8_t *)buffer_gps, 1); //request of rx buffer interrupt
 1662              		.loc 1 648 0
 1663 00da 124B     		ldr	r3, .L117+40
 1664 00dc 1868     		ldr	r0, [r3]
 1665 00de A065     		str	r0, [r4, #88]	@ unaligned
 1666 00e0 9988     		ldrh	r1, [r3, #4]	@ unaligned
 1667 00e2 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1668 00e4 A4F85C10 		strh	r1, [r4, #92]	@ unaligned
 1669 00e8 84F85E30 		strb	r3, [r4, #94]
 649:Src/Eagle_TRT.c **** 
 1670              		.loc 1 649 0
 1671 00ec 0122     		movs	r2, #1
 1672 00ee 0E49     		ldr	r1, .L117+44
 1673 00f0 2868     		ldr	r0, [r5]
 1674 00f2 FFF7FEFF 		bl	HAL_UART_Receive_IT
 1675              	.LVL157:
 652:Src/Eagle_TRT.c **** 
 1676              		.loc 1 652 0
 1677 00f6 0120     		movs	r0, #1
 1678 00f8 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccqVNF68.s 			page 49


 1679              	.LVL158:
 1680              	.L118:
 1681 00fa 00BF     		.align	2
 1682              	.L117:
 1683 00fc 00000000 		.word	huart_GPS
 1684 0100 00000000 		.word	.LC2
 1685 0104 18000000 		.word	.LC3
 1686 0108 2C000000 		.word	.LC4
 1687 010c 60000000 		.word	.LC5
 1688 0110 68000000 		.word	.LC6
 1689 0114 74000000 		.word	.LC7
 1690 0118 78000000 		.word	.LC8
 1691 011c 84000000 		.word	.LC9
 1692 0120 88000000 		.word	.LC10
 1693 0124 90000000 		.word	.LC11
 1694 0128 00000000 		.word	buffer_gps
 1695              		.cfi_endproc
 1696              	.LFE149:
 1698              		.global	__aeabi_dmul
 1699              		.global	__aeabi_d2iz
 1700              		.section	.text.gps_read_it,"ax",%progbits
 1701              		.align	1
 1702              		.global	gps_read_it
 1703              		.syntax unified
 1704              		.thumb
 1705              		.thumb_func
 1706              		.fpu fpv4-sp-d16
 1708              	gps_read_it:
 1709              	.LFB150:
 655:Src/Eagle_TRT.c **** 
 1710              		.loc 1 655 0
 1711              		.cfi_startproc
 1712              		@ args = 0, pretend = 0, frame = 0
 1713              		@ frame_needed = 0, uses_anonymous_args = 0
 1714              	.LVL159:
 1715 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1716              	.LCFI29:
 1717              		.cfi_def_cfa_offset 24
 1718              		.cfi_offset 3, -24
 1719              		.cfi_offset 4, -20
 1720              		.cfi_offset 5, -16
 1721              		.cfi_offset 6, -12
 1722              		.cfi_offset 7, -8
 1723              		.cfi_offset 14, -4
 1724              	.LVL160:
 693:Src/Eagle_TRT.c **** 	{
 1725              		.loc 1 693 0
 1726 0002 A34B     		ldr	r3, .L173+16
 1727 0004 1B68     		ldr	r3, [r3]
 1728 0006 8342     		cmp	r3, r0
 1729 0008 02D0     		beq	.L155
 657:Src/Eagle_TRT.c **** 
 1730              		.loc 1 657 0
 1731 000a 0024     		movs	r4, #0
 1732              	.LVL161:
 1733              	.L119:
 855:Src/Eagle_TRT.c **** static int checksum(char *string_checksum, int size_string_checksum)
ARM GAS  /tmp/ccqVNF68.s 			page 50


 1734              		.loc 1 855 0
 1735 000c 2046     		mov	r0, r4
 1736 000e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1737              	.LVL162:
 1738              	.L155:
 1739 0010 0D46     		mov	r5, r1
 696:Src/Eagle_TRT.c **** 		data_string_gps = buffer_gps[0];						  //convert a pointer into a char
 1740              		.loc 1 696 0
 1741 0012 A04C     		ldr	r4, .L173+20
 1742 0014 0122     		movs	r2, #1
 1743 0016 2146     		mov	r1, r4
 1744              	.LVL163:
 1745 0018 1846     		mov	r0, r3
 1746              	.LVL164:
 1747 001a FFF7FEFF 		bl	HAL_UART_Receive_IT
 1748              	.LVL165:
 697:Src/Eagle_TRT.c **** 		if ((start_string_gps == 1) && (data_string_gps != '$'))
 1749              		.loc 1 697 0
 1750 001e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1751 0020 9D4A     		ldr	r2, .L173+24
 1752 0022 1370     		strb	r3, [r2]
 698:Src/Eagle_TRT.c **** 		{											   //check that the new string has not started yet
 1753              		.loc 1 698 0
 1754 0024 9D4A     		ldr	r2, .L173+28
 1755 0026 1268     		ldr	r2, [r2]
 1756 0028 012A     		cmp	r2, #1
 1757 002a 04D0     		beq	.L156
 1758              	.L121:
 847:Src/Eagle_TRT.c **** 			{						  //check if data indicates the start of new string
 1759              		.loc 1 847 0
 1760 002c 242B     		cmp	r3, #36
 1761 002e 00F07781 		beq	.L157
 657:Src/Eagle_TRT.c **** 
 1762              		.loc 1 657 0
 1763 0032 0024     		movs	r4, #0
 854:Src/Eagle_TRT.c **** }
 1764              		.loc 1 854 0
 1765 0034 EAE7     		b	.L119
 1766              	.L156:
 698:Src/Eagle_TRT.c **** 		{											   //check that the new string has not started yet
 1767              		.loc 1 698 0 discriminator 1
 1768 0036 242B     		cmp	r3, #36
 1769 0038 F8D0     		beq	.L121
 700:Src/Eagle_TRT.c **** 			cont_string++;
 1770              		.loc 1 700 0
 1771 003a 994A     		ldr	r2, .L173+32
 1772 003c 1168     		ldr	r1, [r2]
 1773 003e 9948     		ldr	r0, .L173+36
 1774 0040 4354     		strb	r3, [r0, r1]
 701:Src/Eagle_TRT.c **** 			if (string_gps[cont_string - 1] == '\r' || string_gps[cont_string - 1] == '\n')
 1775              		.loc 1 701 0
 1776 0042 481C     		adds	r0, r1, #1
 1777 0044 1060     		str	r0, [r2]
 702:Src/Eagle_TRT.c **** 			{ //indicates that the string is finishing
 1778              		.loc 1 702 0
 1779 0046 0D2B     		cmp	r3, #13
 1780 0048 03D0     		beq	.L122
ARM GAS  /tmp/ccqVNF68.s 			page 51


 702:Src/Eagle_TRT.c **** 			{ //indicates that the string is finishing
 1781              		.loc 1 702 0 is_stmt 0 discriminator 1
 1782 004a 0A2B     		cmp	r3, #10
 1783 004c 01D0     		beq	.L122
 657:Src/Eagle_TRT.c **** 
 1784              		.loc 1 657 0 is_stmt 1
 1785 004e 0024     		movs	r4, #0
 1786 0050 DCE7     		b	.L119
 1787              	.L122:
 704:Src/Eagle_TRT.c **** 				string_gps[cont_string] = '\0'; // '\0'=end of the string
 1788              		.loc 1 704 0
 1789 0052 934B     		ldr	r3, .L173+32
 1790 0054 1960     		str	r1, [r3]
 705:Src/Eagle_TRT.c **** 				start_string_gps = 0;			//end of string
 1791              		.loc 1 705 0
 1792 0056 934B     		ldr	r3, .L173+36
 1793 0058 0022     		movs	r2, #0
 1794 005a 5A54     		strb	r2, [r3, r1]
 706:Src/Eagle_TRT.c **** 				if (string_gps[2] == 'G' && string_gps[3] == 'G' && string_gps[4] == 'A')
 1795              		.loc 1 706 0
 1796 005c 8F48     		ldr	r0, .L173+28
 1797 005e 0260     		str	r2, [r0]
 707:Src/Eagle_TRT.c **** 				{ // operation when the string is GPGGA //
 1798              		.loc 1 707 0
 1799 0060 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1800 0062 472B     		cmp	r3, #71
 1801 0064 04D0     		beq	.L158
 1802              	.L123:
 793:Src/Eagle_TRT.c **** 				{ // operation when the string is GPVTG //
 1803              		.loc 1 793 0
 1804 0066 562B     		cmp	r3, #86
 1805 0068 00F0C680 		beq	.L159
 657:Src/Eagle_TRT.c **** 
 1806              		.loc 1 657 0
 1807 006c 0024     		movs	r4, #0
 1808 006e CDE7     		b	.L119
 1809              	.L158:
 707:Src/Eagle_TRT.c **** 				{ // operation when the string is GPGGA //
 1810              		.loc 1 707 0 discriminator 1
 1811 0070 8C4A     		ldr	r2, .L173+36
 1812 0072 D278     		ldrb	r2, [r2, #3]	@ zero_extendqisi2
 1813 0074 472A     		cmp	r2, #71
 1814 0076 F6D1     		bne	.L123
 707:Src/Eagle_TRT.c **** 				{ // operation when the string is GPGGA //
 1815              		.loc 1 707 0 is_stmt 0 discriminator 2
 1816 0078 8A4A     		ldr	r2, .L173+36
 1817 007a 1279     		ldrb	r2, [r2, #4]	@ zero_extendqisi2
 1818 007c 412A     		cmp	r2, #65
 1819 007e F2D1     		bne	.L123
 709:Src/Eagle_TRT.c **** 					{ //check the checksum (if==true -> enter)
 1820              		.loc 1 709 0 is_stmt 1
 1821 0080 8848     		ldr	r0, .L173+36
 1822 0082 FFF7FEFF 		bl	checksum
 1823              	.LVL166:
 1824 0086 0128     		cmp	r0, #1
 1825 0088 3BD0     		beq	.L146
 790:Src/Eagle_TRT.c **** 					}
ARM GAS  /tmp/ccqVNF68.s 			page 52


 1826              		.loc 1 790 0
 1827 008a 0024     		movs	r4, #0
 1828 008c BEE7     		b	.L119
 1829              	.LVL167:
 1830              	.L161:
 1831              	.LBB5:
 1832              	.LBB6:
 715:Src/Eagle_TRT.c **** 							else
 1833              		.loc 1 715 0
 1834 008e 0133     		adds	r3, r3, #1
 1835              	.LVL168:
 1836              	.L126:
 712:Src/Eagle_TRT.c **** 						{
 1837              		.loc 1 712 0 discriminator 2
 1838 0090 0130     		adds	r0, r0, #1
 1839              	.LVL169:
 1840              	.L124:
 712:Src/Eagle_TRT.c **** 						{
 1841              		.loc 1 712 0 is_stmt 0 discriminator 1
 1842 0092 6328     		cmp	r0, #99
 1843 0094 3CDC     		bgt	.L160
 714:Src/Eagle_TRT.c **** 								cont_comma++;
 1844              		.loc 1 714 0 is_stmt 1
 1845 0096 834A     		ldr	r2, .L173+36
 1846 0098 125C     		ldrb	r2, [r2, r0]	@ zero_extendqisi2
 1847 009a 2C2A     		cmp	r2, #44
 1848 009c F7D0     		beq	.L161
 718:Src/Eagle_TRT.c **** 								{ //save the time
 1849              		.loc 1 718 0
 1850 009e 012B     		cmp	r3, #1
 1851 00a0 07D0     		beq	.L162
 723:Src/Eagle_TRT.c **** 								{ //save latitude
 1852              		.loc 1 723 0
 1853 00a2 022B     		cmp	r3, #2
 1854 00a4 0BD1     		bne	.L128
 725:Src/Eagle_TRT.c **** 									cont_latitude++;
 1855              		.loc 1 725 0
 1856 00a6 05EB040E 		add	lr, r5, r4
 1857 00aa 8EF80C20 		strb	r2, [lr, #12]
 726:Src/Eagle_TRT.c **** 								}
 1858              		.loc 1 726 0
 1859 00ae 0134     		adds	r4, r4, #1
 1860              	.LVL170:
 1861 00b0 EEE7     		b	.L126
 1862              	.L162:
 720:Src/Eagle_TRT.c **** 									cont_time++;
 1863              		.loc 1 720 0
 1864 00b2 05EB010E 		add	lr, r5, r1
 1865 00b6 8EF85820 		strb	r2, [lr, #88]
 721:Src/Eagle_TRT.c **** 								}
 1866              		.loc 1 721 0
 1867 00ba 0131     		adds	r1, r1, #1
 1868              	.LVL171:
 1869 00bc E8E7     		b	.L126
 1870              	.L128:
 728:Src/Eagle_TRT.c **** 								{ //save orientation of latitude
 1871              		.loc 1 728 0
ARM GAS  /tmp/ccqVNF68.s 			page 53


 1872 00be 032B     		cmp	r3, #3
 1873 00c0 01D1     		bne	.L129
 730:Src/Eagle_TRT.c **** 								}
 1874              		.loc 1 730 0
 1875 00c2 2A77     		strb	r2, [r5, #28]
 1876 00c4 E4E7     		b	.L126
 1877              	.L129:
 732:Src/Eagle_TRT.c **** 								{ //save longitude
 1878              		.loc 1 732 0
 1879 00c6 042B     		cmp	r3, #4
 1880 00c8 0BD0     		beq	.L163
 737:Src/Eagle_TRT.c **** 								{ //save orientation of longitude
 1881              		.loc 1 737 0
 1882 00ca 052B     		cmp	r3, #5
 1883 00cc 0FD0     		beq	.L164
 741:Src/Eagle_TRT.c **** 								{
 1884              		.loc 1 741 0
 1885 00ce 062B     		cmp	r3, #6
 1886 00d0 10D0     		beq	.L165
 745:Src/Eagle_TRT.c **** 								{ //save altitude
 1887              		.loc 1 745 0
 1888 00d2 092B     		cmp	r3, #9
 1889 00d4 11D1     		bne	.L133
 747:Src/Eagle_TRT.c **** 									cont_altitude++;
 1890              		.loc 1 747 0
 1891 00d6 05EB070E 		add	lr, r5, r7
 1892 00da 8EF84C20 		strb	r2, [lr, #76]
 748:Src/Eagle_TRT.c **** 								}
 1893              		.loc 1 748 0
 1894 00de 0137     		adds	r7, r7, #1
 1895              	.LVL172:
 1896 00e0 D6E7     		b	.L126
 1897              	.L163:
 734:Src/Eagle_TRT.c **** 									cont_longitude++;
 1898              		.loc 1 734 0
 1899 00e2 05EB060E 		add	lr, r5, r6
 1900 00e6 8EF82C20 		strb	r2, [lr, #44]
 735:Src/Eagle_TRT.c **** 								}
 1901              		.loc 1 735 0
 1902 00ea 0136     		adds	r6, r6, #1
 1903              	.LVL173:
 1904 00ec D0E7     		b	.L126
 1905              	.L164:
 739:Src/Eagle_TRT.c **** 								}
 1906              		.loc 1 739 0
 1907 00ee 85F83C20 		strb	r2, [r5, #60]
 1908 00f2 CDE7     		b	.L126
 1909              	.L165:
 743:Src/Eagle_TRT.c **** 								}
 1910              		.loc 1 743 0
 1911 00f4 85F86320 		strb	r2, [r5, #99]
 1912 00f8 CAE7     		b	.L126
 1913              	.L133:
 750:Src/Eagle_TRT.c **** 								{
 1914              		.loc 1 750 0
 1915 00fa 0A2B     		cmp	r3, #10
 1916 00fc C8D1     		bne	.L126
ARM GAS  /tmp/ccqVNF68.s 			page 54


 752:Src/Eagle_TRT.c **** 								}
 1917              		.loc 1 752 0
 1918 00fe 6420     		movs	r0, #100
 1919              	.LVL174:
 1920 0100 C6E7     		b	.L126
 1921              	.LVL175:
 1922              	.L146:
 1923              	.LBE6:
 1924              	.LBE5:
 1925 0102 0520     		movs	r0, #5
 1926 0104 0021     		movs	r1, #0
 1927 0106 0F46     		mov	r7, r1
 1928 0108 0E46     		mov	r6, r1
 1929 010a 0C46     		mov	r4, r1
 1930 010c 0B46     		mov	r3, r1
 1931 010e C0E7     		b	.L124
 1932              	.LVL176:
 1933              	.L160:
 1934              	.LBB7:
 757:Src/Eagle_TRT.c **** 						{
 1935              		.loc 1 757 0
 1936 0110 95F86330 		ldrb	r3, [r5, #99]	@ zero_extendqisi2
 1937              	.LVL177:
 1938 0114 302B     		cmp	r3, #48
 1939 0116 32D1     		bne	.L135
 759:Src/Eagle_TRT.c **** 							gps->latitude_i_l = 0;
 1940              		.loc 1 759 0
 1941 0118 0023     		movs	r3, #0
 1942 011a 6B62     		str	r3, [r5, #36]
 760:Src/Eagle_TRT.c **** 							gps->longitude_i_h = 0;
 1943              		.loc 1 760 0
 1944 011c AB62     		str	r3, [r5, #40]
 761:Src/Eagle_TRT.c **** 							gps->longitude_i_l = 0;
 1945              		.loc 1 761 0
 1946 011e 6B64     		str	r3, [r5, #68]
 762:Src/Eagle_TRT.c **** 							gps->altitude_i = 0;
 1947              		.loc 1 762 0
 1948 0120 AB64     		str	r3, [r5, #72]
 763:Src/Eagle_TRT.c **** 						}
 1949              		.loc 1 763 0
 1950 0122 6B65     		str	r3, [r5, #84]
 1951              	.LVL178:
 1952              	.L136:
 776:Src/Eagle_TRT.c **** 						can.dataTx[1] = gps->longitude_i_h / 256;
 1953              		.loc 1 776 0
 1954 0124 6048     		ldr	r0, .L173+40
 1955 0126 0824     		movs	r4, #8
 1956              	.LVL179:
 1957 0128 0472     		strb	r4, [r0, #8]
 777:Src/Eagle_TRT.c **** 						can.dataTx[2] = gps->longitude_i_h % 256;
 1958              		.loc 1 777 0
 1959 012a 6B6C     		ldr	r3, [r5, #68]
 1960 012c 4FF48072 		mov	r2, #256
 1961 0130 93FBF2F1 		sdiv	r1, r3, r2
 1962 0134 4172     		strb	r1, [r0, #9]
 778:Src/Eagle_TRT.c **** 						can.dataTx[3] = gps->longitude_i_l / 256;
 1963              		.loc 1 778 0
ARM GAS  /tmp/ccqVNF68.s 			page 55


 1964 0136 5942     		rsbs	r1, r3, #0
 1965 0138 DBB2     		uxtb	r3, r3
 1966 013a C9B2     		uxtb	r1, r1
 1967 013c 58BF     		it	pl
 1968 013e 4B42     		rsbpl	r3, r1, #0
 1969 0140 8372     		strb	r3, [r0, #10]
 779:Src/Eagle_TRT.c **** 						can.dataTx[4] = gps->longitude_i_l % 256;
 1970              		.loc 1 779 0
 1971 0142 AB6C     		ldr	r3, [r5, #72]
 1972 0144 93FBF2F1 		sdiv	r1, r3, r2
 1973 0148 C172     		strb	r1, [r0, #11]
 780:Src/Eagle_TRT.c **** 						can.dataTx[5] = (int)gps->longitude_o;
 1974              		.loc 1 780 0
 1975 014a 5942     		rsbs	r1, r3, #0
 1976 014c DBB2     		uxtb	r3, r3
 1977 014e C9B2     		uxtb	r1, r1
 1978 0150 58BF     		it	pl
 1979 0152 4B42     		rsbpl	r3, r1, #0
 1980 0154 0373     		strb	r3, [r0, #12]
 781:Src/Eagle_TRT.c **** 						can.dataTx[6] = gps->altitude_i / 256;
 1981              		.loc 1 781 0
 1982 0156 05F13C03 		add	r3, r5, #60
 1983 015a 4373     		strb	r3, [r0, #13]
 782:Src/Eagle_TRT.c **** 						can.dataTx[7] = gps->altitude_i % 256;
 1984              		.loc 1 782 0
 1985 015c 6B6D     		ldr	r3, [r5, #84]
 1986 015e 93FBF2F2 		sdiv	r2, r3, r2
 1987 0162 8273     		strb	r2, [r0, #14]
 783:Src/Eagle_TRT.c **** 						can.id = 0xD0;
 1988              		.loc 1 783 0
 1989 0164 5A42     		rsbs	r2, r3, #0
 1990 0166 DBB2     		uxtb	r3, r3
 1991 0168 D2B2     		uxtb	r2, r2
 1992 016a 58BF     		it	pl
 1993 016c 5342     		rsbpl	r3, r2, #0
 1994 016e C373     		strb	r3, [r0, #15]
 784:Src/Eagle_TRT.c **** 						can.size = 8;
 1995              		.loc 1 784 0
 1996 0170 D023     		movs	r3, #208
 1997 0172 0360     		str	r3, [r0]
 785:Src/Eagle_TRT.c **** 						CAN_Send(&can);
 1998              		.loc 1 785 0
 1999 0174 4460     		str	r4, [r0, #4]
 786:Src/Eagle_TRT.c **** 					}
 2000              		.loc 1 786 0
 2001 0176 FFF7FEFF 		bl	CAN_Send
 2002              	.LVL180:
 2003              	.LBE7:
 657:Src/Eagle_TRT.c **** 
 2004              		.loc 1 657 0
 2005 017a 0024     		movs	r4, #0
 2006 017c 46E7     		b	.L119
 2007              	.LVL181:
 2008              	.L135:
 2009              	.LBB8:
 767:Src/Eagle_TRT.c **** 							gps->longitude_i = (long int)(atof(gps->longitude) * 100000);
 2010              		.loc 1 767 0
ARM GAS  /tmp/ccqVNF68.s 			page 56


 2011 017e 05F10C00 		add	r0, r5, #12
 2012              	.LVL182:
 2013 0182 FFF7FEFF 		bl	atof
 2014              	.LVL183:
 2015 0186 3EA3     		adr	r3, .L173
 2016 0188 D3E90023 		ldrd	r2, [r3]
 2017 018c 51EC100B 		vmov	r0, r1, d0
 2018 0190 FFF7FEFF 		bl	__aeabi_dmul
 2019              	.LVL184:
 2020 0194 FFF7FEFF 		bl	__aeabi_d2iz
 2021              	.LVL185:
 2022 0198 2862     		str	r0, [r5, #32]
 768:Src/Eagle_TRT.c **** 							gps->altitude_i = (int)(atof(gps->altitude) * 100);
 2023              		.loc 1 768 0
 2024 019a 05F12C00 		add	r0, r5, #44
 2025 019e FFF7FEFF 		bl	atof
 2026              	.LVL186:
 2027 01a2 39A3     		adr	r3, .L173+8
 2028 01a4 D3E90023 		ldrd	r2, [r3]
 2029 01a8 51EC100B 		vmov	r0, r1, d0
 2030 01ac FFF7FEFF 		bl	__aeabi_dmul
 2031              	.LVL187:
 2032 01b0 FFF7FEFF 		bl	__aeabi_d2iz
 2033              	.LVL188:
 2034 01b4 2864     		str	r0, [r5, #64]
 769:Src/Eagle_TRT.c **** 							gps->latitude_i_h = (int)(gps->latitude_i / 10000);
 2035              		.loc 1 769 0
 2036 01b6 05F14C00 		add	r0, r5, #76
 2037 01ba FFF7FEFF 		bl	atof
 2038              	.LVL189:
 2039 01be 0022     		movs	r2, #0
 2040 01c0 3A4B     		ldr	r3, .L173+44
 2041 01c2 51EC100B 		vmov	r0, r1, d0
 2042 01c6 FFF7FEFF 		bl	__aeabi_dmul
 2043              	.LVL190:
 2044 01ca FFF7FEFF 		bl	__aeabi_d2iz
 2045              	.LVL191:
 2046 01ce 6865     		str	r0, [r5, #84]
 770:Src/Eagle_TRT.c **** 							gps->latitude_i_l = (int)(gps->latitude_i - gps->latitude_i_h * 10000);
 2047              		.loc 1 770 0
 2048 01d0 2A6A     		ldr	r2, [r5, #32]
 2049 01d2 42F21073 		movw	r3, #10000
 2050 01d6 92FBF3F3 		sdiv	r3, r2, r3
 2051 01da 6B62     		str	r3, [r5, #36]
 771:Src/Eagle_TRT.c **** 							gps->longitude_i_h = (int)(gps->longitude_i / 100000);
 2052              		.loc 1 771 0
 2053 01dc 3449     		ldr	r1, .L173+48
 2054 01de 01FB0323 		mla	r3, r1, r3, r2
 2055 01e2 AB62     		str	r3, [r5, #40]
 772:Src/Eagle_TRT.c **** 							gps->longitude_i_l = (int)(gps->longitude_i - gps->longitude_i_h * 100000);
 2056              		.loc 1 772 0
 2057 01e4 2A6C     		ldr	r2, [r5, #64]
 2058 01e6 334B     		ldr	r3, .L173+52
 2059 01e8 92FBF3F3 		sdiv	r3, r2, r3
 2060 01ec 6B64     		str	r3, [r5, #68]
 773:Src/Eagle_TRT.c **** 						}
 2061              		.loc 1 773 0
ARM GAS  /tmp/ccqVNF68.s 			page 57


 2062 01ee 3249     		ldr	r1, .L173+56
 2063 01f0 01FB0323 		mla	r3, r1, r3, r2
 2064 01f4 AB64     		str	r3, [r5, #72]
 2065 01f6 95E7     		b	.L136
 2066              	.LVL192:
 2067              	.L159:
 2068              	.LBE8:
 793:Src/Eagle_TRT.c **** 				{ // operation when the string is GPVTG //
 2069              		.loc 1 793 0 discriminator 1
 2070 01f8 2A4B     		ldr	r3, .L173+36
 2071 01fa DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 2072 01fc 542B     		cmp	r3, #84
 2073 01fe 01D0     		beq	.L166
 657:Src/Eagle_TRT.c **** 
 2074              		.loc 1 657 0
 2075 0200 0024     		movs	r4, #0
 2076 0202 03E7     		b	.L119
 2077              	.L166:
 793:Src/Eagle_TRT.c **** 				{ // operation when the string is GPVTG //
 2078              		.loc 1 793 0 discriminator 2
 2079 0204 274B     		ldr	r3, .L173+36
 2080 0206 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 2081 0208 472B     		cmp	r3, #71
 2082 020a 01D0     		beq	.L167
 657:Src/Eagle_TRT.c **** 
 2083              		.loc 1 657 0
 2084 020c 0024     		movs	r4, #0
 2085 020e FDE6     		b	.L119
 2086              	.L167:
 795:Src/Eagle_TRT.c **** 					{ //check the checksum (if==true -> enter)
 2087              		.loc 1 795 0
 2088 0210 2448     		ldr	r0, .L173+36
 2089 0212 FFF7FEFF 		bl	checksum
 2090              	.LVL193:
 2091 0216 0446     		mov	r4, r0
 2092 0218 0128     		cmp	r0, #1
 2093 021a 01D0     		beq	.L168
 840:Src/Eagle_TRT.c **** 					}
 2094              		.loc 1 840 0
 2095 021c 0024     		movs	r4, #0
 2096 021e F5E6     		b	.L119
 2097              	.L168:
 2098              	.LBB9:
 797:Src/Eagle_TRT.c **** 						int cont_speed = 0;
 2099              		.loc 1 797 0
 2100 0220 0023     		movs	r3, #0
 2101 0222 264A     		ldr	r2, .L173+60
 2102 0224 1360     		str	r3, [r2]
 2103              	.LVL194:
 2104              	.LBB10:
 799:Src/Eagle_TRT.c **** 						{
 2105              		.loc 1 799 0
 2106 0226 0522     		movs	r2, #5
 2107 0228 04E0     		b	.L137
 2108              	.LVL195:
 2109              	.L170:
 802:Src/Eagle_TRT.c **** 							else
ARM GAS  /tmp/ccqVNF68.s 			page 58


 2110              		.loc 1 802 0
 2111 022a 2448     		ldr	r0, .L173+60
 2112 022c 0168     		ldr	r1, [r0]
 2113 022e 0131     		adds	r1, r1, #1
 2114 0230 0160     		str	r1, [r0]
 2115              	.LVL196:
 2116              	.L139:
 799:Src/Eagle_TRT.c **** 						{
 2117              		.loc 1 799 0 discriminator 2
 2118 0232 0132     		adds	r2, r2, #1
 2119              	.LVL197:
 2120              	.L137:
 799:Src/Eagle_TRT.c **** 						{
 2121              		.loc 1 799 0 is_stmt 0 discriminator 1
 2122 0234 1A49     		ldr	r1, .L173+32
 2123 0236 0968     		ldr	r1, [r1]
 2124 0238 8A42     		cmp	r2, r1
 2125 023a 0EDA     		bge	.L169
 801:Src/Eagle_TRT.c **** 								cont_comma++;
 2126              		.loc 1 801 0 is_stmt 1
 2127 023c 1948     		ldr	r0, .L173+36
 2128 023e 865C     		ldrb	r6, [r0, r2]	@ zero_extendqisi2
 2129 0240 2C2E     		cmp	r6, #44
 2130 0242 F2D0     		beq	.L170
 805:Src/Eagle_TRT.c **** 								{ //save the speed
 2131              		.loc 1 805 0
 2132 0244 1D48     		ldr	r0, .L173+60
 2133 0246 0068     		ldr	r0, [r0]
 2134 0248 0728     		cmp	r0, #7
 2135 024a 03D0     		beq	.L171
 810:Src/Eagle_TRT.c **** 								{
 2136              		.loc 1 810 0
 2137 024c 0828     		cmp	r0, #8
 2138 024e F0D1     		bne	.L139
 812:Src/Eagle_TRT.c **** 								}
 2139              		.loc 1 812 0
 2140 0250 0A46     		mov	r2, r1
 2141              	.LVL198:
 2142 0252 EEE7     		b	.L139
 2143              	.LVL199:
 2144              	.L171:
 807:Src/Eagle_TRT.c **** 									cont_speed++;
 2145              		.loc 1 807 0
 2146 0254 EE54     		strb	r6, [r5, r3]
 808:Src/Eagle_TRT.c **** 								}
 2147              		.loc 1 808 0
 2148 0256 0133     		adds	r3, r3, #1
 2149              	.LVL200:
 2150 0258 EBE7     		b	.L139
 2151              	.L169:
 2152              	.LBE10:
 817:Src/Eagle_TRT.c **** 						{
 2153              		.loc 1 817 0
 2154 025a 95F86330 		ldrb	r3, [r5, #99]	@ zero_extendqisi2
 2155              	.LVL201:
 2156 025e 302B     		cmp	r3, #48
 2157 0260 2ED0     		beq	.L172
ARM GAS  /tmp/ccqVNF68.s 			page 59


 823:Src/Eagle_TRT.c **** 						}
 2158              		.loc 1 823 0
 2159 0262 2846     		mov	r0, r5
 2160 0264 FFF7FEFF 		bl	atof
 2161              	.LVL202:
 2162 0268 0022     		movs	r2, #0
 2163 026a 104B     		ldr	r3, .L173+44
 2164 026c 51EC100B 		vmov	r0, r1, d0
 2165 0270 FFF7FEFF 		bl	__aeabi_dmul
 2166              	.LVL203:
 2167 0274 FFF7FEFF 		bl	__aeabi_d2iz
 2168              	.LVL204:
 2169 0278 A860     		str	r0, [r5, #8]
 2170 027a 23E0     		b	.L143
 2171              	.L174:
 2172 027c AFF30080 		.align	3
 2173              	.L173:
 2174 0280 00000000 		.word	0
 2175 0284 0088C340 		.word	1086556160
 2176 0288 00000000 		.word	0
 2177 028c 006AF840 		.word	1090021888
 2178 0290 00000000 		.word	huart_GPS
 2179 0294 00000000 		.word	buffer_gps
 2180 0298 00000000 		.word	data_string_gps
 2181 029c 00000000 		.word	.LANCHOR36
 2182 02a0 00000000 		.word	cont_string
 2183 02a4 00000000 		.word	string_gps
 2184 02a8 00000000 		.word	can
 2185 02ac 00005940 		.word	1079574528
 2186 02b0 F0D8FFFF 		.word	-10000
 2187 02b4 A0860100 		.word	100000
 2188 02b8 6079FEFF 		.word	-100000
 2189 02bc 00000000 		.word	cont_comma
 2190              	.LVL205:
 2191              	.L172:
 819:Src/Eagle_TRT.c **** 						}
 2192              		.loc 1 819 0
 2193 02c0 0023     		movs	r3, #0
 2194 02c2 AB60     		str	r3, [r5, #8]
 2195              	.LVL206:
 2196              	.L143:
 825:Src/Eagle_TRT.c **** 						can.dataTx[1] = gps->latitude_i_h / 256;
 2197              		.loc 1 825 0
 2198 02c4 1A48     		ldr	r0, .L175
 2199 02c6 0723     		movs	r3, #7
 2200 02c8 0372     		strb	r3, [r0, #8]
 826:Src/Eagle_TRT.c **** 						can.dataTx[2] = gps->latitude_i_h % 256;
 2201              		.loc 1 826 0
 2202 02ca 6B6A     		ldr	r3, [r5, #36]
 2203 02cc 4FF48072 		mov	r2, #256
 2204 02d0 93FBF2F1 		sdiv	r1, r3, r2
 2205 02d4 4172     		strb	r1, [r0, #9]
 827:Src/Eagle_TRT.c **** 						can.dataTx[3] = gps->latitude_i_l / 256;
 2206              		.loc 1 827 0
 2207 02d6 5942     		rsbs	r1, r3, #0
 2208 02d8 DBB2     		uxtb	r3, r3
 2209 02da C9B2     		uxtb	r1, r1
ARM GAS  /tmp/ccqVNF68.s 			page 60


 2210 02dc 58BF     		it	pl
 2211 02de 4B42     		rsbpl	r3, r1, #0
 2212 02e0 8372     		strb	r3, [r0, #10]
 828:Src/Eagle_TRT.c **** 						can.dataTx[4] = gps->latitude_i_l % 256;
 2213              		.loc 1 828 0
 2214 02e2 AB6A     		ldr	r3, [r5, #40]
 2215 02e4 93FBF2F1 		sdiv	r1, r3, r2
 2216 02e8 C172     		strb	r1, [r0, #11]
 829:Src/Eagle_TRT.c **** 						can.dataTx[5] = (int)gps->latitude_o;
 2217              		.loc 1 829 0
 2218 02ea 5942     		rsbs	r1, r3, #0
 2219 02ec DBB2     		uxtb	r3, r3
 2220 02ee C9B2     		uxtb	r1, r1
 2221 02f0 58BF     		it	pl
 2222 02f2 4B42     		rsbpl	r3, r1, #0
 2223 02f4 0373     		strb	r3, [r0, #12]
 830:Src/Eagle_TRT.c **** 						can.dataTx[6] = gps->speed_i / 256;
 2224              		.loc 1 830 0
 2225 02f6 05F11C03 		add	r3, r5, #28
 2226 02fa 4373     		strb	r3, [r0, #13]
 831:Src/Eagle_TRT.c **** 						can.dataTx[7] = gps->speed_i % 256;
 2227              		.loc 1 831 0
 2228 02fc AB68     		ldr	r3, [r5, #8]
 2229 02fe 93FBF2F3 		sdiv	r3, r3, r2
 2230 0302 8373     		strb	r3, [r0, #14]
 832:Src/Eagle_TRT.c **** 						can.id = 0xD0;
 2231              		.loc 1 832 0
 2232 0304 AB68     		ldr	r3, [r5, #8]
 2233 0306 5A42     		rsbs	r2, r3, #0
 2234 0308 DBB2     		uxtb	r3, r3
 2235 030a D2B2     		uxtb	r2, r2
 2236 030c 58BF     		it	pl
 2237 030e 5342     		rsbpl	r3, r2, #0
 2238 0310 C373     		strb	r3, [r0, #15]
 833:Src/Eagle_TRT.c **** 						can.size = 8;
 2239              		.loc 1 833 0
 2240 0312 D023     		movs	r3, #208
 2241 0314 0360     		str	r3, [r0]
 834:Src/Eagle_TRT.c **** 						CAN_Send(&can);
 2242              		.loc 1 834 0
 2243 0316 0823     		movs	r3, #8
 2244 0318 4360     		str	r3, [r0, #4]
 835:Src/Eagle_TRT.c **** 						ret = 1;
 2245              		.loc 1 835 0
 2246 031a FFF7FEFF 		bl	CAN_Send
 2247              	.LVL207:
 2248              	.LBE9:
 2249 031e 75E6     		b	.L119
 2250              	.LVL208:
 2251              	.L157:
 849:Src/Eagle_TRT.c **** 				cont_string = 0;	  //set the counter to 1
 2252              		.loc 1 849 0
 2253 0320 0122     		movs	r2, #1
 2254 0322 044B     		ldr	r3, .L175+4
 2255 0324 1A60     		str	r2, [r3]
 850:Src/Eagle_TRT.c **** 			}
 2256              		.loc 1 850 0
ARM GAS  /tmp/ccqVNF68.s 			page 61


 2257 0326 0024     		movs	r4, #0
 2258 0328 034B     		ldr	r3, .L175+8
 2259 032a 1C60     		str	r4, [r3]
 2260 032c 6EE6     		b	.L119
 2261              	.L176:
 2262 032e 00BF     		.align	2
 2263              	.L175:
 2264 0330 00000000 		.word	can
 2265 0334 00000000 		.word	.LANCHOR36
 2266 0338 00000000 		.word	cont_string
 2267              		.cfi_endproc
 2268              	.LFE150:
 2270              		.section	.text.ReinitTIM7,"ax",%progbits
 2271              		.align	1
 2272              		.global	ReinitTIM7
 2273              		.syntax unified
 2274              		.thumb
 2275              		.thumb_func
 2276              		.fpu fpv4-sp-d16
 2278              	ReinitTIM7:
 2279              	.LFB156:
 892:Src/Eagle_TRT.c **** 
 893:Src/Eagle_TRT.c **** #endif
 894:Src/Eagle_TRT.c **** 
 895:Src/Eagle_TRT.c **** #ifdef HAL_TIM_MODULE_ENABLED
 896:Src/Eagle_TRT.c **** #include "stm32f4xx_hal_tim.h"
 897:Src/Eagle_TRT.c **** 
 898:Src/Eagle_TRT.c **** extern UART_HandleTypeDef huart2;
 899:Src/Eagle_TRT.c **** extern char txt;
 900:Src/Eagle_TRT.c **** 
 901:Src/Eagle_TRT.c **** // Function to request data from encoder via SSI communication
 902:Src/Eagle_TRT.c **** // This function is called from the interrupt callback of the timer that you are using for the enco
 903:Src/Eagle_TRT.c **** // The tim used for this function must be initialized at most at 2 microsecond per tick
 904:Src/Eagle_TRT.c **** // Lower the number of microseconds per tick better it is
 905:Src/Eagle_TRT.c **** // TimerInstance = struct of the tim used for the encoder
 906:Src/Eagle_TRT.c **** enc_stc enc;
 907:Src/Eagle_TRT.c **** double read_encoder(enc_stc *enc)
 908:Src/Eagle_TRT.c **** {
 909:Src/Eagle_TRT.c **** 
 910:Src/Eagle_TRT.c **** 	enc->clock_period = 2;
 911:Src/Eagle_TRT.c **** 
 912:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_6, GPIO_PIN_RESET);
 913:Src/Eagle_TRT.c **** 	__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 914:Src/Eagle_TRT.c **** 	while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
 915:Src/Eagle_TRT.c **** 	{
 916:Src/Eagle_TRT.c **** 	}
 917:Src/Eagle_TRT.c **** 
 918:Src/Eagle_TRT.c **** 	// CLOCK HIGH
 919:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_6, GPIO_PIN_SET);
 920:Src/Eagle_TRT.c **** 	__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 921:Src/Eagle_TRT.c **** 	while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
 922:Src/Eagle_TRT.c **** 	{
 923:Src/Eagle_TRT.c **** 	}
 924:Src/Eagle_TRT.c **** 
 925:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_6, GPIO_PIN_RESET);
 926:Src/Eagle_TRT.c **** 	__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 927:Src/Eagle_TRT.c **** 	while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
ARM GAS  /tmp/ccqVNF68.s 			page 62


 928:Src/Eagle_TRT.c **** 	{
 929:Src/Eagle_TRT.c **** 	}
 930:Src/Eagle_TRT.c **** 
 931:Src/Eagle_TRT.c **** 	// Starting the clock to retrieve 14 bits from the sensor
 932:Src/Eagle_TRT.c **** 	for (int i = 0; i < enc->data_size; i++)
 933:Src/Eagle_TRT.c **** 	{
 934:Src/Eagle_TRT.c **** 
 935:Src/Eagle_TRT.c **** 		// CLOCK HIGH
 936:Src/Eagle_TRT.c **** 		HAL_GPIO_WritePin(GPIOC, GPIO_PIN_6, GPIO_PIN_SET);
 937:Src/Eagle_TRT.c **** 		__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 938:Src/Eagle_TRT.c **** 		while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
 939:Src/Eagle_TRT.c **** 		{
 940:Src/Eagle_TRT.c **** 		}
 941:Src/Eagle_TRT.c **** 
 942:Src/Eagle_TRT.c **** 		// Set the bit as the pin state (0 or 1)
 943:Src/Eagle_TRT.c **** 		enc->Data[i] = HAL_GPIO_ReadPin(GPIOC, GPIO_PIN_8);
 944:Src/Eagle_TRT.c **** 
 945:Src/Eagle_TRT.c **** 		// CLOCK LOW
 946:Src/Eagle_TRT.c **** 		HAL_GPIO_WritePin(GPIOC, GPIO_PIN_6, GPIO_PIN_RESET);
 947:Src/Eagle_TRT.c **** 		__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 948:Src/Eagle_TRT.c **** 		while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
 949:Src/Eagle_TRT.c **** 		{
 950:Src/Eagle_TRT.c **** 		}
 951:Src/Eagle_TRT.c **** 	}
 952:Src/Eagle_TRT.c **** 
 953:Src/Eagle_TRT.c **** 	// Requesting an other bit for the aventual error sent from the sensor
 954:Src/Eagle_TRT.c **** 	HAL_GPIO_WritePin(GPIOC, GPIO_PIN_6, GPIO_PIN_SET);
 955:Src/Eagle_TRT.c **** 	__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 956:Src/Eagle_TRT.c **** 	while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period * 2)
 957:Src/Eagle_TRT.c **** 	{
 958:Src/Eagle_TRT.c **** 	}
 959:Src/Eagle_TRT.c **** 
 960:Src/Eagle_TRT.c **** 	enc->error_flag = HAL_GPIO_ReadPin(GPIOC, GPIO_PIN_8);
 961:Src/Eagle_TRT.c **** 
 962:Src/Eagle_TRT.c **** 	// Converting bits into number and converting it into angle in degrees (0 ~ 359)
 963:Src/Eagle_TRT.c **** 	enc->converted_data = bin_dec(enc->Data, enc->data_size - 1);
 964:Src/Eagle_TRT.c **** 	enc->converted_data = enc->converted_data / 45.5055;
 965:Src/Eagle_TRT.c **** 
 966:Src/Eagle_TRT.c **** 	return enc->converted_data;
 967:Src/Eagle_TRT.c **** }
 968:Src/Eagle_TRT.c **** 
 969:Src/Eagle_TRT.c **** // Interrupt function of tim 2
 970:Src/Eagle_TRT.c **** // Call this function in the timer callback function of the stm
 971:Src/Eagle_TRT.c **** // htim = timer TimerInstance of the timer that you are using for the clock of the encoder
 972:Src/Eagle_TRT.c **** // Interrupt_flag = initilize a int variable in the main file
 973:Src/Eagle_TRT.c **** // Angles_array = array to store the last angles
 974:Src/Eagle_TRT.c **** // Speed = pointer to the speed value
 975:Src/Eagle_TRT.c **** void encoder_tim_interrupt(enc_stc *enc)
 976:Src/Eagle_TRT.c **** {
 977:Src/Eagle_TRT.c **** 
 978:Src/Eagle_TRT.c **** 	if (enc->interrupt_flag == 0)
 979:Src/Eagle_TRT.c **** 	{
 980:Src/Eagle_TRT.c **** 		// Requesting first angle
 981:Src/Eagle_TRT.c **** 		enc->angle0_prec = enc->angle0;
 982:Src/Eagle_TRT.c **** 		enc->angle0 = read_encoder(enc);
 983:Src/Eagle_TRT.c **** 	}
 984:Src/Eagle_TRT.c **** 	else if (enc->interrupt_flag == 1)
ARM GAS  /tmp/ccqVNF68.s 			page 63


 985:Src/Eagle_TRT.c **** 	{
 986:Src/Eagle_TRT.c **** 		// Requesting second angle
 987:Src/Eagle_TRT.c **** 		enc->angle1_prec = enc->angle1;
 988:Src/Eagle_TRT.c **** 		enc->angle1 = read_encoder(enc);
 989:Src/Eagle_TRT.c **** 	}
 990:Src/Eagle_TRT.c **** 	else if (enc->interrupt_flag == 2)
 991:Src/Eagle_TRT.c **** 	{
 992:Src/Eagle_TRT.c **** 		// Calculate speed from the two angles
 993:Src/Eagle_TRT.c **** 		get_speed_encoder(enc);
 994:Src/Eagle_TRT.c **** 
 995:Src/Eagle_TRT.c **** 		enc->average_speed *= 10;
 996:Src/Eagle_TRT.c **** 
 997:Src/Eagle_TRT.c **** 		// Get the speed sign to be sent in CAN
 998:Src/Eagle_TRT.c **** 		if (enc->average_speed < 0)
 999:Src/Eagle_TRT.c **** 		{
1000:Src/Eagle_TRT.c **** 			enc->average_speed *= -1;
1001:Src/Eagle_TRT.c **** 			enc->speed_sign = 1;
1002:Src/Eagle_TRT.c **** 		}
1003:Src/Eagle_TRT.c **** 		else
1004:Src/Eagle_TRT.c **** 		{
1005:Src/Eagle_TRT.c **** 			enc->speed_sign = 0;
1006:Src/Eagle_TRT.c **** 		}
1007:Src/Eagle_TRT.c **** 	}
1008:Src/Eagle_TRT.c **** 
1009:Src/Eagle_TRT.c **** 	// Cycle between steps
1010:Src/Eagle_TRT.c **** 	if (enc->interrupt_flag >= 2)
1011:Src/Eagle_TRT.c **** 	{
1012:Src/Eagle_TRT.c **** 		enc->interrupt_flag = 0;
1013:Src/Eagle_TRT.c **** 	}
1014:Src/Eagle_TRT.c **** 	else
1015:Src/Eagle_TRT.c **** 	{
1016:Src/Eagle_TRT.c **** 		enc->interrupt_flag++;
1017:Src/Eagle_TRT.c **** 	}
1018:Src/Eagle_TRT.c **** }
1019:Src/Eagle_TRT.c **** 
1020:Src/Eagle_TRT.c **** // Funtion to calculate the speed
1021:Src/Eagle_TRT.c **** // Angle0 = last angle calculated
1022:Src/Eagle_TRT.c **** // Angle1 = previous angle calculated
1023:Src/Eagle_TRT.c **** // Refresh = delta-time from the two calculations, express it in microseconds
1024:Src/Eagle_TRT.c **** // Wheel_diameter = diameter of the wheel expressed meters
1025:Src/Eagle_TRT.c **** void get_speed_encoder(enc_stc *enc)
1026:Src/Eagle_TRT.c **** {
1027:Src/Eagle_TRT.c **** 
1028:Src/Eagle_TRT.c **** 	long double speed = 0;
1029:Src/Eagle_TRT.c **** 	double dt = 0;
1030:Src/Eagle_TRT.c **** 
1031:Src/Eagle_TRT.c **** 	if (enc->dx_wheel == 1)
1032:Src/Eagle_TRT.c **** 	{
1033:Src/Eagle_TRT.c **** 		enc->delta_angle = enc->angle1 - enc->angle0;
1034:Src/Eagle_TRT.c **** 	}
1035:Src/Eagle_TRT.c **** 	else
1036:Src/Eagle_TRT.c **** 	{
1037:Src/Eagle_TRT.c **** 		enc->delta_angle = enc->angle0 - enc->angle1;
1038:Src/Eagle_TRT.c **** 	}
1039:Src/Eagle_TRT.c **** 
1040:Src/Eagle_TRT.c **** 	// Calculate correct delta angle if near to 0-360
1041:Src/Eagle_TRT.c **** 	if ((enc->angle0 < enc->max_delta_angle && enc->angle1 > 360 - enc->max_delta_angle) ||
ARM GAS  /tmp/ccqVNF68.s 			page 64


1042:Src/Eagle_TRT.c **** 		(enc->angle1 < enc->max_delta_angle && enc->angle0 > 360 - enc->max_delta_angle))
1043:Src/Eagle_TRT.c **** 	{
1044:Src/Eagle_TRT.c **** 		if (enc->delta_angle < 0)
1045:Src/Eagle_TRT.c **** 		{
1046:Src/Eagle_TRT.c **** 			enc->delta_angle = 360 + enc->delta_angle;
1047:Src/Eagle_TRT.c **** 		}
1048:Src/Eagle_TRT.c **** 		else
1049:Src/Eagle_TRT.c **** 		{
1050:Src/Eagle_TRT.c **** 			enc->delta_angle = 360 - enc->delta_angle;
1051:Src/Eagle_TRT.c **** 		}
1052:Src/Eagle_TRT.c **** 	}
1053:Src/Eagle_TRT.c **** 
1054:Src/Eagle_TRT.c **** 	// Calculating rad/s, then m/s, then Km/h
1055:Src/Eagle_TRT.c **** 	speed = (enc->delta_angle / 360) * 3.1415 * (enc->wheel_diameter);
1056:Src/Eagle_TRT.c **** 	speed *= enc->frequency;
1057:Src/Eagle_TRT.c **** 	speed *= 3.6;
1058:Src/Eagle_TRT.c **** 	speed = round((speed * 1000)) / 1000;
1059:Src/Eagle_TRT.c **** 
1060:Src/Eagle_TRT.c **** 	int off = enc->max_delta_angle;
1061:Src/Eagle_TRT.c **** 
1062:Src/Eagle_TRT.c **** 	// Start detecting eventual new wheel roation
1063:Src/Eagle_TRT.c **** 	// If the speed is too low, don't count rotations
1064:Src/Eagle_TRT.c **** 	if (enc->average_speed < -0.5 || enc->average_speed > 0.5)
1065:Src/Eagle_TRT.c **** 	{
1066:Src/Eagle_TRT.c **** 		if ((enc->angle0_prec <= 361 && enc->angle0_prec > 360 - off) && (enc->angle0 >= -1 && enc->angle
1067:Src/Eagle_TRT.c **** 		{
1068:Src/Eagle_TRT.c **** 			enc->wheel_rotation++;
1069:Src/Eagle_TRT.c **** 			enc->Km += (3.14 * enc->wheel_diameter) / 1000;
1070:Src/Eagle_TRT.c **** 		}
1071:Src/Eagle_TRT.c **** 		if ((enc->angle0_prec >= -1 && enc->angle0_prec < off) && (enc->angle0 <= 361 && enc->angle0 > 36
1072:Src/Eagle_TRT.c **** 		{
1073:Src/Eagle_TRT.c **** 			enc->wheel_rotation++;
1074:Src/Eagle_TRT.c **** 			enc->Km += (3.14 * enc->wheel_diameter) / 1000;
1075:Src/Eagle_TRT.c **** 		}
1076:Src/Eagle_TRT.c **** 	}
1077:Src/Eagle_TRT.c **** 
1078:Src/Eagle_TRT.c **** 	// Remove noise mediating previous values with actual
1079:Src/Eagle_TRT.c **** 	shift_array(enc->speed_array, 50, speed);
1080:Src/Eagle_TRT.c **** 	enc->average_speed = dynamic_average(enc->speed_array, 50);
1081:Src/Eagle_TRT.c **** 
1082:Src/Eagle_TRT.c **** 	// Calculating the angle sample frequency
1083:Src/Eagle_TRT.c **** 	enc_calculate_optimal_frequency(enc);
1084:Src/Eagle_TRT.c **** }
1085:Src/Eagle_TRT.c **** 
1086:Src/Eagle_TRT.c **** // Calculate anche sample frequency
1087:Src/Eagle_TRT.c **** // The delta angle changes depending on the current speed
1088:Src/Eagle_TRT.c **** // Constrain the delta angle between a defined range (max_delta_angle)
1089:Src/Eagle_TRT.c **** void enc_calculate_optimal_frequency(enc_stc *enc)
1090:Src/Eagle_TRT.c **** {
1091:Src/Eagle_TRT.c **** 	double abs_delta_angle = (enc->delta_angle >= 0) ? enc->delta_angle : enc->delta_angle * -1;
1092:Src/Eagle_TRT.c **** 	if (abs_delta_angle > enc->max_delta_angle * 1.25 || abs_delta_angle < enc->max_delta_angle * 0.5)
1093:Src/Eagle_TRT.c **** 	{
1094:Src/Eagle_TRT.c **** 		double angular_speed = enc->average_speed / (enc->wheel_diameter / 2);
1095:Src/Eagle_TRT.c **** 		double frequency = angular_speed / enc->max_delta_angle;
1096:Src/Eagle_TRT.c **** 		frequency = frequency < 50 ? 50 : frequency;
1097:Src/Eagle_TRT.c **** 
1098:Src/Eagle_TRT.c **** 		// Returns 0 if reinitialization is done correctly
ARM GAS  /tmp/ccqVNF68.s 			page 65


1099:Src/Eagle_TRT.c **** 		if (ReinitTIM7(frequency, enc) == 0)
1100:Src/Eagle_TRT.c **** 		{
1101:Src/Eagle_TRT.c **** 			// Set encoder actual frequency
1102:Src/Eagle_TRT.c **** 			enc->frequency = enc->frequency_timer_Hz / (enc->frequency_timer->Init.Prescaler * enc->frequenc
1103:Src/Eagle_TRT.c **** 		}
1104:Src/Eagle_TRT.c **** 	}
1105:Src/Eagle_TRT.c **** }
1106:Src/Eagle_TRT.c **** 
1107:Src/Eagle_TRT.c **** // Reinitializing timer to generate interrupts to the given frequency
1108:Src/Eagle_TRT.c **** int ReinitTIM7(float frequency, enc_stc *enc)
1109:Src/Eagle_TRT.c **** {
 2280              		.loc 1 1109 0
 2281              		.cfi_startproc
 2282              		@ args = 0, pretend = 0, frame = 8
 2283              		@ frame_needed = 0, uses_anonymous_args = 0
 2284              	.LVL209:
 2285 0000 30B5     		push	{r4, r5, lr}
 2286              	.LCFI30:
 2287              		.cfi_def_cfa_offset 12
 2288              		.cfi_offset 4, -12
 2289              		.cfi_offset 5, -8
 2290              		.cfi_offset 14, -4
 2291 0002 83B0     		sub	sp, sp, #12
 2292              	.LCFI31:
 2293              		.cfi_def_cfa_offset 24
 2294 0004 0446     		mov	r4, r0
 2295              	.LVL210:
1110:Src/Eagle_TRT.c **** 
1111:Src/Eagle_TRT.c **** 	/* USER CODE BEGIN TIM7_Init 0 */
1112:Src/Eagle_TRT.c **** 	int error_flag = 0;
1113:Src/Eagle_TRT.c **** 
1114:Src/Eagle_TRT.c **** 	/* USER CODE END TIM7_Init 0 */
1115:Src/Eagle_TRT.c **** 
1116:Src/Eagle_TRT.c **** 	TIM_MasterConfigTypeDef sMasterConfig = {0};
 2296              		.loc 1 1116 0
 2297 0006 0025     		movs	r5, #0
 2298 0008 0095     		str	r5, [sp]
 2299 000a 0195     		str	r5, [sp, #4]
1117:Src/Eagle_TRT.c **** 
1118:Src/Eagle_TRT.c **** 	/* USER CODE BEGIN TIM7_Init 1 */
1119:Src/Eagle_TRT.c **** 
1120:Src/Eagle_TRT.c **** 	enc->frequency_timer_prescaler = sqrt(enc->frequency_timer_Hz * frequency);
 2300              		.loc 1 1120 0
 2301 000c D0ED217A 		vldr.32	s15, [r0, #132]	@ int
 2302 0010 F8EEE77A 		vcvt.f32.s32	s15, s15
 2303 0014 67EE807A 		vmul.f32	s15, s15, s0
 2304 0018 17EE900A 		vmov	r0, s15
 2305              	.LVL211:
 2306 001c FFF7FEFF 		bl	__aeabi_f2d
 2307              	.LVL212:
 2308 0020 41EC100B 		vmov	d0, r0, r1
 2309 0024 FFF7FEFF 		bl	sqrt
 2310              	.LVL213:
 2311 0028 51EC100B 		vmov	r0, r1, d0
 2312 002c FFF7FEFF 		bl	__aeabi_d2iz
 2313              	.LVL214:
 2314 0030 C4F88800 		str	r0, [r4, #136]
ARM GAS  /tmp/ccqVNF68.s 			page 66


1121:Src/Eagle_TRT.c **** 	enc->frequency_timer_period = enc->frequency_timer_prescaler;
 2315              		.loc 1 1121 0
 2316 0034 C4F88C00 		str	r0, [r4, #140]
1122:Src/Eagle_TRT.c **** 
1123:Src/Eagle_TRT.c **** 	/* USER CODE END TIM7_Init 1 */
1124:Src/Eagle_TRT.c **** 	enc->frequency_timer->Instance = TIM7;
 2317              		.loc 1 1124 0
 2318 0038 D4F8EC33 		ldr	r3, [r4, #1004]
 2319 003c 124A     		ldr	r2, .L183
 2320 003e 1A60     		str	r2, [r3]
1125:Src/Eagle_TRT.c **** 	enc->frequency_timer->Init.Prescaler = enc->frequency_timer_prescaler;
 2321              		.loc 1 1125 0
 2322 0040 D4F8EC33 		ldr	r3, [r4, #1004]
 2323 0044 D4F88820 		ldr	r2, [r4, #136]
 2324 0048 5A60     		str	r2, [r3, #4]
1126:Src/Eagle_TRT.c **** 	enc->frequency_timer->Init.CounterMode = TIM_COUNTERMODE_UP;
 2325              		.loc 1 1126 0
 2326 004a D4F8EC33 		ldr	r3, [r4, #1004]
 2327 004e 9D60     		str	r5, [r3, #8]
1127:Src/Eagle_TRT.c **** 	enc->frequency_timer->Init.Period = enc->frequency_timer_period;
 2328              		.loc 1 1127 0
 2329 0050 D4F8EC33 		ldr	r3, [r4, #1004]
 2330 0054 D4F88C20 		ldr	r2, [r4, #140]
 2331 0058 DA60     		str	r2, [r3, #12]
1128:Src/Eagle_TRT.c **** 	enc->frequency_timer->Init.AutoReloadPreload = TIM_AUTORELOAD_PRELOAD_DISABLE;
 2332              		.loc 1 1128 0
 2333 005a D4F8EC33 		ldr	r3, [r4, #1004]
 2334 005e 9D61     		str	r5, [r3, #24]
1129:Src/Eagle_TRT.c **** 
1130:Src/Eagle_TRT.c **** 	if (HAL_TIM_Base_Init(enc->frequency_timer) != HAL_OK)
 2335              		.loc 1 1130 0
 2336 0060 D4F8EC03 		ldr	r0, [r4, #1004]
 2337 0064 FFF7FEFF 		bl	HAL_TIM_Base_Init
 2338              	.LVL215:
 2339 0068 00B1     		cbz	r0, .L178
1131:Src/Eagle_TRT.c **** 	{
1132:Src/Eagle_TRT.c **** 		error_flag = 1;
 2340              		.loc 1 1132 0
 2341 006a 0125     		movs	r5, #1
 2342              	.L178:
 2343              	.LVL216:
1133:Src/Eagle_TRT.c **** 	}
1134:Src/Eagle_TRT.c **** 	sMasterConfig.MasterOutputTrigger = TIM_TRGO_RESET;
 2344              		.loc 1 1134 0
 2345 006c 0023     		movs	r3, #0
 2346 006e 0093     		str	r3, [sp]
1135:Src/Eagle_TRT.c **** 	sMasterConfig.MasterSlaveMode = TIM_MASTERSLAVEMODE_DISABLE;
 2347              		.loc 1 1135 0
 2348 0070 0193     		str	r3, [sp, #4]
1136:Src/Eagle_TRT.c **** 	if (HAL_TIMEx_MasterConfigSynchronization(enc->frequency_timer, &sMasterConfig) != HAL_OK)
 2349              		.loc 1 1136 0
 2350 0072 6946     		mov	r1, sp
 2351 0074 D4F8EC03 		ldr	r0, [r4, #1004]
 2352 0078 FFF7FEFF 		bl	HAL_TIMEx_MasterConfigSynchronization
 2353              	.LVL217:
 2354 007c 00B1     		cbz	r0, .L177
1137:Src/Eagle_TRT.c **** 	{
ARM GAS  /tmp/ccqVNF68.s 			page 67


1138:Src/Eagle_TRT.c **** 		error_flag = 2;
 2355              		.loc 1 1138 0
 2356 007e 0225     		movs	r5, #2
 2357              	.LVL218:
 2358              	.L177:
1139:Src/Eagle_TRT.c **** 	}
1140:Src/Eagle_TRT.c **** 	/* USER CODE BEGIN TIM7_Init 2 */
1141:Src/Eagle_TRT.c **** 	return error_flag;
1142:Src/Eagle_TRT.c **** 	/* USER CODE END TIM7_Init 2 */
1143:Src/Eagle_TRT.c **** }
 2359              		.loc 1 1143 0
 2360 0080 2846     		mov	r0, r5
 2361 0082 03B0     		add	sp, sp, #12
 2362              	.LCFI32:
 2363              		.cfi_def_cfa_offset 12
 2364              		@ sp needed
 2365 0084 30BD     		pop	{r4, r5, pc}
 2366              	.LVL219:
 2367              	.L184:
 2368 0086 00BF     		.align	2
 2369              	.L183:
 2370 0088 00140040 		.word	1073746944
 2371              		.cfi_endproc
 2372              	.LFE156:
 2374              		.global	__aeabi_dcmpge
 2375              		.global	__aeabi_dcmpgt
 2376              		.global	__aeabi_dcmplt
 2377              		.global	__aeabi_ddiv
 2378              		.global	__aeabi_d2f
 2379              		.section	.text.enc_calculate_optimal_frequency,"ax",%progbits
 2380              		.align	1
 2381              		.global	enc_calculate_optimal_frequency
 2382              		.syntax unified
 2383              		.thumb
 2384              		.thumb_func
 2385              		.fpu fpv4-sp-d16
 2387              	enc_calculate_optimal_frequency:
 2388              	.LFB155:
1090:Src/Eagle_TRT.c **** 	double abs_delta_angle = (enc->delta_angle >= 0) ? enc->delta_angle : enc->delta_angle * -1;
 2389              		.loc 1 1090 0
 2390              		.cfi_startproc
 2391              		@ args = 0, pretend = 0, frame = 0
 2392              		@ frame_needed = 0, uses_anonymous_args = 0
 2393              	.LVL220:
 2394 0000 2DE9D043 		push	{r4, r6, r7, r8, r9, lr}
 2395              	.LCFI33:
 2396              		.cfi_def_cfa_offset 24
 2397              		.cfi_offset 4, -24
 2398              		.cfi_offset 6, -20
 2399              		.cfi_offset 7, -16
 2400              		.cfi_offset 8, -12
 2401              		.cfi_offset 9, -8
 2402              		.cfi_offset 14, -4
 2403 0004 0446     		mov	r4, r0
1091:Src/Eagle_TRT.c **** 	if (abs_delta_angle > enc->max_delta_angle * 1.25 || abs_delta_angle < enc->max_delta_angle * 0.5)
 2404              		.loc 1 1091 0
 2405 0006 D0E92C67 		ldrd	r6, [r0, #176]
ARM GAS  /tmp/ccqVNF68.s 			page 68


 2406 000a 0022     		movs	r2, #0
 2407 000c 0023     		movs	r3, #0
 2408 000e 3046     		mov	r0, r6
 2409              	.LVL221:
 2410 0010 3946     		mov	r1, r7
 2411 0012 FFF7FEFF 		bl	__aeabi_dcmpge
 2412              	.LVL222:
 2413 0016 0028     		cmp	r0, #0
 2414 0018 57D0     		beq	.L194
 2415              	.L186:
 2416              	.LVL223:
1092:Src/Eagle_TRT.c **** 	{
 2417              		.loc 1 1092 0 discriminator 4
 2418 001a E06F     		ldr	r0, [r4, #124]	@ float
 2419 001c FFF7FEFF 		bl	__aeabi_f2d
 2420              	.LVL224:
 2421 0020 8046     		mov	r8, r0
 2422 0022 8946     		mov	r9, r1
 2423 0024 0022     		movs	r2, #0
 2424 0026 2B4B     		ldr	r3, .L195
 2425 0028 FFF7FEFF 		bl	__aeabi_dmul
 2426              	.LVL225:
 2427 002c 0246     		mov	r2, r0
 2428 002e 0B46     		mov	r3, r1
 2429 0030 3046     		mov	r0, r6
 2430 0032 3946     		mov	r1, r7
 2431 0034 FFF7FEFF 		bl	__aeabi_dcmpgt
 2432              	.LVL226:
 2433 0038 60B9     		cbnz	r0, .L187
1092:Src/Eagle_TRT.c **** 	{
 2434              		.loc 1 1092 0 is_stmt 0 discriminator 1
 2435 003a 0022     		movs	r2, #0
 2436 003c 264B     		ldr	r3, .L195+4
 2437 003e 4046     		mov	r0, r8
 2438 0040 4946     		mov	r1, r9
 2439 0042 FFF7FEFF 		bl	__aeabi_dmul
 2440              	.LVL227:
 2441 0046 0246     		mov	r2, r0
 2442 0048 0B46     		mov	r3, r1
 2443 004a 3046     		mov	r0, r6
 2444 004c 3946     		mov	r1, r7
 2445 004e FFF7FEFF 		bl	__aeabi_dcmplt
 2446              	.LVL228:
 2447 0052 C0B3     		cbz	r0, .L185
 2448              	.L187:
 2449              	.LBB11:
1094:Src/Eagle_TRT.c **** 		double frequency = angular_speed / enc->max_delta_angle;
 2450              		.loc 1 1094 0 is_stmt 1
 2451 0054 D4E9F667 		ldrd	r6, [r4, #984]
 2452              	.LVL229:
 2453 0058 94ED1E7A 		vldr.32	s14, [r4, #120]
 2454 005c F6EE007A 		vmov.f32	s15, #5.0e-1
 2455 0060 67EE277A 		vmul.f32	s15, s14, s15
 2456 0064 17EE900A 		vmov	r0, s15
 2457 0068 FFF7FEFF 		bl	__aeabi_f2d
 2458              	.LVL230:
 2459 006c 0246     		mov	r2, r0
ARM GAS  /tmp/ccqVNF68.s 			page 69


 2460 006e 0B46     		mov	r3, r1
 2461 0070 3046     		mov	r0, r6
 2462 0072 3946     		mov	r1, r7
 2463 0074 FFF7FEFF 		bl	__aeabi_ddiv
 2464              	.LVL231:
1095:Src/Eagle_TRT.c **** 		frequency = frequency < 50 ? 50 : frequency;
 2465              		.loc 1 1095 0
 2466 0078 4246     		mov	r2, r8
 2467 007a 4B46     		mov	r3, r9
 2468 007c FFF7FEFF 		bl	__aeabi_ddiv
 2469              	.LVL232:
 2470 0080 0646     		mov	r6, r0
 2471 0082 0F46     		mov	r7, r1
 2472              	.LVL233:
1096:Src/Eagle_TRT.c **** 
 2473              		.loc 1 1096 0
 2474 0084 0022     		movs	r2, #0
 2475 0086 154B     		ldr	r3, .L195+8
 2476 0088 FFF7FEFF 		bl	__aeabi_dcmplt
 2477              	.LVL234:
 2478 008c 08B1     		cbz	r0, .L190
 2479 008e 0026     		movs	r6, #0
 2480              	.LVL235:
 2481 0090 124F     		ldr	r7, .L195+8
 2482              	.L190:
 2483              	.LVL236:
1099:Src/Eagle_TRT.c **** 		{
 2484              		.loc 1 1099 0 discriminator 4
 2485 0092 3046     		mov	r0, r6
 2486 0094 3946     		mov	r1, r7
 2487 0096 FFF7FEFF 		bl	__aeabi_d2f
 2488              	.LVL237:
 2489 009a 00EE100A 		vmov	s0, r0
 2490 009e 2046     		mov	r0, r4
 2491 00a0 FFF7FEFF 		bl	ReinitTIM7
 2492              	.LVL238:
 2493 00a4 78B9     		cbnz	r0, .L185
1102:Src/Eagle_TRT.c **** 		}
 2494              		.loc 1 1102 0
 2495 00a6 D4F88430 		ldr	r3, [r4, #132]
 2496 00aa D4F8EC13 		ldr	r1, [r4, #1004]
 2497 00ae 4868     		ldr	r0, [r1, #4]
 2498 00b0 CA68     		ldr	r2, [r1, #12]
 2499 00b2 02FB00F2 		mul	r2, r2, r0
 2500 00b6 B3FBF2F3 		udiv	r3, r3, r2
 2501 00ba 07EE903A 		vmov	s15, r3	@ int
 2502 00be F8EE677A 		vcvt.f32.u32	s15, s15
 2503 00c2 C4ED207A 		vstr.32	s15, [r4, #128]
 2504              	.LVL239:
 2505              	.L185:
 2506 00c6 BDE8D083 		pop	{r4, r6, r7, r8, r9, pc}
 2507              	.LVL240:
 2508              	.L194:
 2509              	.LBE11:
1091:Src/Eagle_TRT.c **** 	if (abs_delta_angle > enc->max_delta_angle * 1.25 || abs_delta_angle < enc->max_delta_angle * 0.5)
 2510              		.loc 1 1091 0 discriminator 2
 2511 00ca 07F10043 		add	r3, r7, #-2147483648
ARM GAS  /tmp/ccqVNF68.s 			page 70


 2512 00ce 1F46     		mov	r7, r3
 2513 00d0 A3E7     		b	.L186
 2514              	.L196:
 2515 00d2 00BF     		.align	2
 2516              	.L195:
 2517 00d4 0000F43F 		.word	1072955392
 2518 00d8 0000E03F 		.word	1071644672
 2519 00dc 00004940 		.word	1078525952
 2520              		.cfi_endproc
 2521              	.LFE155:
 2523              		.section	.text.calc_pot_value,"ax",%progbits
 2524              		.align	1
 2525              		.global	calc_pot_value
 2526              		.syntax unified
 2527              		.thumb
 2528              		.thumb_func
 2529              		.fpu fpv4-sp-d16
 2531              	calc_pot_value:
 2532              	.LFB157:
1144:Src/Eagle_TRT.c **** 
1145:Src/Eagle_TRT.c **** pot_stc pot_1;
1146:Src/Eagle_TRT.c **** pot_stc pot_2;
1147:Src/Eagle_TRT.c **** pot_stc pot_3;
1148:Src/Eagle_TRT.c **** void calc_pot_value(pot_stc *pot)
1149:Src/Eagle_TRT.c **** {
 2533              		.loc 1 1149 0
 2534              		.cfi_startproc
 2535              		@ args = 0, pretend = 0, frame = 0
 2536              		@ frame_needed = 0, uses_anonymous_args = 0
 2537              		@ link register save eliminated.
 2538              	.LVL241:
 2539 0000 10B4     		push	{r4}
 2540              	.LCFI34:
 2541              		.cfi_def_cfa_offset 4
 2542              		.cfi_offset 4, -4
1150:Src/Eagle_TRT.c **** 
1151:Src/Eagle_TRT.c **** 	pot->val_100 = round(100 - (abs(pot->val - pot->min) * 100 / (pot->range))); //val0_100 -->STEER -
 2543              		.loc 1 1151 0
 2544 0002 0269     		ldr	r2, [r0, #16]
 2545 0004 8468     		ldr	r4, [r0, #8]
 2546 0006 131B     		subs	r3, r2, r4
 2547 0008 83EAE371 		eor	r1, r3, r3, asr #31
 2548 000c A1EBE371 		sub	r1, r1, r3, asr #31
 2549 0010 6FF06303 		mvn	r3, #99
 2550 0014 03FB01F3 		mul	r3, r3, r1
 2551 0018 C168     		ldr	r1, [r0, #12]
 2552 001a 93FBF1F3 		sdiv	r3, r3, r1
 2553 001e 6433     		adds	r3, r3, #100
 2554 0020 0360     		str	r3, [r0]
1152:Src/Eagle_TRT.c **** 	if (pot->val <= pot->min)
 2555              		.loc 1 1152 0
 2556 0022 A242     		cmp	r2, r4
 2557 0024 01DC     		bgt	.L198
1153:Src/Eagle_TRT.c **** 	{
1154:Src/Eagle_TRT.c **** 		pot->val_100 = 100;
 2558              		.loc 1 1154 0
 2559 0026 6423     		movs	r3, #100
ARM GAS  /tmp/ccqVNF68.s 			page 71


 2560 0028 0360     		str	r3, [r0]
 2561              	.L198:
1155:Src/Eagle_TRT.c **** 	}
1156:Src/Eagle_TRT.c **** 	if (pot->val >= pot->max)
 2562              		.loc 1 1156 0
 2563 002a 4368     		ldr	r3, [r0, #4]
 2564 002c 9A42     		cmp	r2, r3
 2565 002e 01DB     		blt	.L197
1157:Src/Eagle_TRT.c **** 	{
1158:Src/Eagle_TRT.c **** 		pot->val_100 = 0;
 2566              		.loc 1 1158 0
 2567 0030 0023     		movs	r3, #0
 2568 0032 0360     		str	r3, [r0]
 2569              	.L197:
1159:Src/Eagle_TRT.c **** 	}
1160:Src/Eagle_TRT.c **** }
 2570              		.loc 1 1160 0
 2571 0034 5DF8044B 		ldr	r4, [sp], #4
 2572              	.LCFI35:
 2573              		.cfi_restore 4
 2574              		.cfi_def_cfa_offset 0
 2575 0038 7047     		bx	lr
 2576              		.cfi_endproc
 2577              	.LFE157:
 2579              		.section	.text.implausibility_check,"ax",%progbits
 2580              		.align	1
 2581              		.global	implausibility_check
 2582              		.syntax unified
 2583              		.thumb
 2584              		.thumb_func
 2585              		.fpu fpv4-sp-d16
 2587              	implausibility_check:
 2588              	.LFB158:
1161:Src/Eagle_TRT.c **** 
1162:Src/Eagle_TRT.c **** //Function to check if the two ADC values are approximately the same
1163:Src/Eagle_TRT.c **** //if the values are different for more tha 10 points percentage for more than 100 milliseconds retu
1164:Src/Eagle_TRT.c **** //TimerInstance = pointer to the timer needed to check the SCS error
1165:Src/Eagle_TRT.c **** //val0_100 = pointer to the first potentiometer
1166:Src/Eagle_TRT.c **** //val1_100 = pointer to the second potentiometer
1167:Src/Eagle_TRT.c **** int implausibility_check(pot_stc *pot_1, pot_stc *pot_2)
1168:Src/Eagle_TRT.c **** {
 2589              		.loc 1 1168 0
 2590              		.cfi_startproc
 2591              		@ args = 0, pretend = 0, frame = 0
 2592              		@ frame_needed = 0, uses_anonymous_args = 0
 2593              		@ link register save eliminated.
 2594              	.LVL242:
1169:Src/Eagle_TRT.c **** 
1170:Src/Eagle_TRT.c **** 	int SCS1 = 0;
1171:Src/Eagle_TRT.c **** 
1172:Src/Eagle_TRT.c **** 	if (pot_1->val_100 >= 100)
 2595              		.loc 1 1172 0
 2596 0000 0368     		ldr	r3, [r0]
 2597 0002 632B     		cmp	r3, #99
 2598 0004 01DD     		ble	.L202
1173:Src/Eagle_TRT.c **** 	{
1174:Src/Eagle_TRT.c **** 		pot_1->val_100 = 100;
ARM GAS  /tmp/ccqVNF68.s 			page 72


 2599              		.loc 1 1174 0
 2600 0006 6423     		movs	r3, #100
 2601 0008 0360     		str	r3, [r0]
 2602              	.L202:
1175:Src/Eagle_TRT.c **** 	}
1176:Src/Eagle_TRT.c **** 	if (pot_1->val_100 <= 5)
 2603              		.loc 1 1176 0
 2604 000a 0368     		ldr	r3, [r0]
 2605 000c 052B     		cmp	r3, #5
 2606 000e 01DC     		bgt	.L203
1177:Src/Eagle_TRT.c **** 	{
1178:Src/Eagle_TRT.c **** 		pot_1->val_100 = 0;
 2607              		.loc 1 1178 0
 2608 0010 0023     		movs	r3, #0
 2609 0012 0360     		str	r3, [r0]
 2610              	.L203:
1179:Src/Eagle_TRT.c **** 	}
1180:Src/Eagle_TRT.c **** 	if (pot_2->val_100 >= 100)
 2611              		.loc 1 1180 0
 2612 0014 0B68     		ldr	r3, [r1]
 2613 0016 632B     		cmp	r3, #99
 2614 0018 01DD     		ble	.L204
1181:Src/Eagle_TRT.c **** 	{
1182:Src/Eagle_TRT.c **** 		pot_2->val_100 = 100;
 2615              		.loc 1 1182 0
 2616 001a 6423     		movs	r3, #100
 2617 001c 0B60     		str	r3, [r1]
 2618              	.L204:
1183:Src/Eagle_TRT.c **** 	}
1184:Src/Eagle_TRT.c **** 	if (pot_2->val_100 <= 5)
 2619              		.loc 1 1184 0
 2620 001e 0B68     		ldr	r3, [r1]
 2621 0020 052B     		cmp	r3, #5
 2622 0022 01DC     		bgt	.L205
1185:Src/Eagle_TRT.c **** 	{
1186:Src/Eagle_TRT.c **** 		pot_2->val_100 = 0;
 2623              		.loc 1 1186 0
 2624 0024 0023     		movs	r3, #0
 2625 0026 0B60     		str	r3, [r1]
 2626              	.L205:
1187:Src/Eagle_TRT.c **** 	}
1188:Src/Eagle_TRT.c **** 	if (abs(pot_1->val_100 - pot_2->val_100) >= 10)
 2627              		.loc 1 1188 0
 2628 0028 0368     		ldr	r3, [r0]
 2629 002a 0A68     		ldr	r2, [r1]
 2630 002c 9B1A     		subs	r3, r3, r2
 2631 002e 002B     		cmp	r3, #0
 2632 0030 B8BF     		it	lt
 2633 0032 5B42     		rsblt	r3, r3, #0
 2634 0034 092B     		cmp	r3, #9
 2635 0036 06DD     		ble	.L206
1189:Src/Eagle_TRT.c **** 	{
1190:Src/Eagle_TRT.c **** 		if (__HAL_TIM_GET_COUNTER(pot_1->TimerInstance) > 100)
 2636              		.loc 1 1190 0
 2637 0038 4369     		ldr	r3, [r0, #20]
 2638 003a 1B68     		ldr	r3, [r3]
 2639 003c 5B6A     		ldr	r3, [r3, #36]
ARM GAS  /tmp/ccqVNF68.s 			page 73


 2640 003e 642B     		cmp	r3, #100
 2641 0040 06D8     		bhi	.L208
1170:Src/Eagle_TRT.c **** 
 2642              		.loc 1 1170 0
 2643 0042 0020     		movs	r0, #0
 2644              	.LVL243:
 2645 0044 7047     		bx	lr
 2646              	.LVL244:
 2647              	.L206:
1191:Src/Eagle_TRT.c **** 		{
1192:Src/Eagle_TRT.c **** 			SCS1 = 1;
1193:Src/Eagle_TRT.c **** 		}
1194:Src/Eagle_TRT.c **** 	}
1195:Src/Eagle_TRT.c **** 	else
1196:Src/Eagle_TRT.c **** 	{
1197:Src/Eagle_TRT.c **** 		__HAL_TIM_SET_COUNTER(pot_1->TimerInstance, 0);
 2648              		.loc 1 1197 0
 2649 0046 4369     		ldr	r3, [r0, #20]
 2650 0048 1B68     		ldr	r3, [r3]
 2651 004a 0020     		movs	r0, #0
 2652              	.LVL245:
 2653 004c 5862     		str	r0, [r3, #36]
 2654 004e 7047     		bx	lr
 2655              	.LVL246:
 2656              	.L208:
1192:Src/Eagle_TRT.c **** 		}
 2657              		.loc 1 1192 0
 2658 0050 0120     		movs	r0, #1
 2659              	.LVL247:
1198:Src/Eagle_TRT.c **** 		SCS1 = 0;
1199:Src/Eagle_TRT.c **** 	}
1200:Src/Eagle_TRT.c **** 
1201:Src/Eagle_TRT.c **** 	return SCS1;
1202:Src/Eagle_TRT.c **** }
 2660              		.loc 1 1202 0
 2661 0052 7047     		bx	lr
 2662              		.cfi_endproc
 2663              	.LFE158:
 2665              		.section	.text.set_max,"ax",%progbits
 2666              		.align	1
 2667              		.global	set_max
 2668              		.syntax unified
 2669              		.thumb
 2670              		.thumb_func
 2671              		.fpu fpv4-sp-d16
 2673              	set_max:
 2674              	.LFB159:
1203:Src/Eagle_TRT.c **** 
1204:Src/Eagle_TRT.c **** //function to set the value of the potentiometer when the pedal is released
1205:Src/Eagle_TRT.c **** //val = array pointer to the potentiometer values
1206:Src/Eagle_TRT.c **** //max1 = pointer to the maximum value of the APPS1
1207:Src/Eagle_TRT.c **** //max2 = pointer to the maximum value of the APPS2
1208:Src/Eagle_TRT.c **** void set_max(pot_stc *pot_1)
1209:Src/Eagle_TRT.c **** {
 2675              		.loc 1 1209 0
 2676              		.cfi_startproc
 2677              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccqVNF68.s 			page 74


 2678              		@ frame_needed = 0, uses_anonymous_args = 0
 2679              		@ link register save eliminated.
 2680              	.LVL248:
1210:Src/Eagle_TRT.c **** 	pot_1->max = pot_1->val;
 2681              		.loc 1 1210 0
 2682 0000 0369     		ldr	r3, [r0, #16]
 2683 0002 4360     		str	r3, [r0, #4]
 2684 0004 7047     		bx	lr
 2685              		.cfi_endproc
 2686              	.LFE159:
 2688              		.section	.text.set_min,"ax",%progbits
 2689              		.align	1
 2690              		.global	set_min
 2691              		.syntax unified
 2692              		.thumb
 2693              		.thumb_func
 2694              		.fpu fpv4-sp-d16
 2696              	set_min:
 2697              	.LFB160:
1211:Src/Eagle_TRT.c **** }
1212:Src/Eagle_TRT.c **** 
1213:Src/Eagle_TRT.c **** //function to set the value of the potentiometer when the pedal is pressed
1214:Src/Eagle_TRT.c **** //val = array pointer to the potentiometer values
1215:Src/Eagle_TRT.c **** //min1 = pointer to the minimum value of the APPS1
1216:Src/Eagle_TRT.c **** //min2 = pointer to the minimum value of the APPS2
1217:Src/Eagle_TRT.c **** void set_min(pot_stc *pot_1)
1218:Src/Eagle_TRT.c **** {
 2698              		.loc 1 1218 0
 2699              		.cfi_startproc
 2700              		@ args = 0, pretend = 0, frame = 0
 2701              		@ frame_needed = 0, uses_anonymous_args = 0
 2702              		@ link register save eliminated.
 2703              	.LVL249:
1219:Src/Eagle_TRT.c **** 	pot_1->min = pot_1->val;
 2704              		.loc 1 1219 0
 2705 0000 0369     		ldr	r3, [r0, #16]
 2706 0002 8360     		str	r3, [r0, #8]
 2707 0004 7047     		bx	lr
 2708              		.cfi_endproc
 2709              	.LFE160:
 2711              		.global	__aeabi_i2d
 2712              		.section	.text.Power,"ax",%progbits
 2713              		.align	1
 2714              		.global	Power
 2715              		.syntax unified
 2716              		.thumb
 2717              		.thumb_func
 2718              		.fpu fpv4-sp-d16
 2720              	Power:
 2721              	.LFB162:
1220:Src/Eagle_TRT.c **** }
1221:Src/Eagle_TRT.c **** 
1222:Src/Eagle_TRT.c **** #endif
1223:Src/Eagle_TRT.c **** 
1224:Src/Eagle_TRT.c **** //function to calculate the decimal value from MSB binary array
1225:Src/Eagle_TRT.c **** //bin = pointer to binary array
1226:Src/Eagle_TRT.c **** //max = size of the array
ARM GAS  /tmp/ccqVNF68.s 			page 75


1227:Src/Eagle_TRT.c **** int bin_dec(int *bin, int size)
1228:Src/Eagle_TRT.c **** {
1229:Src/Eagle_TRT.c **** 
1230:Src/Eagle_TRT.c **** 	int dec = 0;
1231:Src/Eagle_TRT.c **** 
1232:Src/Eagle_TRT.c **** 	for (int i = 0; i < size; i++)
1233:Src/Eagle_TRT.c **** 	{
1234:Src/Eagle_TRT.c **** 		if (bin[i] == 1)
1235:Src/Eagle_TRT.c **** 		{
1236:Src/Eagle_TRT.c **** 			dec += Power(2, size - i - 1);
1237:Src/Eagle_TRT.c **** 		}
1238:Src/Eagle_TRT.c **** 	}
1239:Src/Eagle_TRT.c **** 
1240:Src/Eagle_TRT.c **** 	return dec;
1241:Src/Eagle_TRT.c **** }
1242:Src/Eagle_TRT.c **** 
1243:Src/Eagle_TRT.c **** //function to calculate the power of a given number
1244:Src/Eagle_TRT.c **** double Power(int base, int expn)
1245:Src/Eagle_TRT.c **** {
 2722              		.loc 1 1245 0
 2723              		.cfi_startproc
 2724              		@ args = 0, pretend = 0, frame = 0
 2725              		@ frame_needed = 0, uses_anonymous_args = 0
 2726              	.LVL250:
 2727 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 2728              	.LCFI36:
 2729              		.cfi_def_cfa_offset 24
 2730              		.cfi_offset 4, -24
 2731              		.cfi_offset 5, -20
 2732              		.cfi_offset 6, -16
 2733              		.cfi_offset 7, -12
 2734              		.cfi_offset 8, -8
 2735              		.cfi_offset 14, -4
 2736              	.LVL251:
1246:Src/Eagle_TRT.c **** 
1247:Src/Eagle_TRT.c **** 	double result = 1;
1248:Src/Eagle_TRT.c **** 
1249:Src/Eagle_TRT.c **** 	if (expn != 0)
 2737              		.loc 1 1249 0
 2738 0004 29B1     		cbz	r1, .L217
 2739 0006 0D46     		mov	r5, r1
 2740 0008 8046     		mov	r8, r0
 2741 000a 0024     		movs	r4, #0
 2742 000c 0026     		movs	r6, #0
 2743 000e 0B4F     		ldr	r7, .L218
 2744 0010 0EE0     		b	.L212
 2745              	.L217:
1247:Src/Eagle_TRT.c **** 
 2746              		.loc 1 1247 0
 2747 0012 0026     		movs	r6, #0
 2748 0014 094F     		ldr	r7, .L218
 2749 0016 0DE0     		b	.L211
 2750              	.LVL252:
 2751              	.L214:
 2752              	.LBB12:
1250:Src/Eagle_TRT.c **** 	{
1251:Src/Eagle_TRT.c **** 		for (int j = 0; j < expn; j++)
ARM GAS  /tmp/ccqVNF68.s 			page 76


1252:Src/Eagle_TRT.c **** 		{
1253:Src/Eagle_TRT.c **** 			result = result * base;
 2753              		.loc 1 1253 0 discriminator 3
 2754 0018 4046     		mov	r0, r8
 2755 001a FFF7FEFF 		bl	__aeabi_i2d
 2756              	.LVL253:
 2757 001e 0246     		mov	r2, r0
 2758 0020 0B46     		mov	r3, r1
 2759 0022 3046     		mov	r0, r6
 2760 0024 3946     		mov	r1, r7
 2761 0026 FFF7FEFF 		bl	__aeabi_dmul
 2762              	.LVL254:
 2763 002a 0646     		mov	r6, r0
 2764              	.LVL255:
 2765 002c 0F46     		mov	r7, r1
 2766              	.LVL256:
1251:Src/Eagle_TRT.c **** 		{
 2767              		.loc 1 1251 0 discriminator 3
 2768 002e 0134     		adds	r4, r4, #1
 2769              	.LVL257:
 2770              	.L212:
1251:Src/Eagle_TRT.c **** 		{
 2771              		.loc 1 1251 0 is_stmt 0 discriminator 1
 2772 0030 AC42     		cmp	r4, r5
 2773 0032 F1DB     		blt	.L214
 2774              	.LVL258:
 2775              	.L211:
 2776              	.LBE12:
1254:Src/Eagle_TRT.c **** 		}
1255:Src/Eagle_TRT.c **** 	}
1256:Src/Eagle_TRT.c **** 
1257:Src/Eagle_TRT.c **** 	return result;
1258:Src/Eagle_TRT.c **** }
 2777              		.loc 1 1258 0 is_stmt 1
 2778 0034 47EC106B 		vmov	d0, r6, r7
 2779 0038 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 2780              	.L219:
 2781              		.align	2
 2782              	.L218:
 2783 003c 0000F03F 		.word	1072693248
 2784              		.cfi_endproc
 2785              	.LFE162:
 2787              		.global	__aeabi_dadd
 2788              		.section	.text.bin_dec,"ax",%progbits
 2789              		.align	1
 2790              		.global	bin_dec
 2791              		.syntax unified
 2792              		.thumb
 2793              		.thumb_func
 2794              		.fpu fpv4-sp-d16
 2796              	bin_dec:
 2797              	.LFB161:
1228:Src/Eagle_TRT.c **** 
 2798              		.loc 1 1228 0
 2799              		.cfi_startproc
 2800              		@ args = 0, pretend = 0, frame = 0
 2801              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccqVNF68.s 			page 77


 2802              	.LVL259:
 2803 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 2804              	.LCFI37:
 2805              		.cfi_def_cfa_offset 32
 2806              		.cfi_offset 3, -32
 2807              		.cfi_offset 4, -28
 2808              		.cfi_offset 5, -24
 2809              		.cfi_offset 6, -20
 2810              		.cfi_offset 7, -16
 2811              		.cfi_offset 8, -12
 2812              		.cfi_offset 9, -8
 2813              		.cfi_offset 14, -4
 2814 0004 0646     		mov	r6, r0
 2815 0006 0D46     		mov	r5, r1
 2816              	.LVL260:
 2817              	.LBB13:
1232:Src/Eagle_TRT.c **** 	{
 2818              		.loc 1 1232 0
 2819 0008 0024     		movs	r4, #0
 2820              	.LBE13:
1230:Src/Eagle_TRT.c **** 
 2821              		.loc 1 1230 0
 2822 000a 2746     		mov	r7, r4
 2823              	.LBB14:
1232:Src/Eagle_TRT.c **** 	{
 2824              		.loc 1 1232 0
 2825 000c 00E0     		b	.L221
 2826              	.LVL261:
 2827              	.L222:
1232:Src/Eagle_TRT.c **** 	{
 2828              		.loc 1 1232 0 is_stmt 0 discriminator 2
 2829 000e 0134     		adds	r4, r4, #1
 2830              	.LVL262:
 2831              	.L221:
1232:Src/Eagle_TRT.c **** 	{
 2832              		.loc 1 1232 0 discriminator 1
 2833 0010 AC42     		cmp	r4, r5
 2834 0012 15DA     		bge	.L225
1234:Src/Eagle_TRT.c **** 		{
 2835              		.loc 1 1234 0 is_stmt 1
 2836 0014 56F82430 		ldr	r3, [r6, r4, lsl #2]
 2837 0018 012B     		cmp	r3, #1
 2838 001a F8D1     		bne	.L222
1236:Src/Eagle_TRT.c **** 		}
 2839              		.loc 1 1236 0
 2840 001c 291B     		subs	r1, r5, r4
 2841 001e 0139     		subs	r1, r1, #1
 2842 0020 0220     		movs	r0, #2
 2843 0022 FFF7FEFF 		bl	Power
 2844              	.LVL263:
 2845 0026 59EC108B 		vmov	r8, r9, d0
 2846 002a 3846     		mov	r0, r7
 2847 002c FFF7FEFF 		bl	__aeabi_i2d
 2848              	.LVL264:
 2849 0030 4246     		mov	r2, r8
 2850 0032 4B46     		mov	r3, r9
 2851 0034 FFF7FEFF 		bl	__aeabi_dadd
ARM GAS  /tmp/ccqVNF68.s 			page 78


 2852              	.LVL265:
 2853 0038 FFF7FEFF 		bl	__aeabi_d2iz
 2854              	.LVL266:
 2855 003c 0746     		mov	r7, r0
 2856              	.LVL267:
 2857 003e E6E7     		b	.L222
 2858              	.LVL268:
 2859              	.L225:
 2860              	.LBE14:
1241:Src/Eagle_TRT.c **** 
 2861              		.loc 1 1241 0
 2862 0040 3846     		mov	r0, r7
 2863 0042 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2864              		.cfi_endproc
 2865              	.LFE161:
 2867              		.section	.text.read_encoder,"ax",%progbits
 2868              		.align	1
 2869              		.global	read_encoder
 2870              		.syntax unified
 2871              		.thumb
 2872              		.thumb_func
 2873              		.fpu fpv4-sp-d16
 2875              	read_encoder:
 2876              	.LFB152:
 908:Src/Eagle_TRT.c **** 
 2877              		.loc 1 908 0
 2878              		.cfi_startproc
 2879              		@ args = 0, pretend = 0, frame = 0
 2880              		@ frame_needed = 0, uses_anonymous_args = 0
 2881              	.LVL269:
 2882 0000 70B5     		push	{r4, r5, r6, lr}
 2883              	.LCFI38:
 2884              		.cfi_def_cfa_offset 16
 2885              		.cfi_offset 4, -16
 2886              		.cfi_offset 5, -12
 2887              		.cfi_offset 6, -8
 2888              		.cfi_offset 14, -4
 2889 0002 0446     		mov	r4, r0
 910:Src/Eagle_TRT.c **** 
 2890              		.loc 1 910 0
 2891 0004 0223     		movs	r3, #2
 2892 0006 0361     		str	r3, [r0, #16]
 912:Src/Eagle_TRT.c **** 	__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 2893              		.loc 1 912 0
 2894 0008 0022     		movs	r2, #0
 2895 000a 4021     		movs	r1, #64
 2896 000c 4848     		ldr	r0, .L236+8
 2897              	.LVL270:
 2898 000e FFF7FEFF 		bl	HAL_GPIO_WritePin
 2899              	.LVL271:
 913:Src/Eagle_TRT.c **** 	while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
 2900              		.loc 1 913 0
 2901 0012 D4F8E833 		ldr	r3, [r4, #1000]
 2902 0016 1B68     		ldr	r3, [r3]
 2903 0018 0022     		movs	r2, #0
 2904 001a 5A62     		str	r2, [r3, #36]
 2905              	.L227:
ARM GAS  /tmp/ccqVNF68.s 			page 79


 914:Src/Eagle_TRT.c **** 	{
 2906              		.loc 1 914 0 discriminator 1
 2907 001c D4F8E833 		ldr	r3, [r4, #1000]
 2908 0020 1B68     		ldr	r3, [r3]
 2909 0022 5A6A     		ldr	r2, [r3, #36]
 2910 0024 2369     		ldr	r3, [r4, #16]
 2911 0026 9A42     		cmp	r2, r3
 2912 0028 F8D9     		bls	.L227
 919:Src/Eagle_TRT.c **** 	__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 2913              		.loc 1 919 0
 2914 002a 0122     		movs	r2, #1
 2915 002c 4021     		movs	r1, #64
 2916 002e 4048     		ldr	r0, .L236+8
 2917 0030 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2918              	.LVL272:
 920:Src/Eagle_TRT.c **** 	while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
 2919              		.loc 1 920 0
 2920 0034 D4F8E833 		ldr	r3, [r4, #1000]
 2921 0038 1B68     		ldr	r3, [r3]
 2922 003a 0022     		movs	r2, #0
 2923 003c 5A62     		str	r2, [r3, #36]
 2924              	.L228:
 921:Src/Eagle_TRT.c **** 	{
 2925              		.loc 1 921 0 discriminator 1
 2926 003e D4F8E833 		ldr	r3, [r4, #1000]
 2927 0042 1B68     		ldr	r3, [r3]
 2928 0044 5A6A     		ldr	r2, [r3, #36]
 2929 0046 2369     		ldr	r3, [r4, #16]
 2930 0048 9A42     		cmp	r2, r3
 2931 004a F8D9     		bls	.L228
 925:Src/Eagle_TRT.c **** 	__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 2932              		.loc 1 925 0
 2933 004c 0022     		movs	r2, #0
 2934 004e 4021     		movs	r1, #64
 2935 0050 3748     		ldr	r0, .L236+8
 2936 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2937              	.LVL273:
 926:Src/Eagle_TRT.c **** 	while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
 2938              		.loc 1 926 0
 2939 0056 D4F8E833 		ldr	r3, [r4, #1000]
 2940 005a 1B68     		ldr	r3, [r3]
 2941 005c 0022     		movs	r2, #0
 2942 005e 5A62     		str	r2, [r3, #36]
 2943              	.L229:
 927:Src/Eagle_TRT.c **** 	{
 2944              		.loc 1 927 0 discriminator 1
 2945 0060 D4F8E833 		ldr	r3, [r4, #1000]
 2946 0064 1B68     		ldr	r3, [r3]
 2947 0066 5A6A     		ldr	r2, [r3, #36]
 2948 0068 2369     		ldr	r3, [r4, #16]
 2949 006a 9A42     		cmp	r2, r3
 2950 006c F8D9     		bls	.L229
 2951 006e 0025     		movs	r5, #0
 2952 0070 2CE0     		b	.L230
 2953              	.LVL274:
 2954              	.L233:
 2955              	.LBB15:
ARM GAS  /tmp/ccqVNF68.s 			page 80


 936:Src/Eagle_TRT.c **** 		__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 2956              		.loc 1 936 0
 2957 0072 0122     		movs	r2, #1
 2958 0074 4021     		movs	r1, #64
 2959 0076 2E48     		ldr	r0, .L236+8
 2960 0078 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2961              	.LVL275:
 937:Src/Eagle_TRT.c **** 		while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
 2962              		.loc 1 937 0
 2963 007c D4F8E833 		ldr	r3, [r4, #1000]
 2964 0080 1B68     		ldr	r3, [r3]
 2965 0082 0022     		movs	r2, #0
 2966 0084 5A62     		str	r2, [r3, #36]
 2967              	.L231:
 938:Src/Eagle_TRT.c **** 		{
 2968              		.loc 1 938 0 discriminator 1
 2969 0086 D4F8E833 		ldr	r3, [r4, #1000]
 2970 008a 1B68     		ldr	r3, [r3]
 2971 008c 5A6A     		ldr	r2, [r3, #36]
 2972 008e 2369     		ldr	r3, [r4, #16]
 2973 0090 9A42     		cmp	r2, r3
 2974 0092 F8D9     		bls	.L231
 943:Src/Eagle_TRT.c **** 
 2975              		.loc 1 943 0
 2976 0094 264E     		ldr	r6, .L236+8
 2977 0096 4FF48071 		mov	r1, #256
 2978 009a 3046     		mov	r0, r6
 2979 009c FFF7FEFF 		bl	HAL_GPIO_ReadPin
 2980              	.LVL276:
 2981 00a0 2B1D     		adds	r3, r5, #4
 2982 00a2 04EB8303 		add	r3, r4, r3, lsl #2
 2983 00a6 5860     		str	r0, [r3, #4]
 946:Src/Eagle_TRT.c **** 		__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 2984              		.loc 1 946 0
 2985 00a8 0022     		movs	r2, #0
 2986 00aa 4021     		movs	r1, #64
 2987 00ac 3046     		mov	r0, r6
 2988 00ae FFF7FEFF 		bl	HAL_GPIO_WritePin
 2989              	.LVL277:
 947:Src/Eagle_TRT.c **** 		while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period)
 2990              		.loc 1 947 0
 2991 00b2 D4F8E833 		ldr	r3, [r4, #1000]
 2992 00b6 1B68     		ldr	r3, [r3]
 2993 00b8 0022     		movs	r2, #0
 2994 00ba 5A62     		str	r2, [r3, #36]
 2995              	.L232:
 948:Src/Eagle_TRT.c **** 		{
 2996              		.loc 1 948 0 discriminator 1
 2997 00bc D4F8E833 		ldr	r3, [r4, #1000]
 2998 00c0 1B68     		ldr	r3, [r3]
 2999 00c2 5A6A     		ldr	r2, [r3, #36]
 3000 00c4 2369     		ldr	r3, [r4, #16]
 3001 00c6 9A42     		cmp	r2, r3
 3002 00c8 F8D9     		bls	.L232
 932:Src/Eagle_TRT.c **** 	{
 3003              		.loc 1 932 0 discriminator 2
 3004 00ca 0135     		adds	r5, r5, #1
ARM GAS  /tmp/ccqVNF68.s 			page 81


 3005              	.LVL278:
 3006              	.L230:
 932:Src/Eagle_TRT.c **** 	{
 3007              		.loc 1 932 0 is_stmt 0 discriminator 1
 3008 00cc 6368     		ldr	r3, [r4, #4]
 3009 00ce 9D42     		cmp	r5, r3
 3010 00d0 CFDB     		blt	.L233
 3011              	.LBE15:
 954:Src/Eagle_TRT.c **** 	__HAL_TIM_SET_COUNTER(enc->TimerInstance, 0);
 3012              		.loc 1 954 0 is_stmt 1
 3013 00d2 0122     		movs	r2, #1
 3014 00d4 4021     		movs	r1, #64
 3015 00d6 1648     		ldr	r0, .L236+8
 3016 00d8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 3017              	.LVL279:
 955:Src/Eagle_TRT.c **** 	while (__HAL_TIM_GET_COUNTER(enc->TimerInstance) <= enc->clock_period * 2)
 3018              		.loc 1 955 0
 3019 00dc D4F8E833 		ldr	r3, [r4, #1000]
 3020 00e0 1B68     		ldr	r3, [r3]
 3021 00e2 0022     		movs	r2, #0
 3022 00e4 5A62     		str	r2, [r3, #36]
 3023              	.L234:
 956:Src/Eagle_TRT.c **** 	{
 3024              		.loc 1 956 0 discriminator 1
 3025 00e6 D4F8E833 		ldr	r3, [r4, #1000]
 3026 00ea 1B68     		ldr	r3, [r3]
 3027 00ec 5B6A     		ldr	r3, [r3, #36]
 3028 00ee 2269     		ldr	r2, [r4, #16]
 3029 00f0 B3EB420F 		cmp	r3, r2, lsl #1
 3030 00f4 F7D9     		bls	.L234
 960:Src/Eagle_TRT.c **** 
 3031              		.loc 1 960 0
 3032 00f6 4FF48071 		mov	r1, #256
 3033 00fa 0D48     		ldr	r0, .L236+8
 3034 00fc FFF7FEFF 		bl	HAL_GPIO_ReadPin
 3035              	.LVL280:
 3036 0100 A060     		str	r0, [r4, #8]
 963:Src/Eagle_TRT.c **** 	enc->converted_data = enc->converted_data / 45.5055;
 3037              		.loc 1 963 0
 3038 0102 6168     		ldr	r1, [r4, #4]
 3039 0104 0139     		subs	r1, r1, #1
 3040 0106 04F11400 		add	r0, r4, #20
 3041 010a FFF7FEFF 		bl	bin_dec
 3042              	.LVL281:
 3043 010e FFF7FEFF 		bl	__aeabi_i2d
 3044              	.LVL282:
 964:Src/Eagle_TRT.c **** 
 3045              		.loc 1 964 0
 3046 0112 05A3     		adr	r3, .L236
 3047 0114 D3E90023 		ldrd	r2, [r3]
 3048 0118 FFF7FEFF 		bl	__aeabi_ddiv
 3049              	.LVL283:
 3050 011c C4E9F801 		strd	r0, [r4, #992]
 967:Src/Eagle_TRT.c **** 
 3051              		.loc 1 967 0
 3052 0120 41EC100B 		vmov	d0, r0, r1
 3053 0124 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccqVNF68.s 			page 82


 3054              	.LVL284:
 3055              	.L237:
 3056 0126 00BF     		.align	3
 3057              	.L236:
 3058 0128 62105839 		.word	962072674
 3059 012c B4C04640 		.word	1078378676
 3060 0130 00080240 		.word	1073874944
 3061              		.cfi_endproc
 3062              	.LFE152:
 3064              		.section	.text.shift_array,"ax",%progbits
 3065              		.align	1
 3066              		.global	shift_array
 3067              		.syntax unified
 3068              		.thumb
 3069              		.thumb_func
 3070              		.fpu fpv4-sp-d16
 3072              	shift_array:
 3073              	.LFB163:
1259:Src/Eagle_TRT.c **** 
1260:Src/Eagle_TRT.c **** //shift all the data of a numeric array and add another one value
1261:Src/Eagle_TRT.c **** //array = array to be shifted
1262:Src/Eagle_TRT.c **** //size = size of the array
1263:Src/Eagle_TRT.c **** //data = value to be added in the last position of the array
1264:Src/Eagle_TRT.c **** void shift_array(long double *array, int size, long double data)
1265:Src/Eagle_TRT.c **** {
 3074              		.loc 1 1265 0
 3075              		.cfi_startproc
 3076              		@ args = 0, pretend = 0, frame = 0
 3077              		@ frame_needed = 0, uses_anonymous_args = 0
 3078              		@ link register save eliminated.
 3079              	.LVL285:
 3080              	.LBB16:
1266:Src/Eagle_TRT.c **** 
1267:Src/Eagle_TRT.c **** 	for (int i = 1; i < size; i++)
 3081              		.loc 1 1267 0
 3082 0000 0122     		movs	r2, #1
 3083              	.LVL286:
 3084 0002 8A42     		cmp	r2, r1
 3085 0004 17DA     		bge	.L245
 3086              	.LBE16:
1265:Src/Eagle_TRT.c **** 
 3087              		.loc 1 1265 0
 3088 0006 30B4     		push	{r4, r5}
 3089              	.LCFI39:
 3090              		.cfi_def_cfa_offset 8
 3091              		.cfi_offset 4, -8
 3092              		.cfi_offset 5, -4
 3093              	.L240:
 3094              	.LBB17:
1268:Src/Eagle_TRT.c **** 	{
1269:Src/Eagle_TRT.c **** 		array[i - 1] = array[i];
 3095              		.loc 1 1269 0 discriminator 3
 3096 0008 02F10053 		add	r3, r2, #536870912
 3097 000c 013B     		subs	r3, r3, #1
 3098 000e 00EBC303 		add	r3, r0, r3, lsl #3
 3099 0012 00EBC204 		add	r4, r0, r2, lsl #3
 3100 0016 D4E90045 		ldrd	r4, [r4]
ARM GAS  /tmp/ccqVNF68.s 			page 83


 3101 001a C3E90045 		strd	r4, [r3]
1267:Src/Eagle_TRT.c **** 	{
 3102              		.loc 1 1267 0 discriminator 3
 3103 001e 0132     		adds	r2, r2, #1
 3104              	.LVL287:
 3105 0020 8A42     		cmp	r2, r1
 3106 0022 F1DB     		blt	.L240
 3107              	.LBE17:
1270:Src/Eagle_TRT.c **** 	}
1271:Src/Eagle_TRT.c **** 	array[size - 1] = data;
 3108              		.loc 1 1271 0
 3109 0024 01F10051 		add	r1, r1, #536870912
 3110              	.LVL288:
 3111 0028 0139     		subs	r1, r1, #1
 3112              	.LVL289:
 3113 002a 00EBC100 		add	r0, r0, r1, lsl #3
 3114              	.LVL290:
 3115 002e 80ED000B 		vstr.64	d0, [r0]
1272:Src/Eagle_TRT.c **** }
 3116              		.loc 1 1272 0
 3117 0032 30BC     		pop	{r4, r5}
 3118              	.LCFI40:
 3119              		.cfi_restore 5
 3120              		.cfi_restore 4
 3121              		.cfi_def_cfa_offset 0
 3122 0034 7047     		bx	lr
 3123              	.LVL291:
 3124              	.L245:
1271:Src/Eagle_TRT.c **** }
 3125              		.loc 1 1271 0
 3126 0036 01F10051 		add	r1, r1, #536870912
 3127              	.LVL292:
 3128 003a 0139     		subs	r1, r1, #1
 3129              	.LVL293:
 3130 003c 00EBC100 		add	r0, r0, r1, lsl #3
 3131              	.LVL294:
 3132 0040 80ED000B 		vstr.64	d0, [r0]
 3133 0044 7047     		bx	lr
 3134              		.cfi_endproc
 3135              	.LFE163:
 3137              		.section	.text.speed_filter,"ax",%progbits
 3138              		.align	1
 3139              		.global	speed_filter
 3140              		.syntax unified
 3141              		.thumb
 3142              		.thumb_func
 3143              		.fpu fpv4-sp-d16
 3145              	speed_filter:
 3146              	.LFB164:
1273:Src/Eagle_TRT.c **** 
1274:Src/Eagle_TRT.c **** double speed_filter(double *data, int size)
1275:Src/Eagle_TRT.c **** {
 3147              		.loc 1 1275 0
 3148              		.cfi_startproc
 3149              		@ args = 0, pretend = 0, frame = 16
 3150              		@ frame_needed = 0, uses_anonymous_args = 0
 3151              	.LVL295:
ARM GAS  /tmp/ccqVNF68.s 			page 84


 3152 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3153              	.LCFI41:
 3154              		.cfi_def_cfa_offset 36
 3155              		.cfi_offset 4, -36
 3156              		.cfi_offset 5, -32
 3157              		.cfi_offset 6, -28
 3158              		.cfi_offset 7, -24
 3159              		.cfi_offset 8, -20
 3160              		.cfi_offset 9, -16
 3161              		.cfi_offset 10, -12
 3162              		.cfi_offset 11, -8
 3163              		.cfi_offset 14, -4
 3164 0004 85B0     		sub	sp, sp, #20
 3165              	.LCFI42:
 3166              		.cfi_def_cfa_offset 56
 3167 0006 8246     		mov	r10, r0
 3168 0008 0D46     		mov	r5, r1
 3169              	.LVL296:
 3170              	.LBB18:
1276:Src/Eagle_TRT.c **** 	double min = 100000000000000;
1277:Src/Eagle_TRT.c **** 	double max = -min;
1278:Src/Eagle_TRT.c **** 	double sum = 0;
1279:Src/Eagle_TRT.c **** 	double average = 0;
1280:Src/Eagle_TRT.c **** 	int index_1;
1281:Src/Eagle_TRT.c **** 	int index_2;
1282:Src/Eagle_TRT.c **** 	int average_members = 0;
1283:Src/Eagle_TRT.c **** 
1284:Src/Eagle_TRT.c **** 	for (int i = 0; i < size; i++)
 3171              		.loc 1 1284 0
 3172 000a 0024     		movs	r4, #0
 3173              	.LBE18:
1277:Src/Eagle_TRT.c **** 	double sum = 0;
 3174              		.loc 1 1277 0
 3175 000c 0FF2A009 		adr	r9, .L260+8
 3176 0010 D9E90089 		ldrd	r8, [r9]
1276:Src/Eagle_TRT.c **** 	double min = 100000000000000;
 3177              		.loc 1 1276 0
 3178 0014 9FED247B 		vldr.64	d7, .L260
 3179 0018 8DED007B 		vstr.64	d7, [sp]
 3180              	.LBB19:
 3181              		.loc 1 1284 0
 3182 001c 00E0     		b	.L247
 3183              	.LVL297:
 3184              	.L249:
 3185              		.loc 1 1284 0 is_stmt 0 discriminator 2
 3186 001e 0134     		adds	r4, r4, #1
 3187              	.LVL298:
 3188              	.L247:
 3189              		.loc 1 1284 0 discriminator 1
 3190 0020 AC42     		cmp	r4, r5
 3191 0022 19DA     		bge	.L258
1285:Src/Eagle_TRT.c **** 	{
1286:Src/Eagle_TRT.c **** 		if (data[i] < min)
 3192              		.loc 1 1286 0 is_stmt 1
 3193 0024 0AEBC403 		add	r3, r10, r4, lsl #3
 3194 0028 D3E90067 		ldrd	r6, [r3]
 3195 002c 3246     		mov	r2, r6
ARM GAS  /tmp/ccqVNF68.s 			page 85


 3196 002e 3B46     		mov	r3, r7
 3197 0030 DDE90001 		ldrd	r0, [sp]
 3198 0034 FFF7FEFF 		bl	__aeabi_dcmpgt
 3199              	.LVL299:
 3200 0038 10B1     		cbz	r0, .L248
1287:Src/Eagle_TRT.c **** 		{
1288:Src/Eagle_TRT.c **** 			min = data[i];
1289:Src/Eagle_TRT.c **** 			index_1 = i;
 3201              		.loc 1 1289 0
 3202 003a A346     		mov	fp, r4
 3203              	.LVL300:
1288:Src/Eagle_TRT.c **** 			index_1 = i;
 3204              		.loc 1 1288 0
 3205 003c CDE90067 		strd	r6, [sp]
 3206              	.LVL301:
 3207              	.L248:
1290:Src/Eagle_TRT.c **** 		}
1291:Src/Eagle_TRT.c **** 
1292:Src/Eagle_TRT.c **** 		if (data[i] > max)
 3208              		.loc 1 1292 0
 3209 0040 3246     		mov	r2, r6
 3210 0042 3B46     		mov	r3, r7
 3211 0044 4046     		mov	r0, r8
 3212 0046 4946     		mov	r1, r9
 3213 0048 FFF7FEFF 		bl	__aeabi_dcmplt
 3214              	.LVL302:
 3215 004c 0028     		cmp	r0, #0
 3216 004e E6D0     		beq	.L249
1293:Src/Eagle_TRT.c **** 		{
1294:Src/Eagle_TRT.c **** 			max = data[i];
1295:Src/Eagle_TRT.c **** 			index_2 = i;
 3217              		.loc 1 1295 0
 3218 0050 0394     		str	r4, [sp, #12]
 3219              	.LVL303:
1294:Src/Eagle_TRT.c **** 			index_2 = i;
 3220              		.loc 1 1294 0
 3221 0052 B046     		mov	r8, r6
 3222              	.LVL304:
 3223 0054 B946     		mov	r9, r7
 3224 0056 E2E7     		b	.L249
 3225              	.LVL305:
 3226              	.L258:
 3227 0058 0024     		movs	r4, #0
 3228              	.LVL306:
 3229 005a A046     		mov	r8, r4
 3230              	.LVL307:
 3231 005c 0026     		movs	r6, #0
 3232 005e 0027     		movs	r7, #0
 3233 0060 0CE0     		b	.L251
 3234              	.LVL308:
 3235              	.L252:
 3236              	.LBE19:
 3237              	.LBB20:
1296:Src/Eagle_TRT.c **** 		}
1297:Src/Eagle_TRT.c **** 	}
1298:Src/Eagle_TRT.c **** 
1299:Src/Eagle_TRT.c **** 	for (int i = 0; i < size; i++)
ARM GAS  /tmp/ccqVNF68.s 			page 86


1300:Src/Eagle_TRT.c **** 	{
1301:Src/Eagle_TRT.c **** 		if (i != index_1 || i != index_2)
1302:Src/Eagle_TRT.c **** 		{
1303:Src/Eagle_TRT.c **** 			sum += data[i];
 3238              		.loc 1 1303 0
 3239 0062 0AEBC403 		add	r3, r10, r4, lsl #3
 3240 0066 D3E90023 		ldrd	r2, [r3]
 3241 006a 3046     		mov	r0, r6
 3242 006c 3946     		mov	r1, r7
 3243 006e FFF7FEFF 		bl	__aeabi_dadd
 3244              	.LVL309:
 3245 0072 0646     		mov	r6, r0
 3246              	.LVL310:
 3247 0074 0F46     		mov	r7, r1
 3248              	.LVL311:
1304:Src/Eagle_TRT.c **** 			average_members++;
 3249              		.loc 1 1304 0
 3250 0076 08F10108 		add	r8, r8, #1
 3251              	.LVL312:
 3252              	.L253:
1299:Src/Eagle_TRT.c **** 	{
 3253              		.loc 1 1299 0 discriminator 2
 3254 007a 0134     		adds	r4, r4, #1
 3255              	.LVL313:
 3256              	.L251:
1299:Src/Eagle_TRT.c **** 	{
 3257              		.loc 1 1299 0 is_stmt 0 discriminator 1
 3258 007c AC42     		cmp	r4, r5
 3259 007e 05DA     		bge	.L259
1301:Src/Eagle_TRT.c **** 		{
 3260              		.loc 1 1301 0 is_stmt 1
 3261 0080 A345     		cmp	fp, r4
 3262 0082 EED1     		bne	.L252
1301:Src/Eagle_TRT.c **** 		{
 3263              		.loc 1 1301 0 is_stmt 0 discriminator 1
 3264 0084 039B     		ldr	r3, [sp, #12]
 3265 0086 A342     		cmp	r3, r4
 3266 0088 EBD1     		bne	.L252
 3267 008a F6E7     		b	.L253
 3268              	.L259:
 3269              	.LBE20:
1305:Src/Eagle_TRT.c **** 		}
1306:Src/Eagle_TRT.c **** 	}
1307:Src/Eagle_TRT.c **** 	average = sum / average_members;
 3270              		.loc 1 1307 0 is_stmt 1
 3271 008c 4046     		mov	r0, r8
 3272 008e FFF7FEFF 		bl	__aeabi_i2d
 3273              	.LVL314:
 3274 0092 0246     		mov	r2, r0
 3275 0094 0B46     		mov	r3, r1
 3276 0096 3046     		mov	r0, r6
 3277 0098 3946     		mov	r1, r7
 3278 009a FFF7FEFF 		bl	__aeabi_ddiv
 3279              	.LVL315:
1308:Src/Eagle_TRT.c **** 
1309:Src/Eagle_TRT.c **** 	return average;
1310:Src/Eagle_TRT.c **** }
ARM GAS  /tmp/ccqVNF68.s 			page 87


 3280              		.loc 1 1310 0
 3281 009e 41EC100B 		vmov	d0, r0, r1
 3282 00a2 05B0     		add	sp, sp, #20
 3283              	.LCFI43:
 3284              		.cfi_def_cfa_offset 36
 3285              	.LVL316:
 3286              		@ sp needed
 3287 00a4 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3288              	.LVL317:
 3289              	.L261:
 3290              		.align	3
 3291              	.L260:
 3292 00a8 0000901E 		.word	512753664
 3293 00ac C4BCD642 		.word	1121369284
 3294 00b0 0000901E 		.word	512753664
 3295 00b4 C4BCD6C2 		.word	-1026114364
 3296              		.cfi_endproc
 3297              	.LFE164:
 3299              		.section	.text.dynamic_average,"ax",%progbits
 3300              		.align	1
 3301              		.global	dynamic_average
 3302              		.syntax unified
 3303              		.thumb
 3304              		.thumb_func
 3305              		.fpu fpv4-sp-d16
 3307              	dynamic_average:
 3308              	.LFB165:
1311:Src/Eagle_TRT.c **** 
1312:Src/Eagle_TRT.c **** //function that calculate the average of all the numbers in one array
1313:Src/Eagle_TRT.c **** double dynamic_average(long double *array, int size)
1314:Src/Eagle_TRT.c **** {
 3309              		.loc 1 1314 0
 3310              		.cfi_startproc
 3311              		@ args = 0, pretend = 0, frame = 0
 3312              		@ frame_needed = 0, uses_anonymous_args = 0
 3313              	.LVL318:
 3314 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3315              	.LCFI44:
 3316              		.cfi_def_cfa_offset 24
 3317              		.cfi_offset 4, -24
 3318              		.cfi_offset 5, -20
 3319              		.cfi_offset 6, -16
 3320              		.cfi_offset 7, -12
 3321              		.cfi_offset 8, -8
 3322              		.cfi_offset 14, -4
 3323 0004 8046     		mov	r8, r0
 3324 0006 0D46     		mov	r5, r1
 3325              	.LVL319:
 3326              	.LBB21:
1315:Src/Eagle_TRT.c **** 
1316:Src/Eagle_TRT.c **** 	double sum = 0;
1317:Src/Eagle_TRT.c **** 	double average = 0;
1318:Src/Eagle_TRT.c **** 
1319:Src/Eagle_TRT.c **** 	for (int i = 0; i < size; i++)
 3327              		.loc 1 1319 0
 3328 0008 0024     		movs	r4, #0
 3329              	.LBE21:
ARM GAS  /tmp/ccqVNF68.s 			page 88


1316:Src/Eagle_TRT.c **** 	double average = 0;
 3330              		.loc 1 1316 0
 3331 000a 0026     		movs	r6, #0
 3332 000c 0027     		movs	r7, #0
 3333              	.LBB22:
 3334              		.loc 1 1319 0
 3335 000e 0AE0     		b	.L263
 3336              	.LVL320:
 3337              	.L264:
1320:Src/Eagle_TRT.c **** 	{
1321:Src/Eagle_TRT.c **** 		sum += array[i];
 3338              		.loc 1 1321 0 discriminator 3
 3339 0010 08EBC403 		add	r3, r8, r4, lsl #3
 3340 0014 D3E90023 		ldrd	r2, [r3]
 3341 0018 3046     		mov	r0, r6
 3342 001a 3946     		mov	r1, r7
 3343 001c FFF7FEFF 		bl	__aeabi_dadd
 3344              	.LVL321:
 3345 0020 0646     		mov	r6, r0
 3346              	.LVL322:
 3347 0022 0F46     		mov	r7, r1
 3348              	.LVL323:
1319:Src/Eagle_TRT.c **** 	{
 3349              		.loc 1 1319 0 discriminator 3
 3350 0024 0134     		adds	r4, r4, #1
 3351              	.LVL324:
 3352              	.L263:
1319:Src/Eagle_TRT.c **** 	{
 3353              		.loc 1 1319 0 is_stmt 0 discriminator 1
 3354 0026 AC42     		cmp	r4, r5
 3355 0028 F2DB     		blt	.L264
 3356              	.LBE22:
1322:Src/Eagle_TRT.c **** 	}
1323:Src/Eagle_TRT.c **** 	average = sum / size;
 3357              		.loc 1 1323 0 is_stmt 1
 3358 002a 2846     		mov	r0, r5
 3359 002c FFF7FEFF 		bl	__aeabi_i2d
 3360              	.LVL325:
 3361 0030 0246     		mov	r2, r0
 3362 0032 0B46     		mov	r3, r1
 3363 0034 3046     		mov	r0, r6
 3364 0036 3946     		mov	r1, r7
 3365 0038 FFF7FEFF 		bl	__aeabi_ddiv
 3366              	.LVL326:
1324:Src/Eagle_TRT.c **** 
1325:Src/Eagle_TRT.c **** 	return average;
1326:Src/Eagle_TRT.c **** }
 3367              		.loc 1 1326 0
 3368 003c 41EC100B 		vmov	d0, r0, r1
 3369 0040 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3370              		.cfi_endproc
 3371              	.LFE165:
 3373              		.global	__aeabi_dsub
 3374              		.section	.text.imu_elaborate_data,"ax",%progbits
 3375              		.align	1
 3376              		.global	imu_elaborate_data
 3377              		.syntax unified
ARM GAS  /tmp/ccqVNF68.s 			page 89


 3378              		.thumb
 3379              		.thumb_func
 3380              		.fpu fpv4-sp-d16
 3382              	imu_elaborate_data:
 3383              	.LFB137:
 371:Src/Eagle_TRT.c **** 	if (imu->x > 32768)
 3384              		.loc 1 371 0
 3385              		.cfi_startproc
 3386              		@ args = 0, pretend = 0, frame = 0
 3387              		@ frame_needed = 0, uses_anonymous_args = 0
 3388              	.LVL327:
 3389 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3390              	.LCFI45:
 3391              		.cfi_def_cfa_offset 40
 3392              		.cfi_offset 3, -40
 3393              		.cfi_offset 4, -36
 3394              		.cfi_offset 5, -32
 3395              		.cfi_offset 6, -28
 3396              		.cfi_offset 7, -24
 3397              		.cfi_offset 8, -20
 3398              		.cfi_offset 9, -16
 3399              		.cfi_offset 10, -12
 3400              		.cfi_offset 11, -8
 3401              		.cfi_offset 14, -4
 3402 0004 0446     		mov	r4, r0
 372:Src/Eagle_TRT.c **** 	{
 3403              		.loc 1 372 0
 3404 0006 D0E90067 		ldrd	r6, [r0]
 3405 000a 0022     		movs	r2, #0
 3406 000c 504B     		ldr	r3, .L279
 3407 000e 3046     		mov	r0, r6
 3408              	.LVL328:
 3409 0010 3946     		mov	r1, r7
 3410 0012 FFF7FEFF 		bl	__aeabi_dcmpgt
 3411              	.LVL329:
 3412 0016 38B1     		cbz	r0, .L267
 374:Src/Eagle_TRT.c **** 	}
 3413              		.loc 1 374 0
 3414 0018 0022     		movs	r2, #0
 3415 001a 4E4B     		ldr	r3, .L279+4
 3416 001c 3046     		mov	r0, r6
 3417 001e 3946     		mov	r1, r7
 3418 0020 FFF7FEFF 		bl	__aeabi_dsub
 3419              	.LVL330:
 3420 0024 C4E90001 		strd	r0, [r4]
 3421              	.L267:
 376:Src/Eagle_TRT.c **** 	{
 3422              		.loc 1 376 0
 3423 0028 D4E90267 		ldrd	r6, [r4, #8]
 3424 002c 0022     		movs	r2, #0
 3425 002e 484B     		ldr	r3, .L279
 3426 0030 3046     		mov	r0, r6
 3427 0032 3946     		mov	r1, r7
 3428 0034 FFF7FEFF 		bl	__aeabi_dcmpgt
 3429              	.LVL331:
 3430 0038 38B1     		cbz	r0, .L269
 378:Src/Eagle_TRT.c **** 	}
ARM GAS  /tmp/ccqVNF68.s 			page 90


 3431              		.loc 1 378 0
 3432 003a 0022     		movs	r2, #0
 3433 003c 454B     		ldr	r3, .L279+4
 3434 003e 3046     		mov	r0, r6
 3435 0040 3946     		mov	r1, r7
 3436 0042 FFF7FEFF 		bl	__aeabi_dsub
 3437              	.LVL332:
 3438 0046 C4E90201 		strd	r0, [r4, #8]
 3439              	.L269:
 380:Src/Eagle_TRT.c **** 	{
 3440              		.loc 1 380 0
 3441 004a D4E90467 		ldrd	r6, [r4, #16]
 3442 004e 0022     		movs	r2, #0
 3443 0050 3F4B     		ldr	r3, .L279
 3444 0052 3046     		mov	r0, r6
 3445 0054 3946     		mov	r1, r7
 3446 0056 FFF7FEFF 		bl	__aeabi_dcmpgt
 3447              	.LVL333:
 3448 005a 38B1     		cbz	r0, .L271
 382:Src/Eagle_TRT.c **** 	}
 3449              		.loc 1 382 0
 3450 005c 0022     		movs	r2, #0
 3451 005e 3D4B     		ldr	r3, .L279+4
 3452 0060 3046     		mov	r0, r6
 3453 0062 3946     		mov	r1, r7
 3454 0064 FFF7FEFF 		bl	__aeabi_dsub
 3455              	.LVL334:
 3456 0068 C4E90401 		strd	r0, [r4, #16]
 3457              	.L271:
 385:Src/Eagle_TRT.c **** 	imu->y = imu->y * (imu->scale / 32768);
 3458              		.loc 1 385 0
 3459 006c D4E90089 		ldrd	r8, [r4]
 3460 0070 D4F81802 		ldr	r0, [r4, #536]
 3461 0074 0028     		cmp	r0, #0
 3462 0076 66DB     		blt	.L278
 3463              	.L273:
 3464 0078 C013     		asrs	r0, r0, #15
 3465 007a FFF7FEFF 		bl	__aeabi_i2d
 3466              	.LVL335:
 3467 007e 0646     		mov	r6, r0
 3468 0080 0F46     		mov	r7, r1
 3469 0082 0246     		mov	r2, r0
 3470 0084 0B46     		mov	r3, r1
 3471 0086 4046     		mov	r0, r8
 3472 0088 4946     		mov	r1, r9
 3473 008a FFF7FEFF 		bl	__aeabi_dmul
 3474              	.LVL336:
 3475 008e 8046     		mov	r8, r0
 3476 0090 8946     		mov	r9, r1
 3477 0092 C4E90089 		strd	r8, [r4]
 386:Src/Eagle_TRT.c **** 	imu->z = imu->z * (imu->scale / 32768);
 3478              		.loc 1 386 0
 3479 0096 D4E90223 		ldrd	r2, [r4, #8]
 3480 009a 3046     		mov	r0, r6
 3481 009c 3946     		mov	r1, r7
 3482 009e FFF7FEFF 		bl	__aeabi_dmul
 3483              	.LVL337:
ARM GAS  /tmp/ccqVNF68.s 			page 91


 3484 00a2 C4E90201 		strd	r0, [r4, #8]
 387:Src/Eagle_TRT.c **** 
 3485              		.loc 1 387 0
 3486 00a6 D4E90423 		ldrd	r2, [r4, #16]
 3487 00aa 3046     		mov	r0, r6
 3488 00ac 3946     		mov	r1, r7
 3489 00ae FFF7FEFF 		bl	__aeabi_dmul
 3490              	.LVL338:
 3491 00b2 C4E90401 		strd	r0, [r4, #16]
 389:Src/Eagle_TRT.c **** 	shift_array(imu->y_array, 10, imu->y);
 3492              		.loc 1 389 0
 3493 00b6 04F13007 		add	r7, r4, #48
 3494 00ba 49EC108B 		vmov	d0, r8, r9
 3495 00be 0A21     		movs	r1, #10
 3496 00c0 3846     		mov	r0, r7
 3497 00c2 FFF7FEFF 		bl	shift_array
 3498              	.LVL339:
 390:Src/Eagle_TRT.c **** 	shift_array(imu->z_array, 10, imu->z);
 3499              		.loc 1 390 0
 3500 00c6 04F1D006 		add	r6, r4, #208
 3501 00ca 94ED020B 		vldr.64	d0, [r4, #8]
 3502 00ce 0A21     		movs	r1, #10
 3503 00d0 3046     		mov	r0, r6
 3504 00d2 FFF7FEFF 		bl	shift_array
 3505              	.LVL340:
 391:Src/Eagle_TRT.c **** 
 3506              		.loc 1 391 0
 3507 00d6 04F5B875 		add	r5, r4, #368
 3508 00da 94ED040B 		vldr.64	d0, [r4, #16]
 3509 00de 0A21     		movs	r1, #10
 3510 00e0 2846     		mov	r0, r5
 3511 00e2 FFF7FEFF 		bl	shift_array
 3512              	.LVL341:
 393:Src/Eagle_TRT.c **** 	imu->y = dynamic_average(imu->y_array, 10);
 3513              		.loc 1 393 0
 3514 00e6 0A21     		movs	r1, #10
 3515 00e8 3846     		mov	r0, r7
 3516 00ea FFF7FEFF 		bl	dynamic_average
 3517              	.LVL342:
 3518 00ee 59EC108B 		vmov	r8, r9, d0
 3519 00f2 84ED000B 		vstr.64	d0, [r4]
 394:Src/Eagle_TRT.c **** 	imu->z = dynamic_average(imu->z_array, 10);
 3520              		.loc 1 394 0
 3521 00f6 0A21     		movs	r1, #10
 3522 00f8 3046     		mov	r0, r6
 3523 00fa FFF7FEFF 		bl	dynamic_average
 3524              	.LVL343:
 3525 00fe 57EC106B 		vmov	r6, r7, d0
 3526 0102 84ED020B 		vstr.64	d0, [r4, #8]
 395:Src/Eagle_TRT.c **** 
 3527              		.loc 1 395 0
 3528 0106 0A21     		movs	r1, #10
 3529 0108 2846     		mov	r0, r5
 3530 010a FFF7FEFF 		bl	dynamic_average
 3531              	.LVL344:
 3532 010e 5BEC10AB 		vmov	r10, fp, d0
 397:Src/Eagle_TRT.c **** 	imu->y -= imu->y_offset;
ARM GAS  /tmp/ccqVNF68.s 			page 92


 3533              		.loc 1 397 0
 3534 0112 D4E90623 		ldrd	r2, [r4, #24]
 3535 0116 4046     		mov	r0, r8
 3536 0118 4946     		mov	r1, r9
 3537 011a FFF7FEFF 		bl	__aeabi_dsub
 3538              	.LVL345:
 3539 011e C4E90001 		strd	r0, [r4]
 398:Src/Eagle_TRT.c **** 	imu->z -= imu->z_offset;
 3540              		.loc 1 398 0
 3541 0122 D4E90823 		ldrd	r2, [r4, #32]
 3542 0126 3046     		mov	r0, r6
 3543 0128 3946     		mov	r1, r7
 3544 012a FFF7FEFF 		bl	__aeabi_dsub
 3545              	.LVL346:
 3546 012e C4E90201 		strd	r0, [r4, #8]
 399:Src/Eagle_TRT.c **** }
 3547              		.loc 1 399 0
 3548 0132 D4E90A23 		ldrd	r2, [r4, #40]
 3549 0136 5046     		mov	r0, r10
 3550 0138 5946     		mov	r1, fp
 3551 013a FFF7FEFF 		bl	__aeabi_dsub
 3552              	.LVL347:
 3553 013e C4E90401 		strd	r0, [r4, #16]
 3554 0142 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3555              	.LVL348:
 3556              	.L278:
 385:Src/Eagle_TRT.c **** 	imu->y = imu->y * (imu->scale / 32768);
 3557              		.loc 1 385 0
 3558 0146 00F5FF40 		add	r0, r0, #32640
 3559 014a 7F30     		adds	r0, r0, #127
 3560 014c 94E7     		b	.L273
 3561              	.L280:
 3562 014e 00BF     		.align	2
 3563              	.L279:
 3564 0150 0000E040 		.word	1088421888
 3565 0154 0000F040 		.word	1089470464
 3566              		.cfi_endproc
 3567              	.LFE137:
 3569              		.section	.text.LSM9DS0_calibration,"ax",%progbits
 3570              		.align	1
 3571              		.global	LSM9DS0_calibration
 3572              		.syntax unified
 3573              		.thumb
 3574              		.thumb_func
 3575              		.fpu fpv4-sp-d16
 3577              	LSM9DS0_calibration:
 3578              	.LFB135:
 309:Src/Eagle_TRT.c **** 	double x = 0, y = 0, z = 0;
 3579              		.loc 1 309 0
 3580              		.cfi_startproc
 3581              		@ args = 0, pretend = 0, frame = 0
 3582              		@ frame_needed = 0, uses_anonymous_args = 0
 3583              	.LVL349:
 3584 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3585              	.LCFI46:
 3586              		.cfi_def_cfa_offset 40
 3587              		.cfi_offset 3, -40
ARM GAS  /tmp/ccqVNF68.s 			page 93


 3588              		.cfi_offset 4, -36
 3589              		.cfi_offset 5, -32
 3590              		.cfi_offset 6, -28
 3591              		.cfi_offset 7, -24
 3592              		.cfi_offset 8, -20
 3593              		.cfi_offset 9, -16
 3594              		.cfi_offset 10, -12
 3595              		.cfi_offset 11, -8
 3596              		.cfi_offset 14, -4
 3597 0004 8246     		mov	r10, r0
 3598              	.LVL350:
 3599              	.LBB23:
 312:Src/Eagle_TRT.c **** 	{
 3600              		.loc 1 312 0
 3601 0006 4FF0000B 		mov	fp, #0
 3602              	.LBE23:
 310:Src/Eagle_TRT.c **** 	int iterations = 200;
 3603              		.loc 1 310 0
 3604 000a 0024     		movs	r4, #0
 3605 000c 0025     		movs	r5, #0
 3606 000e 2646     		mov	r6, r4
 3607 0010 2F46     		mov	r7, r5
 3608 0012 A046     		mov	r8, r4
 3609 0014 A946     		mov	r9, r5
 3610              	.LBB24:
 312:Src/Eagle_TRT.c **** 	{
 3611              		.loc 1 312 0
 3612 0016 22E0     		b	.L282
 3613              	.LVL351:
 3614              	.L283:
 314:Src/Eagle_TRT.c **** 		imu_elaborate_data(imu);
 3615              		.loc 1 314 0 discriminator 3
 3616 0018 5046     		mov	r0, r10
 3617 001a FFF7FEFF 		bl	LSMD9S0_accel_read
 3618              	.LVL352:
 315:Src/Eagle_TRT.c **** 		x += imu->x;
 3619              		.loc 1 315 0 discriminator 3
 3620 001e 5046     		mov	r0, r10
 3621 0020 FFF7FEFF 		bl	imu_elaborate_data
 3622              	.LVL353:
 316:Src/Eagle_TRT.c **** 		y += imu->y;
 3623              		.loc 1 316 0 discriminator 3
 3624 0024 DAE90023 		ldrd	r2, [r10]
 3625 0028 4046     		mov	r0, r8
 3626 002a 4946     		mov	r1, r9
 3627 002c FFF7FEFF 		bl	__aeabi_dadd
 3628              	.LVL354:
 3629 0030 8046     		mov	r8, r0
 3630              	.LVL355:
 3631 0032 8946     		mov	r9, r1
 3632              	.LVL356:
 317:Src/Eagle_TRT.c **** 		z += imu->z;
 3633              		.loc 1 317 0 discriminator 3
 3634 0034 DAE90223 		ldrd	r2, [r10, #8]
 3635 0038 3046     		mov	r0, r6
 3636 003a 3946     		mov	r1, r7
 3637 003c FFF7FEFF 		bl	__aeabi_dadd
ARM GAS  /tmp/ccqVNF68.s 			page 94


 3638              	.LVL357:
 3639 0040 0646     		mov	r6, r0
 3640              	.LVL358:
 3641 0042 0F46     		mov	r7, r1
 3642              	.LVL359:
 318:Src/Eagle_TRT.c **** 		HAL_Delay(1);
 3643              		.loc 1 318 0 discriminator 3
 3644 0044 DAE90423 		ldrd	r2, [r10, #16]
 3645 0048 2046     		mov	r0, r4
 3646 004a 2946     		mov	r1, r5
 3647 004c FFF7FEFF 		bl	__aeabi_dadd
 3648              	.LVL360:
 3649 0050 0446     		mov	r4, r0
 3650              	.LVL361:
 3651 0052 0D46     		mov	r5, r1
 3652              	.LVL362:
 319:Src/Eagle_TRT.c **** 	}
 3653              		.loc 1 319 0 discriminator 3
 3654 0054 0120     		movs	r0, #1
 3655 0056 FFF7FEFF 		bl	HAL_Delay
 3656              	.LVL363:
 312:Src/Eagle_TRT.c **** 	{
 3657              		.loc 1 312 0 discriminator 3
 3658 005a 0BF1010B 		add	fp, fp, #1
 3659              	.LVL364:
 3660              	.L282:
 312:Src/Eagle_TRT.c **** 	{
 3661              		.loc 1 312 0 is_stmt 0 discriminator 1
 3662 005e BBF1C70F 		cmp	fp, #199
 3663 0062 D9DD     		ble	.L283
 3664              	.LBE24:
 322:Src/Eagle_TRT.c **** 	imu->y_offset = y / iterations;
 3665              		.loc 1 322 0 is_stmt 1
 3666 0064 0022     		movs	r2, #0
 3667 0066 0E4B     		ldr	r3, .L285
 3668 0068 4046     		mov	r0, r8
 3669 006a 4946     		mov	r1, r9
 3670 006c FFF7FEFF 		bl	__aeabi_ddiv
 3671              	.LVL365:
 3672 0070 CAE90601 		strd	r0, [r10, #24]
 323:Src/Eagle_TRT.c **** 	imu->z_offset = z / iterations;
 3673              		.loc 1 323 0
 3674 0074 0022     		movs	r2, #0
 3675 0076 0A4B     		ldr	r3, .L285
 3676 0078 3046     		mov	r0, r6
 3677 007a 3946     		mov	r1, r7
 3678 007c FFF7FEFF 		bl	__aeabi_ddiv
 3679              	.LVL366:
 3680 0080 CAE90801 		strd	r0, [r10, #32]
 324:Src/Eagle_TRT.c **** 
 3681              		.loc 1 324 0
 3682 0084 0022     		movs	r2, #0
 3683 0086 064B     		ldr	r3, .L285
 3684 0088 2046     		mov	r0, r4
 3685 008a 2946     		mov	r1, r5
 3686 008c FFF7FEFF 		bl	__aeabi_ddiv
 3687              	.LVL367:
ARM GAS  /tmp/ccqVNF68.s 			page 95


 3688 0090 CAE90A01 		strd	r0, [r10, #40]
 326:Src/Eagle_TRT.c **** }
 3689              		.loc 1 326 0
 3690 0094 0123     		movs	r3, #1
 3691 0096 CAF81032 		str	r3, [r10, #528]
 3692 009a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3693              	.LVL368:
 3694              	.L286:
 3695 009e 00BF     		.align	2
 3696              	.L285:
 3697 00a0 00006940 		.word	1080623104
 3698              		.cfi_endproc
 3699              	.LFE135:
 3701              		.global	__aeabi_dcmple
 3702              		.section	.text.get_speed_encoder,"ax",%progbits
 3703              		.align	1
 3704              		.global	get_speed_encoder
 3705              		.syntax unified
 3706              		.thumb
 3707              		.thumb_func
 3708              		.fpu fpv4-sp-d16
 3710              	get_speed_encoder:
 3711              	.LFB154:
1026:Src/Eagle_TRT.c **** 
 3712              		.loc 1 1026 0
 3713              		.cfi_startproc
 3714              		@ args = 0, pretend = 0, frame = 0
 3715              		@ frame_needed = 0, uses_anonymous_args = 0
 3716              	.LVL369:
 3717 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3718              	.LCFI47:
 3719              		.cfi_def_cfa_offset 40
 3720              		.cfi_offset 3, -40
 3721              		.cfi_offset 4, -36
 3722              		.cfi_offset 5, -32
 3723              		.cfi_offset 6, -28
 3724              		.cfi_offset 7, -24
 3725              		.cfi_offset 8, -20
 3726              		.cfi_offset 9, -16
 3727              		.cfi_offset 10, -12
 3728              		.cfi_offset 11, -8
 3729              		.cfi_offset 14, -4
 3730 0004 2DED068B 		vpush.64	{d8, d9, d10}
 3731              	.LCFI48:
 3732              		.cfi_def_cfa_offset 64
 3733              		.cfi_offset 80, -64
 3734              		.cfi_offset 81, -60
 3735              		.cfi_offset 82, -56
 3736              		.cfi_offset 83, -52
 3737              		.cfi_offset 84, -48
 3738              		.cfi_offset 85, -44
 3739 0008 0446     		mov	r4, r0
 3740              	.LVL370:
1031:Src/Eagle_TRT.c **** 	{
 3741              		.loc 1 1031 0
 3742 000a 836E     		ldr	r3, [r0, #104]
 3743 000c 012B     		cmp	r3, #1
ARM GAS  /tmp/ccqVNF68.s 			page 96


 3744 000e 00F03681 		beq	.L323
1037:Src/Eagle_TRT.c **** 	}
 3745              		.loc 1 1037 0
 3746 0012 D0E92623 		ldrd	r2, [r0, #152]
 3747 0016 D0E92401 		ldrd	r0, [r0, #144]
 3748              	.LVL371:
 3749 001a FFF7FEFF 		bl	__aeabi_dsub
 3750              	.LVL372:
 3751 001e C4E92C01 		strd	r0, [r4, #176]
 3752              	.L289:
1041:Src/Eagle_TRT.c **** 		(enc->angle1 < enc->max_delta_angle && enc->angle0 > 360 - enc->max_delta_angle))
 3753              		.loc 1 1041 0
 3754 0022 94ED24AB 		vldr.64	d10, [r4, #144]
 3755 0026 94ED1F8A 		vldr.32	s16, [r4, #124]
 3756 002a 18EE100A 		vmov	r0, s16
 3757 002e FFF7FEFF 		bl	__aeabi_f2d
 3758              	.LVL373:
 3759 0032 0646     		mov	r6, r0
 3760 0034 0F46     		mov	r7, r1
 3761 0036 0246     		mov	r2, r0
 3762 0038 0B46     		mov	r3, r1
 3763 003a 51EC1A0B 		vmov	r0, r1, d10
 3764 003e FFF7FEFF 		bl	__aeabi_dcmplt
 3765              	.LVL374:
 3766 0042 80B1     		cbz	r0, .L290
1041:Src/Eagle_TRT.c **** 		(enc->angle1 < enc->max_delta_angle && enc->angle0 > 360 - enc->max_delta_angle))
 3767              		.loc 1 1041 0 is_stmt 0 discriminator 1
 3768 0044 D4E92689 		ldrd	r8, [r4, #152]
 3769 0048 DFED9F7A 		vldr.32	s15, .L325+32
 3770 004c 77EEC87A 		vsub.f32	s15, s15, s16
 3771 0050 17EE900A 		vmov	r0, s15
 3772 0054 FFF7FEFF 		bl	__aeabi_f2d
 3773              	.LVL375:
 3774 0058 0246     		mov	r2, r0
 3775 005a 0B46     		mov	r3, r1
 3776 005c 4046     		mov	r0, r8
 3777 005e 4946     		mov	r1, r9
 3778 0060 FFF7FEFF 		bl	__aeabi_dcmpgt
 3779              	.LVL376:
 3780 0064 A8B9     		cbnz	r0, .L292
 3781              	.L290:
1041:Src/Eagle_TRT.c **** 		(enc->angle1 < enc->max_delta_angle && enc->angle0 > 360 - enc->max_delta_angle))
 3782              		.loc 1 1041 0 discriminator 3
 3783 0066 D4E92623 		ldrd	r2, [r4, #152]
 3784 006a 3046     		mov	r0, r6
 3785 006c 3946     		mov	r1, r7
 3786 006e FFF7FEFF 		bl	__aeabi_dcmpgt
 3787              	.LVL377:
 3788 0072 08B3     		cbz	r0, .L293
1042:Src/Eagle_TRT.c **** 	{
 3789              		.loc 1 1042 0 is_stmt 1
 3790 0074 DFED947A 		vldr.32	s15, .L325+32
 3791 0078 77EEC87A 		vsub.f32	s15, s15, s16
 3792 007c 17EE900A 		vmov	r0, s15
 3793 0080 FFF7FEFF 		bl	__aeabi_f2d
 3794              	.LVL378:
 3795 0084 0246     		mov	r2, r0
ARM GAS  /tmp/ccqVNF68.s 			page 97


 3796 0086 0B46     		mov	r3, r1
 3797 0088 51EC1A0B 		vmov	r0, r1, d10
 3798 008c FFF7FEFF 		bl	__aeabi_dcmpgt
 3799              	.LVL379:
 3800 0090 90B1     		cbz	r0, .L293
 3801              	.L292:
1044:Src/Eagle_TRT.c **** 		{
 3802              		.loc 1 1044 0
 3803 0092 D4E92C67 		ldrd	r6, [r4, #176]
 3804 0096 0022     		movs	r2, #0
 3805 0098 0023     		movs	r3, #0
 3806 009a 3046     		mov	r0, r6
 3807 009c 3946     		mov	r1, r7
 3808 009e FFF7FEFF 		bl	__aeabi_dcmplt
 3809              	.LVL380:
 3810 00a2 0028     		cmp	r0, #0
 3811 00a4 40F0F480 		bne	.L324
1050:Src/Eagle_TRT.c **** 		}
 3812              		.loc 1 1050 0
 3813 00a8 3246     		mov	r2, r6
 3814 00aa 3B46     		mov	r3, r7
 3815 00ac 0020     		movs	r0, #0
 3816 00ae 8749     		ldr	r1, .L325+36
 3817 00b0 FFF7FEFF 		bl	__aeabi_dsub
 3818              	.LVL381:
 3819 00b4 C4E92C01 		strd	r0, [r4, #176]
 3820              	.L293:
1055:Src/Eagle_TRT.c **** 	speed *= enc->frequency;
 3821              		.loc 1 1055 0
 3822 00b8 0022     		movs	r2, #0
 3823 00ba 844B     		ldr	r3, .L325+36
 3824 00bc D4E92C01 		ldrd	r0, [r4, #176]
 3825 00c0 FFF7FEFF 		bl	__aeabi_ddiv
 3826              	.LVL382:
 3827 00c4 78A3     		adr	r3, .L325
 3828 00c6 D3E90023 		ldrd	r2, [r3]
 3829 00ca FFF7FEFF 		bl	__aeabi_dmul
 3830              	.LVL383:
 3831 00ce 8046     		mov	r8, r0
 3832 00d0 8946     		mov	r9, r1
 3833 00d2 A06F     		ldr	r0, [r4, #120]	@ float
 3834 00d4 FFF7FEFF 		bl	__aeabi_f2d
 3835              	.LVL384:
 3836 00d8 0646     		mov	r6, r0
 3837 00da 0F46     		mov	r7, r1
 3838 00dc 0246     		mov	r2, r0
 3839 00de 0B46     		mov	r3, r1
 3840 00e0 4046     		mov	r0, r8
 3841 00e2 4946     		mov	r1, r9
 3842 00e4 FFF7FEFF 		bl	__aeabi_dmul
 3843              	.LVL385:
 3844 00e8 8046     		mov	r8, r0
 3845 00ea 8946     		mov	r9, r1
 3846              	.LVL386:
1056:Src/Eagle_TRT.c **** 	speed *= 3.6;
 3847              		.loc 1 1056 0
 3848 00ec D4F88000 		ldr	r0, [r4, #128]	@ float
ARM GAS  /tmp/ccqVNF68.s 			page 98


 3849 00f0 FFF7FEFF 		bl	__aeabi_f2d
 3850              	.LVL387:
 3851 00f4 0246     		mov	r2, r0
 3852 00f6 0B46     		mov	r3, r1
 3853 00f8 4046     		mov	r0, r8
 3854 00fa 4946     		mov	r1, r9
 3855 00fc FFF7FEFF 		bl	__aeabi_dmul
 3856              	.LVL388:
1057:Src/Eagle_TRT.c **** 	speed = round((speed * 1000)) / 1000;
 3857              		.loc 1 1057 0
 3858 0100 6BA3     		adr	r3, .L325+8
 3859 0102 D3E90023 		ldrd	r2, [r3]
 3860 0106 FFF7FEFF 		bl	__aeabi_dmul
 3861              	.LVL389:
1058:Src/Eagle_TRT.c **** 
 3862              		.loc 1 1058 0
 3863 010a 0022     		movs	r2, #0
 3864 010c 704B     		ldr	r3, .L325+40
 3865 010e FFF7FEFF 		bl	__aeabi_dmul
 3866              	.LVL390:
 3867 0112 41EC100B 		vmov	d0, r0, r1
 3868 0116 FFF7FEFF 		bl	round
 3869              	.LVL391:
 3870 011a 0022     		movs	r2, #0
 3871 011c 6C4B     		ldr	r3, .L325+40
 3872 011e 51EC100B 		vmov	r0, r1, d0
 3873 0122 FFF7FEFF 		bl	__aeabi_ddiv
 3874              	.LVL392:
 3875 0126 41EC190B 		vmov	d9, r0, r1
 3876              	.LVL393:
1060:Src/Eagle_TRT.c **** 
 3877              		.loc 1 1060 0
 3878 012a FDEEC87A 		vcvt.s32.f32	s15, s16
 3879 012e 17EE905A 		vmov	r5, s15	@ int
 3880              	.LVL394:
1064:Src/Eagle_TRT.c **** 	{
 3881              		.loc 1 1064 0
 3882 0132 D4E9F689 		ldrd	r8, [r4, #984]
 3883 0136 0022     		movs	r2, #0
 3884 0138 664B     		ldr	r3, .L325+44
 3885 013a 4046     		mov	r0, r8
 3886              	.LVL395:
 3887 013c 4946     		mov	r1, r9
 3888 013e FFF7FEFF 		bl	__aeabi_dcmplt
 3889              	.LVL396:
 3890 0142 38B9     		cbnz	r0, .L298
1064:Src/Eagle_TRT.c **** 	{
 3891              		.loc 1 1064 0 is_stmt 0 discriminator 1
 3892 0144 0022     		movs	r2, #0
 3893 0146 644B     		ldr	r3, .L325+48
 3894 0148 4046     		mov	r0, r8
 3895 014a 4946     		mov	r1, r9
 3896 014c FFF7FEFF 		bl	__aeabi_dcmpgt
 3897              	.LVL397:
 3898 0150 0028     		cmp	r0, #0
 3899 0152 7DD0     		beq	.L299
 3900              	.L298:
ARM GAS  /tmp/ccqVNF68.s 			page 99


1066:Src/Eagle_TRT.c **** 		{
 3901              		.loc 1 1066 0 is_stmt 1
 3902 0154 D4E928AB 		ldrd	r10, [r4, #160]
 3903 0158 57A3     		adr	r3, .L325+16
 3904 015a D3E90023 		ldrd	r2, [r3]
 3905 015e 5046     		mov	r0, r10
 3906 0160 5946     		mov	r1, fp
 3907 0162 FFF7FEFF 		bl	__aeabi_dcmple
 3908              	.LVL398:
 3909 0166 A8B3     		cbz	r0, .L301
1066:Src/Eagle_TRT.c **** 		{
 3910              		.loc 1 1066 0 is_stmt 0 discriminator 1
 3911 0168 C5F5B470 		rsb	r0, r5, #360
 3912 016c FFF7FEFF 		bl	__aeabi_i2d
 3913              	.LVL399:
 3914 0170 0246     		mov	r2, r0
 3915 0172 0B46     		mov	r3, r1
 3916 0174 5046     		mov	r0, r10
 3917 0176 5946     		mov	r1, fp
 3918 0178 FFF7FEFF 		bl	__aeabi_dcmpgt
 3919              	.LVL400:
 3920 017c 50B3     		cbz	r0, .L301
1066:Src/Eagle_TRT.c **** 		{
 3921              		.loc 1 1066 0 discriminator 2
 3922 017e 0022     		movs	r2, #0
 3923 0180 564B     		ldr	r3, .L325+52
 3924 0182 51EC1A0B 		vmov	r0, r1, d10
 3925 0186 FFF7FEFF 		bl	__aeabi_dcmpge
 3926              	.LVL401:
 3927 018a 18B3     		cbz	r0, .L301
1066:Src/Eagle_TRT.c **** 		{
 3928              		.loc 1 1066 0 discriminator 3
 3929 018c 2846     		mov	r0, r5
 3930 018e FFF7FEFF 		bl	__aeabi_i2d
 3931              	.LVL402:
 3932 0192 0246     		mov	r2, r0
 3933 0194 0B46     		mov	r3, r1
 3934 0196 51EC1A0B 		vmov	r0, r1, d10
 3935 019a FFF7FEFF 		bl	__aeabi_dcmplt
 3936              	.LVL403:
 3937 019e C8B1     		cbz	r0, .L301
1068:Src/Eagle_TRT.c **** 			enc->Km += (3.14 * enc->wheel_diameter) / 1000;
 3938              		.loc 1 1068 0 is_stmt 1
 3939 01a0 E36E     		ldr	r3, [r4, #108]
 3940 01a2 0133     		adds	r3, r3, #1
 3941 01a4 E366     		str	r3, [r4, #108]
1069:Src/Eagle_TRT.c **** 		}
 3942              		.loc 1 1069 0
 3943 01a6 46A3     		adr	r3, .L325+24
 3944 01a8 D3E90023 		ldrd	r2, [r3]
 3945 01ac 3046     		mov	r0, r6
 3946 01ae 3946     		mov	r1, r7
 3947 01b0 FFF7FEFF 		bl	__aeabi_dmul
 3948              	.LVL404:
 3949 01b4 0022     		movs	r2, #0
 3950 01b6 464B     		ldr	r3, .L325+40
 3951 01b8 FFF7FEFF 		bl	__aeabi_ddiv
ARM GAS  /tmp/ccqVNF68.s 			page 100


 3952              	.LVL405:
 3953 01bc 8046     		mov	r8, r0
 3954 01be 8946     		mov	r9, r1
 3955 01c0 206F     		ldr	r0, [r4, #112]	@ float
 3956 01c2 FFF7FEFF 		bl	__aeabi_f2d
 3957              	.LVL406:
 3958 01c6 4246     		mov	r2, r8
 3959 01c8 4B46     		mov	r3, r9
 3960 01ca FFF7FEFF 		bl	__aeabi_dadd
 3961              	.LVL407:
 3962 01ce FFF7FEFF 		bl	__aeabi_d2f
 3963              	.LVL408:
 3964 01d2 2067     		str	r0, [r4, #112]	@ float
 3965              	.L301:
1071:Src/Eagle_TRT.c **** 		{
 3966              		.loc 1 1071 0
 3967 01d4 0022     		movs	r2, #0
 3968 01d6 414B     		ldr	r3, .L325+52
 3969 01d8 5046     		mov	r0, r10
 3970 01da 5946     		mov	r1, fp
 3971 01dc FFF7FEFF 		bl	__aeabi_dcmpge
 3972              	.LVL409:
 3973 01e0 B0B3     		cbz	r0, .L299
1071:Src/Eagle_TRT.c **** 		{
 3974              		.loc 1 1071 0 is_stmt 0 discriminator 1
 3975 01e2 2846     		mov	r0, r5
 3976 01e4 FFF7FEFF 		bl	__aeabi_i2d
 3977              	.LVL410:
 3978 01e8 0246     		mov	r2, r0
 3979 01ea 0B46     		mov	r3, r1
 3980 01ec 5046     		mov	r0, r10
 3981 01ee 5946     		mov	r1, fp
 3982 01f0 FFF7FEFF 		bl	__aeabi_dcmplt
 3983              	.LVL411:
 3984 01f4 60B3     		cbz	r0, .L299
1071:Src/Eagle_TRT.c **** 		{
 3985              		.loc 1 1071 0 discriminator 2
 3986 01f6 30A3     		adr	r3, .L325+16
 3987 01f8 D3E90023 		ldrd	r2, [r3]
 3988 01fc 51EC1A0B 		vmov	r0, r1, d10
 3989 0200 FFF7FEFF 		bl	__aeabi_dcmple
 3990              	.LVL412:
 3991 0204 20B3     		cbz	r0, .L299
1071:Src/Eagle_TRT.c **** 		{
 3992              		.loc 1 1071 0 discriminator 3
 3993 0206 C5F5B470 		rsb	r0, r5, #360
 3994 020a FFF7FEFF 		bl	__aeabi_i2d
 3995              	.LVL413:
 3996 020e 0246     		mov	r2, r0
 3997 0210 0B46     		mov	r3, r1
 3998 0212 51EC1A0B 		vmov	r0, r1, d10
 3999 0216 FFF7FEFF 		bl	__aeabi_dcmpgt
 4000              	.LVL414:
 4001 021a C8B1     		cbz	r0, .L299
1073:Src/Eagle_TRT.c **** 			enc->Km += (3.14 * enc->wheel_diameter) / 1000;
 4002              		.loc 1 1073 0 is_stmt 1
 4003 021c E36E     		ldr	r3, [r4, #108]
ARM GAS  /tmp/ccqVNF68.s 			page 101


 4004 021e 0133     		adds	r3, r3, #1
 4005 0220 E366     		str	r3, [r4, #108]
1074:Src/Eagle_TRT.c **** 		}
 4006              		.loc 1 1074 0
 4007 0222 27A3     		adr	r3, .L325+24
 4008 0224 D3E90023 		ldrd	r2, [r3]
 4009 0228 3046     		mov	r0, r6
 4010 022a 3946     		mov	r1, r7
 4011 022c FFF7FEFF 		bl	__aeabi_dmul
 4012              	.LVL415:
 4013 0230 0022     		movs	r2, #0
 4014 0232 274B     		ldr	r3, .L325+40
 4015 0234 FFF7FEFF 		bl	__aeabi_ddiv
 4016              	.LVL416:
 4017 0238 0646     		mov	r6, r0
 4018 023a 0F46     		mov	r7, r1
 4019 023c 206F     		ldr	r0, [r4, #112]	@ float
 4020 023e FFF7FEFF 		bl	__aeabi_f2d
 4021              	.LVL417:
 4022 0242 3246     		mov	r2, r6
 4023 0244 3B46     		mov	r3, r7
 4024 0246 FFF7FEFF 		bl	__aeabi_dadd
 4025              	.LVL418:
 4026 024a FFF7FEFF 		bl	__aeabi_d2f
 4027              	.LVL419:
 4028 024e 2067     		str	r0, [r4, #112]	@ float
 4029              	.L299:
1079:Src/Eagle_TRT.c **** 	enc->average_speed = dynamic_average(enc->speed_array, 50);
 4030              		.loc 1 1079 0
 4031 0250 04F1B805 		add	r5, r4, #184
 4032              	.LVL420:
 4033 0254 B0EE490A 		vmov.f32	s0, s18
 4034 0258 F0EE690A 		vmov.f32	s1, s19
 4035 025c 3221     		movs	r1, #50
 4036 025e 2846     		mov	r0, r5
 4037 0260 FFF7FEFF 		bl	shift_array
 4038              	.LVL421:
1080:Src/Eagle_TRT.c **** 
 4039              		.loc 1 1080 0
 4040 0264 3221     		movs	r1, #50
 4041 0266 2846     		mov	r0, r5
 4042 0268 FFF7FEFF 		bl	dynamic_average
 4043              	.LVL422:
 4044 026c 84EDF60B 		vstr.64	d0, [r4, #984]
1083:Src/Eagle_TRT.c **** }
 4045              		.loc 1 1083 0
 4046 0270 2046     		mov	r0, r4
 4047 0272 FFF7FEFF 		bl	enc_calculate_optimal_frequency
 4048              	.LVL423:
1084:Src/Eagle_TRT.c **** 
 4049              		.loc 1 1084 0
 4050 0276 BDEC068B 		vldm	sp!, {d8-d10}
 4051              	.LCFI49:
 4052              		.cfi_remember_state
 4053              		.cfi_restore 84
 4054              		.cfi_restore 85
 4055              		.cfi_restore 82
ARM GAS  /tmp/ccqVNF68.s 			page 102


 4056              		.cfi_restore 83
 4057              		.cfi_restore 80
 4058              		.cfi_restore 81
 4059              		.cfi_def_cfa_offset 40
 4060              	.LVL424:
 4061 027a BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 4062              	.LVL425:
 4063              	.L323:
 4064              	.LCFI50:
 4065              		.cfi_restore_state
1033:Src/Eagle_TRT.c **** 	}
 4066              		.loc 1 1033 0
 4067 027e D0E92423 		ldrd	r2, [r0, #144]
 4068 0282 D0E92601 		ldrd	r0, [r0, #152]
 4069              	.LVL426:
 4070 0286 FFF7FEFF 		bl	__aeabi_dsub
 4071              	.LVL427:
 4072 028a C4E92C01 		strd	r0, [r4, #176]
 4073 028e C8E6     		b	.L289
 4074              	.L324:
1046:Src/Eagle_TRT.c **** 		}
 4075              		.loc 1 1046 0
 4076 0290 0022     		movs	r2, #0
 4077 0292 0E4B     		ldr	r3, .L325+36
 4078 0294 3046     		mov	r0, r6
 4079 0296 3946     		mov	r1, r7
 4080 0298 FFF7FEFF 		bl	__aeabi_dadd
 4081              	.LVL428:
 4082 029c C4E92C01 		strd	r0, [r4, #176]
 4083 02a0 0AE7     		b	.L293
 4084              	.L326:
 4085 02a2 00BFAFF3 		.align	3
 4085      0080
 4086              	.L325:
 4087 02a8 6F1283C0 		.word	3229815407
 4088 02ac CA210940 		.word	1074340298
 4089 02b0 CDCCCCCC 		.word	3435973837
 4090 02b4 CCCC0C40 		.word	1074580684
 4091 02b8 00000000 		.word	0
 4092 02bc 00907640 		.word	1081511936
 4093 02c0 1F85EB51 		.word	1374389535
 4094 02c4 B81E0940 		.word	1074339512
 4095 02c8 0000B443 		.word	1135869952
 4096 02cc 00807640 		.word	1081507840
 4097 02d0 00408F40 		.word	1083129856
 4098 02d4 0000E0BF 		.word	-1075838976
 4099 02d8 0000E03F 		.word	1071644672
 4100 02dc 0000F0BF 		.word	-1074790400
 4101              		.cfi_endproc
 4102              	.LFE154:
 4104              		.section	.text.encoder_tim_interrupt,"ax",%progbits
 4105              		.align	1
 4106              		.global	encoder_tim_interrupt
 4107              		.syntax unified
 4108              		.thumb
 4109              		.thumb_func
 4110              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccqVNF68.s 			page 103


 4112              	encoder_tim_interrupt:
 4113              	.LFB153:
 976:Src/Eagle_TRT.c **** 
 4114              		.loc 1 976 0
 4115              		.cfi_startproc
 4116              		@ args = 0, pretend = 0, frame = 0
 4117              		@ frame_needed = 0, uses_anonymous_args = 0
 4118              	.LVL429:
 4119 0000 D0B5     		push	{r4, r6, r7, lr}
 4120              	.LCFI51:
 4121              		.cfi_def_cfa_offset 16
 4122              		.cfi_offset 4, -16
 4123              		.cfi_offset 6, -12
 4124              		.cfi_offset 7, -8
 4125              		.cfi_offset 14, -4
 4126 0002 0446     		mov	r4, r0
 978:Src/Eagle_TRT.c **** 	{
 4127              		.loc 1 978 0
 4128 0004 C368     		ldr	r3, [r0, #12]
 4129 0006 4BB1     		cbz	r3, .L338
 984:Src/Eagle_TRT.c **** 	{
 4130              		.loc 1 984 0
 4131 0008 012B     		cmp	r3, #1
 4132 000a 10D0     		beq	.L339
 990:Src/Eagle_TRT.c **** 	{
 4133              		.loc 1 990 0
 4134 000c 022B     		cmp	r3, #2
 4135 000e 17D0     		beq	.L340
 4136              	.LVL430:
 4137              	.L329:
1010:Src/Eagle_TRT.c **** 	{
 4138              		.loc 1 1010 0
 4139 0010 E368     		ldr	r3, [r4, #12]
 4140 0012 012B     		cmp	r3, #1
 4141 0014 31DD     		ble	.L333
1012:Src/Eagle_TRT.c **** 	}
 4142              		.loc 1 1012 0
 4143 0016 0023     		movs	r3, #0
 4144 0018 E360     		str	r3, [r4, #12]
 4145 001a D0BD     		pop	{r4, r6, r7, pc}
 4146              	.LVL431:
 4147              	.L338:
 981:Src/Eagle_TRT.c **** 		enc->angle0 = read_encoder(enc);
 4148              		.loc 1 981 0
 4149 001c D0E92423 		ldrd	r2, [r0, #144]
 4150 0020 C0E92823 		strd	r2, [r0, #160]
 982:Src/Eagle_TRT.c **** 	}
 4151              		.loc 1 982 0
 4152 0024 FFF7FEFF 		bl	read_encoder
 4153              	.LVL432:
 4154 0028 84ED240B 		vstr.64	d0, [r4, #144]
 4155 002c F0E7     		b	.L329
 4156              	.LVL433:
 4157              	.L339:
 987:Src/Eagle_TRT.c **** 		enc->angle1 = read_encoder(enc);
 4158              		.loc 1 987 0
 4159 002e D0E92623 		ldrd	r2, [r0, #152]
ARM GAS  /tmp/ccqVNF68.s 			page 104


 4160 0032 C0E92A23 		strd	r2, [r0, #168]
 988:Src/Eagle_TRT.c **** 	}
 4161              		.loc 1 988 0
 4162 0036 FFF7FEFF 		bl	read_encoder
 4163              	.LVL434:
 4164 003a 84ED260B 		vstr.64	d0, [r4, #152]
 4165 003e E7E7     		b	.L329
 4166              	.LVL435:
 4167              	.L340:
 993:Src/Eagle_TRT.c **** 
 4168              		.loc 1 993 0
 4169 0040 FFF7FEFF 		bl	get_speed_encoder
 4170              	.LVL436:
 995:Src/Eagle_TRT.c **** 
 4171              		.loc 1 995 0
 4172 0044 0022     		movs	r2, #0
 4173 0046 0E4B     		ldr	r3, .L342
 4174 0048 D4E9F601 		ldrd	r0, [r4, #984]
 4175 004c FFF7FEFF 		bl	__aeabi_dmul
 4176              	.LVL437:
 4177 0050 0646     		mov	r6, r0
 4178 0052 0F46     		mov	r7, r1
 4179 0054 C4E9F667 		strd	r6, [r4, #984]
 998:Src/Eagle_TRT.c **** 		{
 4180              		.loc 1 998 0
 4181 0058 0022     		movs	r2, #0
 4182 005a 0023     		movs	r3, #0
 4183 005c FFF7FEFF 		bl	__aeabi_dcmplt
 4184              	.LVL438:
 4185 0060 10B9     		cbnz	r0, .L341
1005:Src/Eagle_TRT.c **** 		}
 4186              		.loc 1 1005 0
 4187 0062 0023     		movs	r3, #0
 4188 0064 6367     		str	r3, [r4, #116]
 4189 0066 D3E7     		b	.L329
 4190              	.L341:
1000:Src/Eagle_TRT.c **** 			enc->speed_sign = 1;
 4191              		.loc 1 1000 0
 4192 0068 C4F8D863 		str	r6, [r4, #984]
 4193 006c 07F10043 		add	r3, r7, #-2147483648
 4194 0070 C4F8DC33 		str	r3, [r4, #988]
1001:Src/Eagle_TRT.c **** 		}
 4195              		.loc 1 1001 0
 4196 0074 0123     		movs	r3, #1
 4197 0076 6367     		str	r3, [r4, #116]
 4198 0078 CAE7     		b	.L329
 4199              	.L333:
1016:Src/Eagle_TRT.c **** 	}
 4200              		.loc 1 1016 0
 4201 007a 0133     		adds	r3, r3, #1
 4202 007c E360     		str	r3, [r4, #12]
 4203 007e D0BD     		pop	{r4, r6, r7, pc}
 4204              	.LVL439:
 4205              	.L343:
 4206              		.align	2
 4207              	.L342:
 4208 0080 00002440 		.word	1076101120
ARM GAS  /tmp/ccqVNF68.s 			page 105


 4209              		.cfi_endproc
 4210              	.LFE153:
 4212              		.comm	pot_3,24,4
 4213              		.comm	pot_2,24,4
 4214              		.comm	pot_1,24,4
 4215              		.comm	enc,1008,8
 4216              		.comm	buffer_gps,2,4
 4217              		.comm	data_string_gps,1,1
 4218              		.comm	cont_comma,4,4
 4219              		.comm	cont_string,4,4
 4220              		.comm	string_gps,100,4
 4221              		.global	start_string_gps
 4222              		.comm	huart_GPS,4,4
 4223              		.global	print_q
 4224              		.comm	can,28,4
 4225              		.comm	gyro,568,8
 4226              		.comm	accel,568,8
 4227              		.comm	imu,568,8
 4228              		.global	OUT_Z_H_A_ADD
 4229              		.global	OUT_Z_L_A_ADD
 4230              		.global	OUT_Y_H_A_ADD
 4231              		.global	OUT_Y_L_A_ADD
 4232              		.global	OUT_X_H_A_ADD
 4233              		.global	OUT_X_L_A_ADD
 4234              		.global	OUT_Z_H_G_ADD
 4235              		.global	OUT_Z_L_G_ADD
 4236              		.global	OUT_Y_H_G_ADD
 4237              		.global	OUT_Y_L_G_ADD
 4238              		.global	OUT_X_H_G_ADD
 4239              		.global	OUT_X_L_G_ADD
 4240              		.global	SCL_M_12
 4241              		.global	SCL_M_8
 4242              		.global	SCL_M_4
 4243              		.global	SCL_M_2
 4244              		.global	CTRL_REG6_XM
 4245              		.global	SCL_A_16
 4246              		.global	SCL_A_8
 4247              		.global	SCL_A_6
 4248              		.global	SCL_A_4
 4249              		.global	SCL_A_2
 4250              		.global	CTRL_REG2_XM
 4251              		.global	SCL_G_2000
 4252              		.global	SCL_G_1000
 4253              		.global	SCL_G_500
 4254              		.global	SCL_G_245
 4255              		.global	CTRL_REG4_G
 4256              		.global	CTRL_REG7_XM_VAL
 4257              		.global	CTRL_REG7_XM_ADD
 4258              		.global	CTRL_REG6_XM_VAL
 4259              		.global	CTRL_REG6_XM_ADD
 4260              		.global	CTRL_REG5_XM_VAL
 4261              		.global	CTRL_REG5_XM_ADD
 4262              		.global	CTRL_REG2_XM_VAL
 4263              		.global	CTRL_REG2_XM_ADD
 4264              		.global	CTRL_REG1_XM_VAL
 4265              		.global	CTRL_REG1_XM_ADD
 4266              		.global	CTRL_REG4_G_VAL
ARM GAS  /tmp/ccqVNF68.s 			page 106


 4267              		.global	CTRL_REG4_G_ADD
 4268              		.global	CTRL_REG1_G_VAL
 4269              		.global	CTRL_REG1_G_ADD
 4270              		.comm	WHO_AM_I_XM_VAL,1,1
 4271              		.global	WHO_AM_I_XM
 4272              		.comm	WHO_AM_I_G_VAL,1,1
 4273              		.global	WHO_AM_I_G
 4274              		.global	ZERO
 4275              		.section	.bss.CTRL_REG7_XM_VAL,"aw",%nobits
 4276              		.set	.LANCHOR8,. + 0
 4279              	CTRL_REG7_XM_VAL:
 4280 0000 00       		.space	1
 4281              		.section	.bss.SCL_A_2,"aw",%nobits
 4282              		.set	.LANCHOR15,. + 0
 4285              	SCL_A_2:
 4286 0000 00       		.space	1
 4287              		.section	.bss.SCL_G_245,"aw",%nobits
 4288              		.set	.LANCHOR10,. + 0
 4291              	SCL_G_245:
 4292 0000 00       		.space	1
 4293              		.section	.bss.SCL_M_2,"aw",%nobits
 4296              	SCL_M_2:
 4297 0000 00       		.space	1
 4298              		.section	.bss.ZERO,"aw",%nobits
 4301              	ZERO:
 4302 0000 00       		.space	1
 4303              		.section	.bss.print_q,"aw",%nobits
 4304              		.align	2
 4305              		.set	.LANCHOR35,. + 0
 4308              	print_q:
 4309 0000 00000000 		.space	224
 4309      00000000 
 4309      00000000 
 4309      00000000 
 4309      00000000 
 4310              		.section	.bss.start_string_gps,"aw",%nobits
 4311              		.align	2
 4312              		.set	.LANCHOR36,. + 0
 4315              	start_string_gps:
 4316 0000 00000000 		.space	4
 4317              		.section	.data.CTRL_REG1_G_ADD,"aw",%progbits
 4318              		.set	.LANCHOR1,. + 0
 4321              	CTRL_REG1_G_ADD:
 4322 0000 20       		.byte	32
 4323              		.section	.data.CTRL_REG1_G_VAL,"aw",%progbits
 4324              		.set	.LANCHOR0,. + 0
 4327              	CTRL_REG1_G_VAL:
 4328 0000 0F       		.byte	15
 4329              		.section	.data.CTRL_REG1_XM_ADD,"aw",%progbits
 4330              		.set	.LANCHOR3,. + 0
 4333              	CTRL_REG1_XM_ADD:
 4334 0000 20       		.byte	32
 4335              		.section	.data.CTRL_REG1_XM_VAL,"aw",%progbits
 4336              		.set	.LANCHOR2,. + 0
 4339              	CTRL_REG1_XM_VAL:
 4340 0000 A7       		.byte	-89
 4341              		.section	.data.CTRL_REG2_XM,"aw",%progbits
ARM GAS  /tmp/ccqVNF68.s 			page 107


 4342              		.set	.LANCHOR16,. + 0
 4345              	CTRL_REG2_XM:
 4346 0000 21       		.byte	33
 4347              		.section	.data.CTRL_REG2_XM_ADD,"aw",%progbits
 4350              	CTRL_REG2_XM_ADD:
 4351 0000 21       		.byte	33
 4352              		.section	.data.CTRL_REG2_XM_VAL,"aw",%progbits
 4355              	CTRL_REG2_XM_VAL:
 4356 0000 08       		.byte	8
 4357              		.section	.data.CTRL_REG4_G,"aw",%progbits
 4358              		.set	.LANCHOR11,. + 0
 4361              	CTRL_REG4_G:
 4362 0000 23       		.byte	35
 4363              		.section	.data.CTRL_REG4_G_ADD,"aw",%progbits
 4366              	CTRL_REG4_G_ADD:
 4367 0000 23       		.byte	35
 4368              		.section	.data.CTRL_REG4_G_VAL,"aw",%progbits
 4371              	CTRL_REG4_G_VAL:
 4372 0000 10       		.byte	16
 4373              		.section	.data.CTRL_REG5_XM_ADD,"aw",%progbits
 4374              		.set	.LANCHOR5,. + 0
 4377              	CTRL_REG5_XM_ADD:
 4378 0000 24       		.byte	36
 4379              		.section	.data.CTRL_REG5_XM_VAL,"aw",%progbits
 4380              		.set	.LANCHOR4,. + 0
 4383              	CTRL_REG5_XM_VAL:
 4384 0000 70       		.byte	112
 4385              		.section	.data.CTRL_REG6_XM,"aw",%progbits
 4388              	CTRL_REG6_XM:
 4389 0000 25       		.byte	37
 4390              		.section	.data.CTRL_REG6_XM_ADD,"aw",%progbits
 4391              		.set	.LANCHOR7,. + 0
 4394              	CTRL_REG6_XM_ADD:
 4395 0000 25       		.byte	37
 4396              		.section	.data.CTRL_REG6_XM_VAL,"aw",%progbits
 4397              		.set	.LANCHOR6,. + 0
 4400              	CTRL_REG6_XM_VAL:
 4401 0000 20       		.byte	32
 4402              		.section	.data.CTRL_REG7_XM_ADD,"aw",%progbits
 4403              		.set	.LANCHOR9,. + 0
 4406              	CTRL_REG7_XM_ADD:
 4407 0000 26       		.byte	38
 4408              		.section	.data.OUT_X_H_A_ADD,"aw",%progbits
 4409              		.set	.LANCHOR29,. + 0
 4412              	OUT_X_H_A_ADD:
 4413 0000 A9       		.byte	-87
 4414              		.section	.data.OUT_X_H_G_ADD,"aw",%progbits
 4415              		.set	.LANCHOR23,. + 0
 4418              	OUT_X_H_G_ADD:
 4419 0000 A9       		.byte	-87
 4420              		.section	.data.OUT_X_L_A_ADD,"aw",%progbits
 4421              		.set	.LANCHOR30,. + 0
 4424              	OUT_X_L_A_ADD:
 4425 0000 A8       		.byte	-88
 4426              		.section	.data.OUT_X_L_G_ADD,"aw",%progbits
 4427              		.set	.LANCHOR24,. + 0
 4430              	OUT_X_L_G_ADD:
ARM GAS  /tmp/ccqVNF68.s 			page 108


 4431 0000 A8       		.byte	-88
 4432              		.section	.data.OUT_Y_H_A_ADD,"aw",%progbits
 4433              		.set	.LANCHOR31,. + 0
 4436              	OUT_Y_H_A_ADD:
 4437 0000 AB       		.byte	-85
 4438              		.section	.data.OUT_Y_H_G_ADD,"aw",%progbits
 4439              		.set	.LANCHOR25,. + 0
 4442              	OUT_Y_H_G_ADD:
 4443 0000 AB       		.byte	-85
 4444              		.section	.data.OUT_Y_L_A_ADD,"aw",%progbits
 4445              		.set	.LANCHOR32,. + 0
 4448              	OUT_Y_L_A_ADD:
 4449 0000 AA       		.byte	-86
 4450              		.section	.data.OUT_Y_L_G_ADD,"aw",%progbits
 4451              		.set	.LANCHOR26,. + 0
 4454              	OUT_Y_L_G_ADD:
 4455 0000 AA       		.byte	-86
 4456              		.section	.data.OUT_Z_H_A_ADD,"aw",%progbits
 4457              		.set	.LANCHOR33,. + 0
 4460              	OUT_Z_H_A_ADD:
 4461 0000 AD       		.byte	-83
 4462              		.section	.data.OUT_Z_H_G_ADD,"aw",%progbits
 4463              		.set	.LANCHOR27,. + 0
 4466              	OUT_Z_H_G_ADD:
 4467 0000 AD       		.byte	-83
 4468              		.section	.data.OUT_Z_L_A_ADD,"aw",%progbits
 4469              		.set	.LANCHOR34,. + 0
 4472              	OUT_Z_L_A_ADD:
 4473 0000 AC       		.byte	-84
 4474              		.section	.data.OUT_Z_L_G_ADD,"aw",%progbits
 4475              		.set	.LANCHOR28,. + 0
 4478              	OUT_Z_L_G_ADD:
 4479 0000 AC       		.byte	-84
 4480              		.section	.data.SCL_A_16,"aw",%progbits
 4481              		.set	.LANCHOR20,. + 0
 4484              	SCL_A_16:
 4485 0000 20       		.byte	32
 4486              		.section	.data.SCL_A_4,"aw",%progbits
 4487              		.set	.LANCHOR17,. + 0
 4490              	SCL_A_4:
 4491 0000 08       		.byte	8
 4492              		.section	.data.SCL_A_6,"aw",%progbits
 4493              		.set	.LANCHOR18,. + 0
 4496              	SCL_A_6:
 4497 0000 10       		.byte	16
 4498              		.section	.data.SCL_A_8,"aw",%progbits
 4499              		.set	.LANCHOR19,. + 0
 4502              	SCL_A_8:
 4503 0000 18       		.byte	24
 4504              		.section	.data.SCL_G_1000,"aw",%progbits
 4505              		.set	.LANCHOR13,. + 0
 4508              	SCL_G_1000:
 4509 0000 20       		.byte	32
 4510              		.section	.data.SCL_G_2000,"aw",%progbits
 4511              		.set	.LANCHOR14,. + 0
 4514              	SCL_G_2000:
 4515 0000 30       		.byte	48
ARM GAS  /tmp/ccqVNF68.s 			page 109


 4516              		.section	.data.SCL_G_500,"aw",%progbits
 4517              		.set	.LANCHOR12,. + 0
 4520              	SCL_G_500:
 4521 0000 10       		.byte	16
 4522              		.section	.data.SCL_M_12,"aw",%progbits
 4525              	SCL_M_12:
 4526 0000 60       		.byte	96
 4527              		.section	.data.SCL_M_4,"aw",%progbits
 4530              	SCL_M_4:
 4531 0000 20       		.byte	32
 4532              		.section	.data.SCL_M_8,"aw",%progbits
 4535              	SCL_M_8:
 4536 0000 40       		.byte	64
 4537              		.section	.data.WHO_AM_I_G,"aw",%progbits
 4538              		.set	.LANCHOR22,. + 0
 4541              	WHO_AM_I_G:
 4542 0000 8F       		.byte	-113
 4543              		.section	.data.WHO_AM_I_XM,"aw",%progbits
 4544              		.set	.LANCHOR21,. + 0
 4547              	WHO_AM_I_XM:
 4548 0000 8F       		.byte	-113
 4549              		.section	.rodata.LSMD9S0_accel_gyro_init.str1.4,"aMS",%progbits,1
 4550              		.align	2
 4551              	.LC1:
 4552 0000 3C494D55 		.ascii	"<IMU> Initialization -> Done\015\012\000"
 4552      3E20496E 
 4552      69746961 
 4552      6C697A61 
 4552      74696F6E 
 4553              		.section	.rodata.checksum.str1.4,"aMS",%progbits,1
 4554              		.align	2
 4555              	.LC0:
 4556 0000 257800   		.ascii	"%x\000"
 4557              		.section	.rodata.gps_init.str1.4,"aMS",%progbits,1
 4558              		.align	2
 4559              	.LC2:
 4560 0000 24504D54 		.ascii	"$PMTK251,115200*1F\015\012\000"
 4560      4B323531 
 4560      2C313135 
 4560      3230302A 
 4560      31460D0A 
 4561 0015 000000   		.space	3
 4562              	.LC3:
 4563 0018 24504D54 		.ascii	"$PMTK220,100*2F\015\012\000"
 4563      4B323230 
 4563      2C313030 
 4563      2A32460D 
 4563      0A00
 4564 002a 0000     		.space	2
 4565              	.LC4:
 4566 002c 24504D54 		.ascii	"$PMTK314,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0*28\015"
 4566      4B333134 
 4566      2C302C30 
 4566      2C312C31 
 4566      2C302C30 
 4567 005e 0A00     		.ascii	"\012\000"
 4568              	.LC5:
ARM GAS  /tmp/ccqVNF68.s 			page 110


 4569 0060 3030302E 		.ascii	"000.00\000"
 4569      303000
 4570 0067 00       		.space	1
 4571              	.LC6:
 4572 0068 30303030 		.ascii	"0000.0000\000"
 4572      2E303030 
 4572      3000
 4573 0072 0000     		.space	2
 4574              	.LC7:
 4575 0074 4E00     		.ascii	"N\000"
 4576 0076 0000     		.space	2
 4577              	.LC8:
 4578 0078 30303030 		.ascii	"00000.0000\000"
 4578      302E3030 
 4578      303000
 4579 0083 00       		.space	1
 4580              	.LC9:
 4581 0084 5700     		.ascii	"W\000"
 4582 0086 0000     		.space	2
 4583              	.LC10:
 4584 0088 30303030 		.ascii	"0000.0\000"
 4584      2E3000
 4585 008f 00       		.space	1
 4586              	.LC11:
 4587 0090 30303030 		.ascii	"000000\000"
 4587      303000
 4588              		.text
 4589              	.Letext0:
 4590              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 4591              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 4592              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 4593              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 4594              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 4595              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 4596              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 4597              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 4598              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 4599              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_can.h"
 4600              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 4601              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 4602              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 4603              		.file 15 "/usr/include/newlib/sys/lock.h"
 4604              		.file 16 "/usr/include/newlib/sys/_types.h"
 4605              		.file 17 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 4606              		.file 18 "/usr/include/newlib/sys/reent.h"
 4607              		.file 19 "/usr/include/newlib/stdlib.h"
 4608              		.file 20 "/usr/include/newlib/math.h"
 4609              		.file 21 "Inc/Eagle_TRT.h"
 4610              		.file 22 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim_ex.h"
 4611              		.file 23 "/usr/include/newlib/stdio.h"
 4612              		.file 24 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 4613              		.file 25 "/usr/include/newlib/string.h"
 4614              		.file 26 "/usr/include/newlib/malloc.h"
ARM GAS  /tmp/ccqVNF68.s 			page 111


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Eagle_TRT.c
     /tmp/ccqVNF68.s:18     .text.next:0000000000000000 $t
     /tmp/ccqVNF68.s:24     .text.next:0000000000000000 next
     /tmp/ccqVNF68.s:45     .text.emptyp:0000000000000000 $t
     /tmp/ccqVNF68.s:51     .text.emptyp:0000000000000000 emptyp
     /tmp/ccqVNF68.s:73     .text.fullp:0000000000000000 $t
     /tmp/ccqVNF68.s:79     .text.fullp:0000000000000000 fullp
     /tmp/ccqVNF68.s:109    .text.checksum:0000000000000000 $t
     /tmp/ccqVNF68.s:115    .text.checksum:0000000000000000 checksum
     /tmp/ccqVNF68.s:242    .text.checksum:0000000000000080 $d
     /tmp/ccqVNF68.s:247    .text.send_config:0000000000000000 $t
     /tmp/ccqVNF68.s:254    .text.send_config:0000000000000000 send_config
     /tmp/ccqVNF68.s:325    .text.send_config:000000000000005c $d
                            *COM*:0000000000000238 imu
     /tmp/ccqVNF68.s:331    .text.LSMD9S0_accel_gyro_init:0000000000000000 $t
     /tmp/ccqVNF68.s:338    .text.LSMD9S0_accel_gyro_init:0000000000000000 LSMD9S0_accel_gyro_init
     /tmp/ccqVNF68.s:440    .text.LSMD9S0_accel_gyro_init:00000000000000ba $d
     /tmp/ccqVNF68.s:567    .text.LSMD9S0_accel_gyro_init:000000000000018c $d
     /tmp/ccqVNF68.s:596    .text.LSMD9S0_read:0000000000000000 $t
     /tmp/ccqVNF68.s:603    .text.LSMD9S0_read:0000000000000000 LSMD9S0_read
     /tmp/ccqVNF68.s:730    .text.LSMD9S0_read:00000000000000d0 $d
     /tmp/ccqVNF68.s:735    .text.LSMD9S0_check:0000000000000000 $t
     /tmp/ccqVNF68.s:742    .text.LSMD9S0_check:0000000000000000 LSMD9S0_check
     /tmp/ccqVNF68.s:871    .text.LSMD9S0_check:00000000000000bc $d
                            *COM*:0000000000000001 WHO_AM_I_XM_VAL
                            *COM*:0000000000000001 WHO_AM_I_G_VAL
     /tmp/ccqVNF68.s:883    .text.LSMD9S0_gyro_read:0000000000000000 $t
     /tmp/ccqVNF68.s:890    .text.LSMD9S0_gyro_read:0000000000000000 LSMD9S0_gyro_read
     /tmp/ccqVNF68.s:979    .text.LSMD9S0_gyro_read:0000000000000098 $d
     /tmp/ccqVNF68.s:992    .text.LSMD9S0_accel_read:0000000000000000 $t
     /tmp/ccqVNF68.s:999    .text.LSMD9S0_accel_read:0000000000000000 LSMD9S0_accel_read
     /tmp/ccqVNF68.s:1070   .text.LSMD9S0_accel_read:0000000000000078 $d
     /tmp/ccqVNF68.s:1081   .text.CAN_Send:0000000000000000 $t
     /tmp/ccqVNF68.s:1088   .text.CAN_Send:0000000000000000 CAN_Send
     /tmp/ccqVNF68.s:1163   .text.CAN_Receive:0000000000000000 $t
     /tmp/ccqVNF68.s:1170   .text.CAN_Receive:0000000000000000 CAN_Receive
     /tmp/ccqVNF68.s:1219   .text.init:0000000000000000 $t
     /tmp/ccqVNF68.s:1226   .text.init:0000000000000000 init
     /tmp/ccqVNF68.s:1246   .text.push:0000000000000000 $t
     /tmp/ccqVNF68.s:1253   .text.push:0000000000000000 push
     /tmp/ccqVNF68.s:1321   .text.pop:0000000000000000 $t
     /tmp/ccqVNF68.s:1328   .text.pop:0000000000000000 pop
     /tmp/ccqVNF68.s:1394   .text.print:0000000000000000 $t
     /tmp/ccqVNF68.s:1401   .text.print:0000000000000000 print
     /tmp/ccqVNF68.s:1454   .text.print:0000000000000030 $d
     /tmp/ccqVNF68.s:1459   .text.print_it:0000000000000000 $t
     /tmp/ccqVNF68.s:1466   .text.print_it:0000000000000000 print_it
     /tmp/ccqVNF68.s:1516   .text.print_it:0000000000000028 $d
     /tmp/ccqVNF68.s:1521   .text.gps_init:0000000000000000 $t
     /tmp/ccqVNF68.s:1528   .text.gps_init:0000000000000000 gps_init
     /tmp/ccqVNF68.s:1683   .text.gps_init:00000000000000fc $d
                            *COM*:0000000000000004 huart_GPS
                            *COM*:0000000000000002 buffer_gps
     /tmp/ccqVNF68.s:1701   .text.gps_read_it:0000000000000000 $t
     /tmp/ccqVNF68.s:1708   .text.gps_read_it:0000000000000000 gps_read_it
     /tmp/ccqVNF68.s:2174   .text.gps_read_it:0000000000000280 $d
ARM GAS  /tmp/ccqVNF68.s 			page 112


                            *COM*:0000000000000001 data_string_gps
                            *COM*:0000000000000004 cont_string
                            *COM*:0000000000000064 string_gps
                            *COM*:000000000000001c can
                            *COM*:0000000000000004 cont_comma
     /tmp/ccqVNF68.s:2193   .text.gps_read_it:00000000000002c0 $t
     /tmp/ccqVNF68.s:2264   .text.gps_read_it:0000000000000330 $d
     /tmp/ccqVNF68.s:2271   .text.ReinitTIM7:0000000000000000 $t
     /tmp/ccqVNF68.s:2278   .text.ReinitTIM7:0000000000000000 ReinitTIM7
     /tmp/ccqVNF68.s:2370   .text.ReinitTIM7:0000000000000088 $d
     /tmp/ccqVNF68.s:2380   .text.enc_calculate_optimal_frequency:0000000000000000 $t
     /tmp/ccqVNF68.s:2387   .text.enc_calculate_optimal_frequency:0000000000000000 enc_calculate_optimal_frequency
     /tmp/ccqVNF68.s:2517   .text.enc_calculate_optimal_frequency:00000000000000d4 $d
     /tmp/ccqVNF68.s:2524   .text.calc_pot_value:0000000000000000 $t
     /tmp/ccqVNF68.s:2531   .text.calc_pot_value:0000000000000000 calc_pot_value
     /tmp/ccqVNF68.s:2580   .text.implausibility_check:0000000000000000 $t
     /tmp/ccqVNF68.s:2587   .text.implausibility_check:0000000000000000 implausibility_check
     /tmp/ccqVNF68.s:2666   .text.set_max:0000000000000000 $t
     /tmp/ccqVNF68.s:2673   .text.set_max:0000000000000000 set_max
     /tmp/ccqVNF68.s:2689   .text.set_min:0000000000000000 $t
     /tmp/ccqVNF68.s:2696   .text.set_min:0000000000000000 set_min
     /tmp/ccqVNF68.s:2713   .text.Power:0000000000000000 $t
     /tmp/ccqVNF68.s:2720   .text.Power:0000000000000000 Power
     /tmp/ccqVNF68.s:2783   .text.Power:000000000000003c $d
     /tmp/ccqVNF68.s:2789   .text.bin_dec:0000000000000000 $t
     /tmp/ccqVNF68.s:2796   .text.bin_dec:0000000000000000 bin_dec
     /tmp/ccqVNF68.s:2868   .text.read_encoder:0000000000000000 $t
     /tmp/ccqVNF68.s:2875   .text.read_encoder:0000000000000000 read_encoder
     /tmp/ccqVNF68.s:3058   .text.read_encoder:0000000000000128 $d
     /tmp/ccqVNF68.s:3065   .text.shift_array:0000000000000000 $t
     /tmp/ccqVNF68.s:3072   .text.shift_array:0000000000000000 shift_array
     /tmp/ccqVNF68.s:3138   .text.speed_filter:0000000000000000 $t
     /tmp/ccqVNF68.s:3145   .text.speed_filter:0000000000000000 speed_filter
     /tmp/ccqVNF68.s:3292   .text.speed_filter:00000000000000a8 $d
     /tmp/ccqVNF68.s:3300   .text.dynamic_average:0000000000000000 $t
     /tmp/ccqVNF68.s:3307   .text.dynamic_average:0000000000000000 dynamic_average
     /tmp/ccqVNF68.s:3375   .text.imu_elaborate_data:0000000000000000 $t
     /tmp/ccqVNF68.s:3382   .text.imu_elaborate_data:0000000000000000 imu_elaborate_data
     /tmp/ccqVNF68.s:3564   .text.imu_elaborate_data:0000000000000150 $d
     /tmp/ccqVNF68.s:3570   .text.LSM9DS0_calibration:0000000000000000 $t
     /tmp/ccqVNF68.s:3577   .text.LSM9DS0_calibration:0000000000000000 LSM9DS0_calibration
     /tmp/ccqVNF68.s:3697   .text.LSM9DS0_calibration:00000000000000a0 $d
     /tmp/ccqVNF68.s:3703   .text.get_speed_encoder:0000000000000000 $t
     /tmp/ccqVNF68.s:3710   .text.get_speed_encoder:0000000000000000 get_speed_encoder
     /tmp/ccqVNF68.s:4087   .text.get_speed_encoder:00000000000002a8 $d
     /tmp/ccqVNF68.s:4105   .text.encoder_tim_interrupt:0000000000000000 $t
     /tmp/ccqVNF68.s:4112   .text.encoder_tim_interrupt:0000000000000000 encoder_tim_interrupt
     /tmp/ccqVNF68.s:4208   .text.encoder_tim_interrupt:0000000000000080 $d
                            *COM*:0000000000000018 pot_3
                            *COM*:0000000000000018 pot_2
                            *COM*:0000000000000018 pot_1
                            *COM*:00000000000003f0 enc
     /tmp/ccqVNF68.s:4315   .bss.start_string_gps:0000000000000000 start_string_gps
     /tmp/ccqVNF68.s:4308   .bss.print_q:0000000000000000 print_q
                            *COM*:0000000000000238 gyro
                            *COM*:0000000000000238 accel
     /tmp/ccqVNF68.s:4460   .data.OUT_Z_H_A_ADD:0000000000000000 OUT_Z_H_A_ADD
ARM GAS  /tmp/ccqVNF68.s 			page 113


     /tmp/ccqVNF68.s:4472   .data.OUT_Z_L_A_ADD:0000000000000000 OUT_Z_L_A_ADD
     /tmp/ccqVNF68.s:4436   .data.OUT_Y_H_A_ADD:0000000000000000 OUT_Y_H_A_ADD
     /tmp/ccqVNF68.s:4448   .data.OUT_Y_L_A_ADD:0000000000000000 OUT_Y_L_A_ADD
     /tmp/ccqVNF68.s:4412   .data.OUT_X_H_A_ADD:0000000000000000 OUT_X_H_A_ADD
     /tmp/ccqVNF68.s:4424   .data.OUT_X_L_A_ADD:0000000000000000 OUT_X_L_A_ADD
     /tmp/ccqVNF68.s:4466   .data.OUT_Z_H_G_ADD:0000000000000000 OUT_Z_H_G_ADD
     /tmp/ccqVNF68.s:4478   .data.OUT_Z_L_G_ADD:0000000000000000 OUT_Z_L_G_ADD
     /tmp/ccqVNF68.s:4442   .data.OUT_Y_H_G_ADD:0000000000000000 OUT_Y_H_G_ADD
     /tmp/ccqVNF68.s:4454   .data.OUT_Y_L_G_ADD:0000000000000000 OUT_Y_L_G_ADD
     /tmp/ccqVNF68.s:4418   .data.OUT_X_H_G_ADD:0000000000000000 OUT_X_H_G_ADD
     /tmp/ccqVNF68.s:4430   .data.OUT_X_L_G_ADD:0000000000000000 OUT_X_L_G_ADD
     /tmp/ccqVNF68.s:4525   .data.SCL_M_12:0000000000000000 SCL_M_12
     /tmp/ccqVNF68.s:4535   .data.SCL_M_8:0000000000000000 SCL_M_8
     /tmp/ccqVNF68.s:4530   .data.SCL_M_4:0000000000000000 SCL_M_4
     /tmp/ccqVNF68.s:4296   .bss.SCL_M_2:0000000000000000 SCL_M_2
     /tmp/ccqVNF68.s:4388   .data.CTRL_REG6_XM:0000000000000000 CTRL_REG6_XM
     /tmp/ccqVNF68.s:4484   .data.SCL_A_16:0000000000000000 SCL_A_16
     /tmp/ccqVNF68.s:4502   .data.SCL_A_8:0000000000000000 SCL_A_8
     /tmp/ccqVNF68.s:4496   .data.SCL_A_6:0000000000000000 SCL_A_6
     /tmp/ccqVNF68.s:4490   .data.SCL_A_4:0000000000000000 SCL_A_4
     /tmp/ccqVNF68.s:4285   .bss.SCL_A_2:0000000000000000 SCL_A_2
     /tmp/ccqVNF68.s:4345   .data.CTRL_REG2_XM:0000000000000000 CTRL_REG2_XM
     /tmp/ccqVNF68.s:4514   .data.SCL_G_2000:0000000000000000 SCL_G_2000
     /tmp/ccqVNF68.s:4508   .data.SCL_G_1000:0000000000000000 SCL_G_1000
     /tmp/ccqVNF68.s:4520   .data.SCL_G_500:0000000000000000 SCL_G_500
     /tmp/ccqVNF68.s:4291   .bss.SCL_G_245:0000000000000000 SCL_G_245
     /tmp/ccqVNF68.s:4361   .data.CTRL_REG4_G:0000000000000000 CTRL_REG4_G
     /tmp/ccqVNF68.s:4279   .bss.CTRL_REG7_XM_VAL:0000000000000000 CTRL_REG7_XM_VAL
     /tmp/ccqVNF68.s:4406   .data.CTRL_REG7_XM_ADD:0000000000000000 CTRL_REG7_XM_ADD
     /tmp/ccqVNF68.s:4400   .data.CTRL_REG6_XM_VAL:0000000000000000 CTRL_REG6_XM_VAL
     /tmp/ccqVNF68.s:4394   .data.CTRL_REG6_XM_ADD:0000000000000000 CTRL_REG6_XM_ADD
     /tmp/ccqVNF68.s:4383   .data.CTRL_REG5_XM_VAL:0000000000000000 CTRL_REG5_XM_VAL
     /tmp/ccqVNF68.s:4377   .data.CTRL_REG5_XM_ADD:0000000000000000 CTRL_REG5_XM_ADD
     /tmp/ccqVNF68.s:4355   .data.CTRL_REG2_XM_VAL:0000000000000000 CTRL_REG2_XM_VAL
     /tmp/ccqVNF68.s:4350   .data.CTRL_REG2_XM_ADD:0000000000000000 CTRL_REG2_XM_ADD
     /tmp/ccqVNF68.s:4339   .data.CTRL_REG1_XM_VAL:0000000000000000 CTRL_REG1_XM_VAL
     /tmp/ccqVNF68.s:4333   .data.CTRL_REG1_XM_ADD:0000000000000000 CTRL_REG1_XM_ADD
     /tmp/ccqVNF68.s:4371   .data.CTRL_REG4_G_VAL:0000000000000000 CTRL_REG4_G_VAL
     /tmp/ccqVNF68.s:4366   .data.CTRL_REG4_G_ADD:0000000000000000 CTRL_REG4_G_ADD
     /tmp/ccqVNF68.s:4327   .data.CTRL_REG1_G_VAL:0000000000000000 CTRL_REG1_G_VAL
     /tmp/ccqVNF68.s:4321   .data.CTRL_REG1_G_ADD:0000000000000000 CTRL_REG1_G_ADD
     /tmp/ccqVNF68.s:4547   .data.WHO_AM_I_XM:0000000000000000 WHO_AM_I_XM
     /tmp/ccqVNF68.s:4541   .data.WHO_AM_I_G:0000000000000000 WHO_AM_I_G
     /tmp/ccqVNF68.s:4301   .bss.ZERO:0000000000000000 ZERO
     /tmp/ccqVNF68.s:4280   .bss.CTRL_REG7_XM_VAL:0000000000000000 $d
     /tmp/ccqVNF68.s:4286   .bss.SCL_A_2:0000000000000000 $d
     /tmp/ccqVNF68.s:4292   .bss.SCL_G_245:0000000000000000 $d
     /tmp/ccqVNF68.s:4297   .bss.SCL_M_2:0000000000000000 $d
     /tmp/ccqVNF68.s:4302   .bss.ZERO:0000000000000000 $d
     /tmp/ccqVNF68.s:4304   .bss.print_q:0000000000000000 $d
     /tmp/ccqVNF68.s:4311   .bss.start_string_gps:0000000000000000 $d
     /tmp/ccqVNF68.s:4550   .rodata.LSMD9S0_accel_gyro_init.str1.4:0000000000000000 $d
     /tmp/ccqVNF68.s:4554   .rodata.checksum.str1.4:0000000000000000 $d
     /tmp/ccqVNF68.s:4558   .rodata.gps_init.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/ccqVNF68.s:455    .text.LSMD9S0_accel_gyro_init:00000000000000c9 $d
     /tmp/ccqVNF68.s:455    .text.LSMD9S0_accel_gyro_init:00000000000000ca $t
ARM GAS  /tmp/ccqVNF68.s 			page 114



UNDEFINED SYMBOLS
sprintf
HAL_GPIO_WritePin
HAL_SPI_Transmit
htim2
HAL_Delay
HAL_UART_Transmit
huart2
HAL_SPI_Receive
__aeabi_f2d
HAL_CAN_GetTxMailboxesFreeLevel
HAL_CAN_IsTxMessagePending
HAL_CAN_AddTxMessage
HAL_CAN_GetRxFifoFillLevel
HAL_CAN_GetRxMessage
strlen
malloc
strcpy
free
HAL_UART_Transmit_IT
HAL_UART_Init
HAL_UART_Receive_IT
__aeabi_dmul
__aeabi_d2iz
atof
sqrt
HAL_TIM_Base_Init
HAL_TIMEx_MasterConfigSynchronization
__aeabi_dcmpge
__aeabi_dcmpgt
__aeabi_dcmplt
__aeabi_ddiv
__aeabi_d2f
__aeabi_i2d
__aeabi_dadd
HAL_GPIO_ReadPin
__aeabi_dsub
__aeabi_dcmple
round
